---

categories: 软件设计师
layout:     post
title:      "第二章 程序设计语言基础知识"
date:       2021-03-06 20:34:55
author:     "Balbo"
header-img: "img/post-bg-2019.jpg"
catalog: true
tags:
    - 软件设计师

---

# 2.2 语言处理程序基础

## 2.2.2 编译程序基本原理

1. 文法和语言的形式描述

   1. 字母表、字符串、字符串集合及运算

      + 字母表 $\sum$ 和字符：字母表时字符的非空有穷集合，字符是字母表 $\sum$ 中的元素。例如 $\sum=\left\{a,b\right\}$，a 或 b 是字符。
      + 字符串：$\sum$ 中的字符组成的有穷序列。例如 $a、ab、aaa$ 都是 $\sum$ 上的字符串。
      + 字符串的长度：指字符串中的字符个数。如$|aba|=3$。
      + 空串 $\varepsilon$：由零个字符组成的序列。如$|\varepsilon|=0$。
      + 连接：字符串 S 和 T 的连接是指将串 T 接续在串 S 之后，表示为 $S·T$，连接符号“·”可省略。显然，对于字母表 $\sum$ 上的任意字符串 S，$S·\varepsilon=\varepsilon·S=S$。
      + $\sum^*$：指包括空串 $\varepsilon$ 在内的 $\sum$ 上的所有字符串的集合。例如，设 $\sum=\left\{a,b\right\}$，$\sum^*=\left\{\varepsilon,a,b,aa,bb,ab,ba,aaa,\cdots\right\}$。
      + 字符串的方幂：把字符 $\alpha$ 自身连接 n 次得到的串，称为字符串 $\alpha$ 的 n 次方幂，记为 $\alpha^n$。$ \alpha^0=\varepsilon,\alpha^n=\alpha\alpha^{n-1}=\alpha^{n-1}\alpha$(n>0)。
      + 字符串集合的运算：设A、B代表字母表 $\sum$ 上的两个字符串集合。
        + 或（合并）：$A∨B=\left\{\alpha|\alpha∈A或\alpha∈B\right\}$。
        + 积（连接）：$AB=\left\{\alpha\beta|\alpha∈A且\beta∈B\right\}$。
        + 幂：$A^n=A*A^{n-1}=A^{n-1}*A$(n>0)，并规定$A^0=\left\{\varepsilon\right\}$。
        + 正则闭包+：$A^+=A^1∨A^2∨A^3∨\cdots∨A^n∨\cdots$。
        + 闭包$^*$： $A^*=A^0∨A^+$。显然，$\sum^*=\sum^0∨\sum^1∨\sum^2∨\cdots∨\sum^n∨\cdots$。

   2. 文法和语言的形式描述

      1. 文法的定义

           描述语言语法结构的规则称为文法。文法 G 是一个四元组，可表示为 $G=(V_N,V_T,P,S)$,其中 $V_T$ 是一个非空有限集，其每个元素称为一个终结符；$V_N$ 是一个非空有限集，其每个元素称为非终结符。$V_N∧V_T=\phi$，即 $V_N$ 和 $V_T$不含公共元素。令$V=V_N∨V_T$，称 V 为文法 G 的词汇表，V 中的符号称为文法符号，包括终结符和非终结符。P 是产生式的有限集合，每个产生式是形如 $\alpha→\beta$ 的规则，其中，$\alpha$ 称为产生式的左部，$\alpha∈V^+$ 且 $\alpha$ 中至少含有一个非终结符；$\beta$ 称为产生式的右部，且$\beta∈V^*$。若干个产生式$\alpha→\beta_1,\alpha→\beta_2,\cdots,\alpha→\beta_n$ 的左部相同时，可简写为 $\alpha→\beta_1|\beta_2|\cdots|\beta_n$，称$\beta_i(1\leq i\leq n)$ 为 $\alpha$ 的一个候选式。$S∈V_N$，称为开始符号，它至少要在一条产生式中作为左部出现。

      2. 文法的分类

           文法分成 4 中类型，即 0 型、1 型、2 型和 3 型。

           若文法 $G=(V_N,V_T,P,S)$ 的每个产生式 $\alpha→\beta$，均有 $\alpha∈(V_N∨V_T)^+$，$\alpha$ 至少含有一个非终结符，且 $\beta∈(V_N∨V_T)^*$，则称 G 为 0 型文法。对 0 型文法的每条产生式分别施加以下限制，则可得以下文法：

         + 1 型文法：G 的任何产生式 $\alpha→\beta$（ $S→\varepsilon$ 除外）均满足 $|\alpha|\leq|\beta|$（$|x| $表示 x 中文法符号的个数）
         + 2 型文法：G 的任何产生式 $A→\beta$，其中$A∈V_N$，$\beta∈(V_N∨V_T)^*$。
         + 3 型文法：G 的任何产生式 $A→a$ 或 $A→aB$（或者$A→Bb$），其中 $A，B∈V_N$,$a∈V_T$。

      3. 句子和语言

             设有文法 $G=(V_N,V_T,P,S)$

           + 推导与直接推导：

               推导就是从文法的开始符号 S 出发，反复使用产生式，将产生式左部的非终结符替换为右部的文法符号序列，知道产生一个终结符的序列时为止。若有产生式 $\alpha→\beta∈P$，$\gamma$，$\delta∈V^*$，则 $\gamma\alpha\delta⇒ \gamma\beta\delta$ 称为文法 G 中的一个直接推导，并称 $\gamma\alpha\delta$ 可直接推导出 $\gamma\beta\delta$。显然，对于 P 中的每一个产生式 $\alpha→\beta$ 都有 $\alpha⇒ \beta$。若在文法中存在一个直接推导序列，即 $\alpha_0⇒\alpha_1⇒\alpha_2⇒\cdots⇒\alpha_n$(n>0)，则称 $\alpha_0$ 可推导出 $\alpha_n$，$\alpha_n$ 是 $\alpha_0$ 的一个推导，并记为 $\alpha_0⇒^+_G\alpha_n$。用记号  $\alpha_0⇒^*_G\alpha_n$ 表示 $\alpha_0⇒\alpha_n$ 或者 $\alpha_0⇒^+_G\alpha_n$。

           + 直接归约与归约：

               若文法 G 中有一个直接推导 $\alpha⇒ \beta$，则称 $\beta$ 可直接归约成 $\alpha$，或 $\alpha$ 是 $\beta$ 的一个直接归约。若文法 G 中有一个推导 $\gamma⇒^*_G\delta$，则称 $\delta$ 可归约成 $\gamma$，或 $\gamma$ 是 $\delta$ 的一个归约。

           + 句型和句子：

               若文法 G 的开始符号为 S，那么，从开始符号 S 能推导出的符号串称为文法的一个句型，即 $\alpha$ 是文法 G 的一个句型，当且仅当存在推导 $S⇒^*_G\alpha,\alpha∈V^*$。若 X 是文法 G 的一个句型，且 $X∈V_T^*$，则称 X 是文法 G的一个句子，即仅含终结符的句型是一个句子。

           + 语言：

               从文法 G 的开始符号出发，能推导出的句子的全体称为文法 G 产生的语言，记为L(G)。

      4. 文法的等价

             若文法 $G_1$ 与文法 $G_2$ 产生的语言相同，即 $L(G_1)=L(G_2)$，则称这两个文法是等价的。

2. 词法分析

     语言中具有独立含义的最小语法单位是符号，如标识符、无符号常数与界限符等。词法分析的任务是把构成源程序的字符串转换成凡此符号序列。

   1. 正规表达式和正规集

        对于字母表 $\sum$，其上的正规式机器表示的正规集可以递归定义如下。

      1. $\varepsilon$ 是一个正规式，它表示集合 $L(\varepsilon)=\left\{\varepsilon\right\}$。

      2. 若 a 是 $\sum$ 上的字符，则 a 是一个正规式，它所表示的正规集为 $\left\{a\right\}$。

      3. 若正规式 r 和 s 分别表示正规集 L(r) 和 L(s)，则：

         1. $r|s$ 是正规式，表示集合 $L(r)∨L(s)$。
         2. $r·s$ 是正规式，表示集合 $L(r)L(s)$。
         3. $r^*$ 是正规式，表示集合 $(L(r))^*$。
         4. $(r)$ 是正规式，表示集合 $L(r)$。

           仅通过有限次地使用上述 3 个步骤定义的表达式才是 $\sum$ 上的正规式，其中，运算符“ | ”、“ · ” 和 “ * ”分别称为”或“、”连接”和“闭包”。在正规式的书写中，连接运算符“ · ”可以省略。运算符的优先级从高到低顺序排列为“ * ”、“ · ”、“ | ”。

         | 正规式                 | 正规集                                         |
         | ---------------------- | ---------------------------------------------- |
         | a                      | {a}                                            |
         | a\|b                   | {a,b}                                          |
         | ab                     | {ab}                                           |
         | (a\|b)(a\|b)           | {aa,ab,ba,bb}                                  |
         | a*                     | {ε,a,a, ……任意个a的串}                         |
         | (a\|b)*                | {ε,a,b,aa,ab ……所有由a和b组成的串}             |
         | (a\|b)*(aa\|bb)(a\|b)* | {∑*上所有含有两个相继的a或两个相继的b组成的串} |

   2. 有限自动机

3. 正归式与有限自动机之间的转换

4. 词法分析器的构造

5. 语法分析

6. 语法制导翻译和中间代码生成

7. 中间代码优化和目标代码生成

## 2.2.3 解释程序基本原理

1. 解释程序的基本结构
2. 高级语言翻译与解释方式的比较