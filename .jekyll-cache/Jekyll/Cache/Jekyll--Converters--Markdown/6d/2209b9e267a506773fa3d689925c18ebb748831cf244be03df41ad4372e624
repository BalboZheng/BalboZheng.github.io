I"¹<p><a href="https://download.csdn.net/download/weixin_38547397/16210808?utm_medium=distribute.pc_relevant_download.none-task-download-2~default~BlogCommendFromBaidu~Rate-3.dl_default&amp;depth_1-utm_source=distribute.pc_relevant_download.none-task-download-2~default~BlogCommendFromBaidu~Rate-3.dl_default&amp;dest=https%3A%2F%2Fdownload.csdn.net%2Fdownload%2Fweixin_38547397%2F16210808&amp;spm=1003.2020.3001.6616.3">æ•°æ®æ¥æº</a></p>

<p>Â«Â«Â«&lt; HEAD</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
=======
```python
"""
1. è·å–æ•°æ®é›†
2. æ•°æ®åŸºæœ¬å¤„ç†
3. ç‰¹å¾å·¥ç¨‹
4. æœºå™¨å­¦ä¹ 
5. æ¨¡å‹è¯„ä¼°
"""
import pandas as pd
from sklearn.decomposition import PCA
from sklearn.cluster import KMeans
from sklearn.metrics import silhouette_score

aisles = pd.read_csv('market-basket/aisles.csv')
order_products__prior = pd.read_csv('market-basket/order_products__prior.csv')
orders = pd.read_csv('market-basket/orders.csv')
products = pd.read_csv('market-basket/products.csv')

# åˆå¹¶è¡¨æ ¼
table1 = pd.merge(order_products__prior, products, on=['product_id', 'product_id'])
table2 = pd.merge(table1, orders, on=['order_id', 'order_id'])
table = pd.merge(table2, aisles, on=['aisle_id', 'aisle_id'])

# äº¤å‰è¡¨åˆå¹¶
table = pd.crosstab(table['user_id'], table['aisle'])

# æ•°æ®æˆªå–
new_table = table[:1000]

# ç‰¹å¾å·¥ç¨‹
transfer = PCA(n_components=0.9)
trans_data = transfer.fit_transform(new_table)

# æœºå™¨å­¦ä¹ 
estimator = KMeans(n_clusters=5)
y_pre = estimator.fit_predict(trans_data)

# æ¨¡å‹è¯„ä¼°
ret = silhouette_score(trans_data, y_pre)
print(ret)
&gt;&gt;&gt;&gt;&gt;&gt;&gt; e5c77ca (æ–°é¡µé¢)
</code></pre></div></div>

:ET