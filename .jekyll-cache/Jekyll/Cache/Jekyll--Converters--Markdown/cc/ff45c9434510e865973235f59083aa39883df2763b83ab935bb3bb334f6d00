I"ÀH<p>Â«Â«Â«&lt; HEAD
Â«Â«Â«&lt; HEAD:_posts/2019-09-06-thymeleaf.md
â€”
layout:     post
title:      â€œThymeleafâ€
subtitle:   â€œSpringBooté¡µé¢å±•ç¤ºThymeleafâ€
date:       2019-09-06 12:30:11
author:     â€œBalboâ€
header-img: â€œimg/post-bg-2019.jpgâ€
tags:
    - springboot
    - thymeleaf
â€”</p>

<p>å¼€å‘ä¼ ç»ŸJava WEBå·¥ç¨‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨JSPé¡µé¢æ¨¡æ¿è¯­è¨€ï¼Œä½†æ˜¯åœ¨SpringBootä¸­å·²ç»ä¸æ¨èä½¿ç”¨äº†ã€‚SpringBootæ”¯æŒå¦‚ä¸‹é¡µé¢æ¨¡æ¿è¯­è¨€</p>
<ul>
  <li>Thymeleaf</li>
  <li>FreeMarker</li>
  <li>Velocity</li>
  <li>Groovy</li>
  <li>JSP</li>
</ul>

<p>ä¸Šé¢å¹¶æ²¡æœ‰åˆ—ä¸¾æ‰€æœ‰SpringBootæ”¯æŒçš„é¡µé¢æ¨¡æ¿æŠ€æœ¯ã€‚å…¶ä¸­Thymeleafæ˜¯SpringBootå®˜æ–¹æ‰€æ¨èä½¿ç”¨çš„ï¼Œä¸‹é¢æ¥è°ˆè°ˆThymeleafä¸€äº›å¸¸ç”¨çš„è¯­æ³•è§„åˆ™ã€‚</p>
<h2 id="æ·»åŠ thymeleafä¾èµ–">æ·»åŠ Thymeleafä¾èµ–</h2>
<p>è¦æƒ³ä½¿ç”¨Thhymeleafï¼Œé¦–å…ˆè¦åœ¨pom.xmlæ–‡ä»¶ä¸­å•ç‹¬æ·»åŠ Thymeleafä¾èµ–ã€‚</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">boot</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">spring</span><span class="o">-</span><span class="n">boot</span><span class="o">-</span><span class="n">starter</span><span class="o">-</span><span class="n">thymeleaf</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>
</code></pre></div></div>
<p>Spring Booté»˜è®¤å­˜æ”¾æ¨¡æ¿é¡µé¢çš„è·¯å¾„åœ¨&lt;font color=#FF0000 &gt;src/main/resources/templates&lt;/font&gt;æˆ–è€…&lt;font color=#FF0000 &gt;src/main/view/templates&lt;/font&gt;ï¼Œè¿™ä¸ªæ— è®ºæ˜¯ä½¿ç”¨ä»€ä¹ˆæ¨¡æ¿è¯­è¨€éƒ½ä¸€æ ·ï¼Œå½“ç„¶é»˜è®¤è·¯å¾„æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œä¸è¿‡ä¸€èˆ¬ä¸æ¨èè¿™æ ·åšã€‚å¦å¤–Thymeleafé»˜è®¤çš„é¡µé¢æ–‡ä»¶åç¼€æ˜¯&lt;font color=#FF0000 &gt;.html&lt;/font&gt;ã€‚</p>
<h2 id="æ•°æ®æ˜¾ç¤º">æ•°æ®æ˜¾ç¤º</h2>
<p>åœ¨MVCçš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é€šè¿‡&lt;font color=#FF0000 &gt;Controller&lt;/font&gt;å°†æ•°æ®ä¼ é€’åˆ°é¡µé¢ä¸­ï¼Œè®©é¡µé¢è¿›è¡ŒåŠ¨æ€å±•ç¤ºã€‚</p>
<h3 id="æ˜¾ç¤ºæ™®é€šæ–‡æœ¬">æ˜¾ç¤ºæ™®é€šæ–‡æœ¬</h3>
<p>åˆ›å»ºä¸€ä¸ªControllerå¯¹è±¡ï¼Œåœ¨å…¶ä¸­è¿›è¡Œå‚æ•°çš„ä¼ é€’</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThymeleafController</span> <span class="o">{</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"show"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">show</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">){</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"uid"</span><span class="o">,</span><span class="s">"123456789"</span><span class="o">);</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span><span class="s">"Jerry"</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"show"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>åœ¨SpringBooté»˜è®¤çš„é¡µé¢è·¯å¾„ä¸‹åˆ›å»ºshow.htmlæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns:th=</span><span class="s">"http://www.thymeleaf.org"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>SpringBootæ¨¡ç‰ˆæ¸²æŸ“<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html;charset=UTF-8"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·IDï¼š' + ${uid}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·åç§°ï¼š' + ${name}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>
<p>å¯ä»¥çœ‹åˆ°åœ¨&lt;font color=#FF0000 &gt;p&lt;/font&gt;æ ‡ç­¾ä¸­æœ‰&lt;font color=#FF0000 &gt;th:text&lt;/font&gt;å±æ€§ï¼Œè¿™ä¸ªå°±æ˜¯thymeleafçš„è¯­æ³•ï¼Œå®ƒè¡¨ç¤ºæ˜¾ç¤ºä¸€ä¸ªæ™®é€šçš„æ–‡æœ¬ä¿¡æ¯ã€‚
å¦‚æœæˆ‘ä»¬è¦æ˜¾ç¤ºçš„ä¿¡æ¯æ˜¯å­˜åœ¨èµ„æºæ–‡ä»¶ä¸­çš„ï¼ŒåŒæ ·å¯ä»¥åœ¨é¡µé¢ä¸­æ˜¾ç¤ºï¼Œä¾‹å¦‚èµ„æºæ–‡ä»¶ä¸­å®šä¹‰äº†å†…å®¹&lt;font color=#FF0000 &gt;welcome.msg=æ¬¢è¿{0}å…‰ä¸´ï¼&lt;/font&gt;ã€‚å¯ä»¥åœ¨é¡µé¢ä¸­å°†å…¶æ˜¾ç¤º</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h2</span> <span class="na">th:text=</span><span class="s">"#{welcome.msg('admin')}"</span><span class="nt">/&gt;</span>
</code></pre></div></div>
<p>å¦å¤–ï¼Œåœ¨&lt;font color=#FF0000 &gt;th:utext&lt;/font&gt;ä¸­è¿˜èƒ½åšä¸€äº›åŸºç¡€çš„æ•°å­¦è¿ç®—</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'æ•°å­¦è®¡ç®—ï¼š1+2=' + (1 + 2)"</span><span class="nt">/&gt;</span>
</code></pre></div></div>
<h3 id="æ˜¾ç¤ºå¸¦æœ‰æ ·å¼çš„æ™®é€šæ–‡æœ¬">æ˜¾ç¤ºå¸¦æœ‰æ ·å¼çš„æ™®é€šæ–‡æœ¬</h3>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦ä¼ é€’åˆ°çš„é¡µé¢çš„ä¿¡æ¯ï¼Œå®ƒæœ¬èº«æ˜¯å¸¦æœ‰CSSæ ·å¼çš„ï¼Œè¿™ä¸ªæ—¶å€™å¦‚ä½•åœ¨é¡µé¢ä¸­å°†æºå¸¦çš„æ ·å¼ä¿¡æ¯ä¹Ÿæ˜¾ç¤ºå‡ºæ¥ï¼Ÿæ­¤æ—¶æˆ‘ä»¬çš„æ§åˆ¶å™¨æ–¹æ³•è¿™æ ·å†™ã€‚</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"showStyle"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">showStyle</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">){</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"uid"</span><span class="o">,</span><span class="s">"123456789"</span><span class="o">);</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span><span class="s">"&lt;span style='color:red'&gt;Jerry&lt;/span&gt;"</span><span class="o">);</span>
    <span class="k">return</span> <span class="s">"show_style"</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p>æ­¤æ—¶é¡µé¢ä¸­éœ€è¦å€ŸåŠ©&lt;font color=#FF0000 &gt;th:utext&lt;/font&gt;å±æ€§è¿›è¡Œæ˜¾ç¤º</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">th:utext=</span><span class="s">"'ç”¨æˆ·åç§°ï¼š' + ${name}"</span><span class="nt">/&gt;</span>
</code></pre></div></div>
<p>é€šè¿‡æµè§ˆå™¨æŸ¥çœ‹é¡µé¢æºç å¯ä»¥çœ‹å‡º&lt;font color=#FF0000 &gt;th:utext&lt;/font&gt;å’Œ&lt;font color=#FF0000 &gt;th:text&lt;/font&gt;çš„åŒºåˆ«æ˜¯ï¼š&lt;font color=#FF0000 &gt;th:text&lt;/font&gt;ä¼šå¯¹&lt;font color=#FF0000 &gt;Â«/font&gt;å’Œ&lt;font color=#FF0000Â Â»&lt;/font&gt;è¿›è¡Œè½¬ä¹‰ï¼Œè€Œ&lt;font color=#FF0000 &gt;th:utext&lt;/font&gt;ä¸ä¼šè½¬ä¹‰ã€‚</p>
<h3 id="æ˜¾ç¤ºå¯¹è±¡">æ˜¾ç¤ºå¯¹è±¡</h3>
<p>æˆ‘ä»¬å¸¸å¸¸éœ€è¦å°†ä¸€ä¸ªbeanä¿¡æ¯å±•ç¤ºåœ¨å‰ç«¯é¡µé¢å½“ä¸­ã€‚</p>

<p>1.ç”¨äºå‰ç«¯å±•ç¤ºçš„VOç±»</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">uid</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Integer</span> <span class="n">age</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Date</span> <span class="n">birthday</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Double</span> <span class="n">salary</span> <span class="o">;</span>
    <span class="c1">//çœç•¥get/setæ–¹æ³•</span>
<span class="o">}</span>
</code></pre></div></div>
<p>2.æ§åˆ¶å™¨æ–¹æ³•</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/message/member_show"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">memberShow</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">User</span> <span class="n">vo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">();</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setUid</span><span class="o">(</span><span class="mi">12345678L</span><span class="o">);</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"å°¼å¤æ‹‰ä¸.èµµå››"</span><span class="o">);</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">59</span><span class="o">);</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setSalary</span><span class="o">(</span><span class="mf">1000.00</span><span class="o">);</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setBirthday</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"member"</span><span class="o">,</span> <span class="n">vo</span><span class="o">);</span>
    <span class="k">return</span> <span class="s">"message/member_show"</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p>3.é¡µé¢å±•ç¤º</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·ç¼–å·ï¼š' + ${member.uid}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å§“åï¼š' + ${member.name}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å¹´é¾„ï¼š' + ${member.age}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å·¥èµ„ï¼š' + ${member.salary}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'å‡ºç”Ÿæ—¥æœŸï¼š' + ${member.birthday}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'å‡ºç”Ÿæ—¥æœŸï¼š' + ${#dates.format(member.birthday,'yyyy-MM-dd')}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;hr/&gt;</span>
<span class="nt">&lt;div</span> <span class="na">th:object=</span><span class="s">"${member}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·ç¼–å·ï¼š' + *{uid}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å§“åï¼š' + *{name}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å¹´é¾„ï¼š' + *{age}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å·¥èµ„ï¼š' + *{salary}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'å‡ºç”Ÿæ—¥æœŸï¼š' + *{birthday}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'å‡ºç”Ÿæ—¥æœŸï¼š' + *{#dates.format(birthday,'yyyy-MM-dd')}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>
<p>ä¸Šé¢ç»™å‡ºäº†ä¸¤ç§å±•ç°æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡${å±æ€§}ï¼Œå¦å¤–ä¸€ç§æ˜¯é€šè¿‡{å±æ€§}ã€‚
<strong>å…³äºâ€œ${å±æ€§}â€å’Œâ€œ{å±æ€§}â€çš„åŒºåˆ«ï¼Ÿ</strong>
$è®¿é—®å®Œæ•´ä¿¡æ¯ï¼Œè€Œè®¿é—®æŒ‡å®šå¯¹è±¡ä¸­çš„å±æ€§å†…å®¹ï¼Œ å¦‚æœè®¿é—®çš„åªæ˜¯æ™®é€šçš„å†…å®¹ä¸¤è€…æ²¡æœ‰åŒºåˆ«</p>
<h2 id="æ•°æ®å¤„ç†">æ•°æ®å¤„ç†</h2>
<p>åœ¨ thymeleaf ä¹‹ä¸­æä¾›æœ‰ç›¸åº”çš„é›†åˆçš„å¤„ç†æ–¹æ³•ï¼Œä¾‹å¦‚ï¼šåœ¨ä½¿ç”¨ List é›†åˆçš„æ—¶å€™å¯ä»¥è€ƒè™‘é‡‡ç”¨ get()æ–¹æ³•è·å–æŒ‡å®šç´¢å¼•çš„æ•°æ®ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨ Set é›†åˆçš„æ—¶å€™ä¼šè€ƒè™‘ä½¿ç”¨ contains()æ¥åˆ¤æ–­æŸä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œä½¿ç”¨ Map é›†åˆçš„æ—¶å€™ä¹Ÿå¸Œæœ›å¯ä»¥ä½¿ç”¨ containsKey()åˆ¤æ–­æŸä¸ª key æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠä½¿ç”¨get()æ ¹æ® key è·å–å¯¹åº”çš„ valueï¼Œè€Œè¿™äº›åŠŸèƒ½åœ¨ä¹‹å‰å¹¶ä¸å…·å¤‡ï¼Œä¸‹é¢æ¥è§‚å¯Ÿå¦‚ä½•åœ¨é¡µé¢ä¸­ä½¿ç”¨æ­¤ç±»æ“ä½œ</p>

<p>1.æ§åˆ¶å™¨æ–¹æ³•å‘é¡µé¢ä¼ é€’ä¸€äº›æ•°æ®ï¼Œä»¥ä¾›æ“ä½œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/user/set"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">set</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">allNames</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;()</span> <span class="o">;</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">allIds</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;()</span> <span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="o">;</span> <span class="n">x</span> <span class="o">++)</span> <span class="o">{</span>
        <span class="n">allNames</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"boot-"</span> <span class="o">+</span> <span class="n">x</span><span class="o">)</span> <span class="o">;</span>
        <span class="n">allIds</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">;</span>
    <span class="o">}</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"names"</span><span class="o">,</span> <span class="n">allNames</span><span class="o">)</span> <span class="o">;</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"ids"</span><span class="o">,</span> <span class="n">allIds</span><span class="o">)</span> <span class="o">;</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"mydate"</span><span class="o">,</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Date</span><span class="o">())</span> <span class="o">;</span>
    <span class="k">return</span> <span class="s">"user_set"</span> <span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p>2.æ•°æ®å¤„ç†</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#dates.format(mydate,'yyyy-MM-dd')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#dates.format(mydate,'yyyy-MM-dd HH:mm:ss.SSS')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;hr/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#strings.replace('www.baidu.cn','.','$')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#strings.toUpperCase('www.baidu.cn')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#strings.trim('www.baidu.cn')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;hr/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#sets.contains(names,'boot-0')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#sets.contains(names,'boot-9')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#sets.size(names)}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;hr/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#sets.contains(ids,0)}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${ids[1]}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${names[1]}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>
<h2 id="è·¯å¾„å¤„ç†">è·¯å¾„å¤„ç†</h2>
<p>åœ¨ä¼ ç»ŸWEBå·¥ç¨‹å¼€å‘æ—¶ï¼Œè·¯å¾„çš„å¤„ç†æ“ä½œæ˜¯æœ‰ç‚¹éº»çƒ¦çš„ã€‚SpringBootä¸­ä¸ºæˆ‘ä»¬ç®€åŒ–äº†è·¯å¾„çš„å¤„ç†ã€‚
1.åœ¨â€src/main/view/static/jsâ€ä¸­åˆ›å»ºä¸€ä¸ªjsæ–‡ä»¶</p>

<p>2.ç„¶ååœ¨é¡µé¢ä¸­å¯ä»¥é€šè¿‡â€œ@{è·¯å¾„}â€æ¥å¼•ç”¨</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">th:src=</span><span class="s">"@{/js/main.js}"</span><span class="nt">&gt;&lt;/script&gt;</span> 
</code></pre></div></div>
<p>é¡µé¢ä¹‹é—´çš„è·³è½¬ä¹Ÿèƒ½é€šè¿‡@{}æ¥å®ç°</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">th:href=</span><span class="s">"@{/show}"</span><span class="nt">&gt;</span>è®¿é—®controlleræ–¹æ³•<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;a</span> <span class="na">th:href=</span><span class="s">"@{/static_index.html}"</span><span class="nt">&gt;</span>è®¿é—®é™æ€é¡µé¢<span class="nt">&lt;/a&gt;</span>
</code></pre></div></div>
<h2 id="æ“ä½œå†…ç½®å¯¹è±¡">æ“ä½œå†…ç½®å¯¹è±¡</h2>
<p>è™½ç„¶åœ¨è¿™ç§æ¨¡ç‰ˆå¼€å‘æ¡†æ¶é‡Œé¢æ˜¯ä¸æå€¡ä½¿ç”¨å†…ç½®å¯¹è±¡çš„ï¼Œä½†æ˜¯å¾ˆå¤šæƒ…å†µä¸‹ä¾ç„¶éœ€è¦ä½¿ç”¨å†…ç½®å¯¹è±¡è¿›è¡Œå¤„ç†ï¼Œæ‰€ä»¥ä¸‹é¢æ¥çœ‹ä¸‹å¦‚ä½•åœ¨é¡µé¢ä¸­ä½¿ç”¨JSPå†…ç½®å¯¹è±¡ã€‚</p>

<p>1.åœ¨æ§åˆ¶å™¨é‡Œé¢å¢åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°†é‡‡ç”¨å†…ç½®å¯¹è±¡çš„å½¢å¼ä¼ é€’å±æ€§ã€‚</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/inner"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">inner</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"requestMessage"</span><span class="o">,</span> <span class="s">"springboot-request"</span><span class="o">);</span>
    <span class="n">request</span><span class="o">.</span><span class="na">getSession</span><span class="o">().</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"sessionMessage"</span><span class="o">,</span> <span class="s">"springboot-session"</span><span class="o">);</span>
    <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">().</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"applicationMessage"</span><span class="o">,</span>
        <span class="s">"springboot-application"</span><span class="o">);</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"url"</span><span class="o">,</span> <span class="s">"www.baidu.cn"</span><span class="o">);</span>
    <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"url2"</span><span class="o">,</span>
        <span class="s">"&lt;span style='color:red'&gt;www.baidu.cn&lt;/span&gt;"</span><span class="o">);</span>
    <span class="k">return</span> <span class="s">"show_inner"</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p>2.åœ¨é¡µé¢ä¹‹ä¸­å¦‚æœè¦æƒ³è®¿é—®ä¸åŒå±æ€§èŒƒå›´ä¸­çš„å†…å®¹ï¼Œåˆ™å¯ä»¥é‡‡ç”¨å¦‚ä¸‹çš„åšæ³•å®Œæˆï¼š</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns:th=</span><span class="s">"http://www.thymeleaf.org"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>SpringBootæ¨¡ç‰ˆæ¸²æŸ“<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">th:src=</span><span class="s">"@{/js/main.js}"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html;charset=UTF-8"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#httpServletRequest.getRemoteAddr()}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#httpServletRequest.getAttribute('requestMessage')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#httpSession.getId()}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#httpServletRequest.getServletContext().getRealPath('/')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;hr/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'requestMessage = ' + ${requestMessage}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'sessionMessage = ' + ${session.sessionMessage}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'applicationMessage = ' + ${application.applicationMessage}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>
<p>thymeleaf è€ƒè™‘åˆ°äº†å®é™…çš„å¼€å‘æƒ…å†µï¼Œå› ä¸º request ä¼ é€’å±æ€§æ˜¯æœ€ä¸ºå¸¸ç”¨çš„ï¼Œä½†æ˜¯ session ä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨</p>

<p>ä¾‹å¦‚ï¼šç”¨æˆ·ç™»å½•ä¹‹åéœ€è¦æ˜¾ç¤ºç”¨æˆ·idï¼Œé‚£ä¹ˆå°±ä¸€å®šè¦ä½¿ç”¨åˆ°sessionï¼Œæ‰€ä»¥ç°åœ¨å¿…é¡»å¢åŠ å±æ€§èŒƒå›´çš„å½¢å¼åæ‰èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ã€‚åœ¨ thymeleaf é‡Œé¢ä¹Ÿæ”¯æŒæœ‰ JSP å†…ç½®å¯¹è±¡çš„è·å–æ“ä½œï¼Œä¸è¿‡ä¸€èˆ¬å¾ˆå°‘è¿™æ ·ä½¿ç”¨ã€‚</p>
<h2 id="é€»è¾‘å¤„ç†">é€»è¾‘å¤„ç†</h2>
<p>æ‰€æœ‰çš„é¡µé¢æ¨¡ç‰ˆéƒ½å­˜åœ¨å„ç§åŸºç¡€é€»è¾‘å¤„ç†ï¼Œä¾‹å¦‚ï¼šåˆ¤æ–­ã€å¾ªç¯å¤„ç†æ“ä½œã€‚åœ¨ Thymeleaf ä¹‹ä¸­å¯¹äºé€»è¾‘å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„ä¸€äº›è¿ç®—ç¬¦æ¥å®Œæˆï¼Œä¾‹å¦‚ï¼šandã€orã€å…³ç³»æ¯”è¾ƒï¼ˆ&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€==ã€!=ã€ltã€gtã€leã€geã€eqã€neï¼‰ã€‚</p>

<p>é€šè¿‡æ§åˆ¶å™¨ä¼ é€’ä¸€äº›å±æ€§å†…å®¹åˆ°é¡µé¢ä¹‹ä¸­ï¼š</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">th:if=</span><span class="s">"${member.age lt 18}"</span><span class="nt">&gt;</span>
æœªæˆå¹´äººï¼
<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">th:if=</span><span class="s">"${member.name eq 'å•Šä¸‰'}"</span><span class="nt">&gt;</span>
æ¬¢è¿å°ä¸‰æ¥è®¿é—®ï¼
<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>
<p>ä¸æ»¡è¶³æ¡ä»¶çš„åˆ¤æ–­</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">th:unless=</span><span class="s">"${member.age gt 18}"</span><span class="nt">&gt;</span>
ä½ è¿˜ä¸æ»¡18å²ï¼Œä¸èƒ½å¤Ÿçœ‹ç”µå½±ï¼
<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>
<p>é€šè¿‡swithè¿›è¡Œåˆ†æ”¯åˆ¤æ–­</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">th:switch=</span><span class="s">"${member.uid}"</span><span class="nt">&gt;</span>
<span class="nt">&lt;p</span> <span class="na">th:case=</span><span class="s">"100"</span><span class="nt">&gt;</span>uidä¸º101çš„å‘˜å·¥æ¥äº†<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p</span> <span class="na">th:case=</span><span class="s">"99"</span><span class="nt">&gt;</span>uidä¸º102çš„å‘˜å·¥æ¥äº†<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p</span> <span class="na">th:case=</span><span class="s">"*"</span><span class="nt">&gt;</span>æ²¡æœ‰åŒ¹é…æˆåŠŸçš„æ•°æ®ï¼<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>
<h2 id="æ•°æ®éå†">æ•°æ®éå†</h2>
<p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­å¸¸å¸¸éœ€è¦å¯¹æ•°æ®è¿›è¡Œéå†å±•ç¤ºï¼Œä¸€èˆ¬ä¼šå°†æ•°æ®å°è£…æˆlistæˆ–mapä¼ é€’åˆ°é¡µé¢è¿›è¡Œéå†æ“ä½œã€‚</p>

<p>1.å®šä¹‰æ§åˆ¶å™¨ç±»ï¼Œå‘é¡µé¢ä¼ é€’Listæ•°æ®å’ŒMapæ•°æ®</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserController</span> <span class="o">{</span>
    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/user/map"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">map</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">User</span><span class="o">&gt;</span> <span class="n">allMembers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">User</span><span class="o">&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">x</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">User</span> <span class="n">vo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">();</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setUid</span><span class="o">(</span><span class="mi">101L</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"èµµå›› - "</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">9</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setSalary</span><span class="o">(</span><span class="mf">99999.99</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setBirthday</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
            <span class="n">allMembers</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mldn-"</span> <span class="o">+</span> <span class="n">x</span><span class="o">,</span> <span class="n">vo</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"allUsers"</span><span class="o">,</span> <span class="n">allMembers</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"user_map"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/user/list"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">list</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;</span> <span class="n">allMembers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">x</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">User</span> <span class="n">vo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">();</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setUid</span><span class="o">(</span><span class="mi">101L</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"èµµå›› - "</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">9</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setSalary</span><span class="o">(</span><span class="mf">99999.99</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setBirthday</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
            <span class="n">allMembers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">vo</span><span class="o">)</span> <span class="o">;</span>
        <span class="o">}</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"allUsers"</span><span class="o">,</span> <span class="n">allMembers</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"user_list"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>2.listç±»å‹æ•°æ®éå†</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;table&gt;</span>
        <span class="nt">&lt;tr&gt;&lt;td&gt;</span>No.<span class="nt">&lt;/td&gt;&lt;td&gt;</span>UID<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>å§“å<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¹´é¾„<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¶æ•°<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¥‡æ•°<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;tr</span> <span class="na">th:each=</span><span class="s">"user,memberStat:${allUsers}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.index + 1}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${user.uid}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${user.name}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${user.age}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.even}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.odd}"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>
<p>3.mapç±»å‹æ•°æ®éå†</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;table&gt;</span>
        <span class="nt">&lt;tr&gt;&lt;td&gt;</span>No.<span class="nt">&lt;/td&gt;&lt;td&gt;</span>KEY<span class="nt">&lt;/td&gt;&lt;td&gt;</span>UID<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>å§“å<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¹´é¾„<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¶æ•°<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¥‡æ•°<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;tr</span> <span class="na">th:each=</span><span class="s">"memberEntry,memberStat:${allUsers}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.index + 1}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberEntry.key}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberEntry.value.uid}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberEntry.value.name}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberEntry.value.age}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.even}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.odd}"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>
<h2 id="é¡µé¢å¼•å…¥">é¡µé¢å¼•å…¥</h2>
<p>æˆ‘ä»¬å¸¸å¸¸éœ€è¦åœ¨ä¸€ä¸ªé¡µé¢å½“ä¸­å¼•å…¥å¦ä¸€ä¸ªé¡µé¢ï¼Œä¾‹å¦‚ï¼Œå…¬ç”¨çš„å¯¼èˆªæ ä»¥åŠé¡µè„šé¡µé¢ã€‚thymeleafä¸­æä¾›äº†ä¸¤ç§æ–¹å¼è¿›è¡Œé¡µé¢å¼•å…¥ã€‚</p>
<ul>
  <li>th:replace</li>
  <li>th:include</li>
</ul>

<p>1.æ–°å»ºéœ€è¦è¢«å¼•å…¥çš„é¡µé¢æ–‡ä»¶ï¼Œè·¯å¾„ä¸ºâ€src/main/view/templates/commons/footer.htmlâ€</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html;charset=UTF-8"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;footer</span> <span class="na">th:fragment=</span><span class="s">"companyInfo"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p&gt;</span>è®¾ä¸ºé¦–é¡µ Â©2018 SpringBoot ä½¿ç”¨<span class="nt">&lt;span</span> <span class="na">th:text=</span><span class="s">"${projectName}"</span><span class="nt">/&gt;</span>å‰å¿…è¯»
        æ„è§åé¦ˆ äº¬ICPè¯030173å· <span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/footer&gt;</span>
</code></pre></div></div>
<p>å¯ä»¥çœ‹åˆ°é¡µé¢å½“ä¸­è¿˜å­˜åœ¨ä¸€ä¸ªå˜é‡projectNameï¼Œè¿™ä¸ªå˜é‡çš„å€¼å¯ä»¥åœ¨å¼•å…¥é¡µé¢ä¸­é€šè¿‡&lt;font color=#FF0000 &gt;th:with=â€projectName=ç™¾åº¦â€&lt;/font&gt;ä¼ è¿‡æ¥ã€‚</p>

<p>2.å¼•å…¥é¡µé¢ä¸­åªéœ€è¦æ·»åŠ å¦‚ä¸‹ä»£ç å³å¯</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">th:include=</span><span class="s">"@{/commons/footer} :: companyInfo"</span> <span class="na">th:with=</span><span class="s">"projectName=ç™¾åº¦"</span><span class="nt">/&gt;</span>
</code></pre></div></div>
<p>=======
â€”
layout:     post
title:      â€œThymeleafâ€
subtitle:   â€œSpringBooté¡µé¢å±•ç¤ºThymeleafâ€
date:       2019-09-06 12:30:11
author:     â€œBalboâ€
header-img: â€œimg/post-bg-2019.jpgâ€
catalog: true
tags:
    - springboot
    - thymeleaf
â€”</p>

<h2>=======</h2>
<p>layout: post
title: Thymeleaf
subtitle: SpringBooté¡µé¢å±•ç¤ºThymeleaf
author: Balbo Cheng
categories: java
tags: [thymeleaf, springboot]
â€”</p>
<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <blockquote>
            <blockquote>
              <p>e5c77ca (æ–°é¡µé¢)
å¼€å‘ä¼ ç»ŸJava WEBå·¥ç¨‹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨JSPé¡µé¢æ¨¡æ¿è¯­è¨€ï¼Œä½†æ˜¯åœ¨SpringBootä¸­å·²ç»ä¸æ¨èä½¿ç”¨äº†ã€‚SpringBootæ”¯æŒå¦‚ä¸‹é¡µé¢æ¨¡æ¿è¯­è¨€</p>
              <ul>
                <li>Thymeleaf</li>
                <li>FreeMarker</li>
                <li>Velocity</li>
                <li>Groovy</li>
                <li>JSP</li>
              </ul>
            </blockquote>
          </blockquote>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<p>ä¸Šé¢å¹¶æ²¡æœ‰åˆ—ä¸¾æ‰€æœ‰SpringBootæ”¯æŒçš„é¡µé¢æ¨¡æ¿æŠ€æœ¯ã€‚å…¶ä¸­Thymeleafæ˜¯SpringBootå®˜æ–¹æ‰€æ¨èä½¿ç”¨çš„ï¼Œä¸‹é¢æ¥è°ˆè°ˆThymeleafä¸€äº›å¸¸ç”¨çš„è¯­æ³•è§„åˆ™ã€‚</p>
<h2 id="æ·»åŠ thymeleafä¾èµ–-1">æ·»åŠ Thymeleafä¾èµ–</h2>
<p>è¦æƒ³ä½¿ç”¨Thhymeleafï¼Œé¦–å…ˆè¦åœ¨pom.xmlæ–‡ä»¶ä¸­å•ç‹¬æ·»åŠ Thymeleafä¾èµ–ã€‚</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">dependency</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">groupId</span><span class="o">&gt;</span><span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">boot</span><span class="o">&lt;/</span><span class="n">groupId</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">artifactId</span><span class="o">&gt;</span><span class="n">spring</span><span class="o">-</span><span class="n">boot</span><span class="o">-</span><span class="n">starter</span><span class="o">-</span><span class="n">thymeleaf</span><span class="o">&lt;/</span><span class="n">artifactId</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">dependency</span><span class="o">&gt;</span>
</code></pre></div></div>
<p>Spring Booté»˜è®¤å­˜æ”¾æ¨¡æ¿é¡µé¢çš„è·¯å¾„åœ¨&lt;font color=#FF0000 &gt;src/main/resources/templates&lt;/font&gt;æˆ–è€…&lt;font color=#FF0000 &gt;src/main/view/templates&lt;/font&gt;ï¼Œè¿™ä¸ªæ— è®ºæ˜¯ä½¿ç”¨ä»€ä¹ˆæ¨¡æ¿è¯­è¨€éƒ½ä¸€æ ·ï¼Œå½“ç„¶é»˜è®¤è·¯å¾„æ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ï¼Œä¸è¿‡ä¸€èˆ¬ä¸æ¨èè¿™æ ·åšã€‚å¦å¤–Thymeleafé»˜è®¤çš„é¡µé¢æ–‡ä»¶åç¼€æ˜¯&lt;font color=#FF0000 &gt;.html&lt;/font&gt;ã€‚</p>
<h2 id="æ•°æ®æ˜¾ç¤º-1">æ•°æ®æ˜¾ç¤º</h2>
<p>åœ¨MVCçš„å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦é€šè¿‡&lt;font color=#FF0000 &gt;Controller&lt;/font&gt;å°†æ•°æ®ä¼ é€’åˆ°é¡µé¢ä¸­ï¼Œè®©é¡µé¢è¿›è¡ŒåŠ¨æ€å±•ç¤ºã€‚</p>
<h3 id="æ˜¾ç¤ºæ™®é€šæ–‡æœ¬-1">æ˜¾ç¤ºæ™®é€šæ–‡æœ¬</h3>
<p>åˆ›å»ºä¸€ä¸ªControllerå¯¹è±¡ï¼Œåœ¨å…¶ä¸­è¿›è¡Œå‚æ•°çš„ä¼ é€’</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ThymeleafController</span> <span class="o">{</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"show"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">show</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">){</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"uid"</span><span class="o">,</span><span class="s">"123456789"</span><span class="o">);</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span><span class="s">"Jerry"</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"show"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>åœ¨SpringBooté»˜è®¤çš„é¡µé¢è·¯å¾„ä¸‹åˆ›å»ºshow.htmlæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns:th=</span><span class="s">"http://www.thymeleaf.org"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>SpringBootæ¨¡ç‰ˆæ¸²æŸ“<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html;charset=UTF-8"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·IDï¼š' + ${uid}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·åç§°ï¼š' + ${name}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>
<p>å¯ä»¥çœ‹åˆ°åœ¨&lt;font color=#FF0000 &gt;p&lt;/font&gt;æ ‡ç­¾ä¸­æœ‰&lt;font color=#FF0000 &gt;th:text&lt;/font&gt;å±æ€§ï¼Œè¿™ä¸ªå°±æ˜¯thymeleafçš„è¯­æ³•ï¼Œå®ƒè¡¨ç¤ºæ˜¾ç¤ºä¸€ä¸ªæ™®é€šçš„æ–‡æœ¬ä¿¡æ¯ã€‚
å¦‚æœæˆ‘ä»¬è¦æ˜¾ç¤ºçš„ä¿¡æ¯æ˜¯å­˜åœ¨èµ„æºæ–‡ä»¶ä¸­çš„ï¼ŒåŒæ ·å¯ä»¥åœ¨é¡µé¢ä¸­æ˜¾ç¤ºï¼Œä¾‹å¦‚èµ„æºæ–‡ä»¶ä¸­å®šä¹‰äº†å†…å®¹&lt;font color=#FF0000 &gt;welcome.msg=æ¬¢è¿{0}å…‰ä¸´ï¼&lt;/font&gt;ã€‚å¯ä»¥åœ¨é¡µé¢ä¸­å°†å…¶æ˜¾ç¤º</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;h2</span> <span class="na">th:text=</span><span class="s">"#{welcome.msg('admin')}"</span><span class="nt">/&gt;</span>
</code></pre></div></div>
<p>å¦å¤–ï¼Œåœ¨&lt;font color=#FF0000 &gt;th:utext&lt;/font&gt;ä¸­è¿˜èƒ½åšä¸€äº›åŸºç¡€çš„æ•°å­¦è¿ç®—</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'æ•°å­¦è®¡ç®—ï¼š1+2=' + (1 + 2)"</span><span class="nt">/&gt;</span>
</code></pre></div></div>
<h3 id="æ˜¾ç¤ºå¸¦æœ‰æ ·å¼çš„æ™®é€šæ–‡æœ¬-1">æ˜¾ç¤ºå¸¦æœ‰æ ·å¼çš„æ™®é€šæ–‡æœ¬</h3>
<p>å¦‚æœæˆ‘ä»¬æƒ³è¦ä¼ é€’åˆ°çš„é¡µé¢çš„ä¿¡æ¯ï¼Œå®ƒæœ¬èº«æ˜¯å¸¦æœ‰CSSæ ·å¼çš„ï¼Œè¿™ä¸ªæ—¶å€™å¦‚ä½•åœ¨é¡µé¢ä¸­å°†æºå¸¦çš„æ ·å¼ä¿¡æ¯ä¹Ÿæ˜¾ç¤ºå‡ºæ¥ï¼Ÿæ­¤æ—¶æˆ‘ä»¬çš„æ§åˆ¶å™¨æ–¹æ³•è¿™æ ·å†™ã€‚</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"showStyle"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">showStyle</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">){</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"uid"</span><span class="o">,</span><span class="s">"123456789"</span><span class="o">);</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span><span class="s">"&lt;span style='color:red'&gt;Jerry&lt;/span&gt;"</span><span class="o">);</span>
    <span class="k">return</span> <span class="s">"show_style"</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p>æ­¤æ—¶é¡µé¢ä¸­éœ€è¦å€ŸåŠ©&lt;font color=#FF0000 &gt;th:utext&lt;/font&gt;å±æ€§è¿›è¡Œæ˜¾ç¤º</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">th:utext=</span><span class="s">"'ç”¨æˆ·åç§°ï¼š' + ${name}"</span><span class="nt">/&gt;</span>
</code></pre></div></div>
<p>é€šè¿‡æµè§ˆå™¨æŸ¥çœ‹é¡µé¢æºç å¯ä»¥çœ‹å‡º&lt;font color=#FF0000 &gt;th:utext&lt;/font&gt;å’Œ&lt;font color=#FF0000 &gt;th:text&lt;/font&gt;çš„åŒºåˆ«æ˜¯ï¼š&lt;font color=#FF0000 &gt;th:text&lt;/font&gt;ä¼šå¯¹&lt;font color=#FF0000 &gt;Â«/font&gt;å’Œ&lt;font color=#FF0000Â Â»&lt;/font&gt;è¿›è¡Œè½¬ä¹‰ï¼Œè€Œ&lt;font color=#FF0000 &gt;th:utext&lt;/font&gt;ä¸ä¼šè½¬ä¹‰ã€‚</p>
<h3 id="æ˜¾ç¤ºå¯¹è±¡-1">æ˜¾ç¤ºå¯¹è±¡</h3>
<p>æˆ‘ä»¬å¸¸å¸¸éœ€è¦å°†ä¸€ä¸ªbeanä¿¡æ¯å±•ç¤ºåœ¨å‰ç«¯é¡µé¢å½“ä¸­ã€‚</p>

<p>1.ç”¨äºå‰ç«¯å±•ç¤ºçš„VOç±»</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="kd">implements</span> <span class="nc">Serializable</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="nc">Long</span> <span class="n">uid</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="nc">String</span> <span class="n">name</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Integer</span> <span class="n">age</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Date</span> <span class="n">birthday</span> <span class="o">;</span>
    <span class="kd">private</span> <span class="nc">Double</span> <span class="n">salary</span> <span class="o">;</span>
    <span class="c1">//çœç•¥get/setæ–¹æ³•</span>
<span class="o">}</span>
</code></pre></div></div>
<p>2.æ§åˆ¶å™¨æ–¹æ³•</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/message/member_show"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">memberShow</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">User</span> <span class="n">vo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">();</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setUid</span><span class="o">(</span><span class="mi">12345678L</span><span class="o">);</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"å°¼å¤æ‹‰ä¸.èµµå››"</span><span class="o">);</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">59</span><span class="o">);</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setSalary</span><span class="o">(</span><span class="mf">1000.00</span><span class="o">);</span>
    <span class="n">vo</span><span class="o">.</span><span class="na">setBirthday</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"member"</span><span class="o">,</span> <span class="n">vo</span><span class="o">);</span>
    <span class="k">return</span> <span class="s">"message/member_show"</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p>3.é¡µé¢å±•ç¤º</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·ç¼–å·ï¼š' + ${member.uid}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å§“åï¼š' + ${member.name}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å¹´é¾„ï¼š' + ${member.age}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å·¥èµ„ï¼š' + ${member.salary}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'å‡ºç”Ÿæ—¥æœŸï¼š' + ${member.birthday}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'å‡ºç”Ÿæ—¥æœŸï¼š' + ${#dates.format(member.birthday,'yyyy-MM-dd')}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;hr/&gt;</span>
<span class="nt">&lt;div</span> <span class="na">th:object=</span><span class="s">"${member}"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·ç¼–å·ï¼š' + *{uid}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å§“åï¼š' + *{name}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å¹´é¾„ï¼š' + *{age}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'ç”¨æˆ·å·¥èµ„ï¼š' + *{salary}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'å‡ºç”Ÿæ—¥æœŸï¼š' + *{birthday}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'å‡ºç”Ÿæ—¥æœŸï¼š' + *{#dates.format(birthday,'yyyy-MM-dd')}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>
<p>ä¸Šé¢ç»™å‡ºäº†ä¸¤ç§å±•ç°æ–¹å¼ï¼Œä¸€ç§æ˜¯é€šè¿‡${å±æ€§}ï¼Œå¦å¤–ä¸€ç§æ˜¯é€šè¿‡{å±æ€§}ã€‚
<strong>å…³äºâ€œ${å±æ€§}â€å’Œâ€œ{å±æ€§}â€çš„åŒºåˆ«ï¼Ÿ</strong>
$è®¿é—®å®Œæ•´ä¿¡æ¯ï¼Œè€Œè®¿é—®æŒ‡å®šå¯¹è±¡ä¸­çš„å±æ€§å†…å®¹ï¼Œ å¦‚æœè®¿é—®çš„åªæ˜¯æ™®é€šçš„å†…å®¹ä¸¤è€…æ²¡æœ‰åŒºåˆ«</p>
<h2 id="æ•°æ®å¤„ç†-1">æ•°æ®å¤„ç†</h2>
<p>åœ¨ thymeleaf ä¹‹ä¸­æä¾›æœ‰ç›¸åº”çš„é›†åˆçš„å¤„ç†æ–¹æ³•ï¼Œä¾‹å¦‚ï¼šåœ¨ä½¿ç”¨ List é›†åˆçš„æ—¶å€™å¯ä»¥è€ƒè™‘é‡‡ç”¨ get()æ–¹æ³•è·å–æŒ‡å®šç´¢å¼•çš„æ•°æ®ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨ Set é›†åˆçš„æ—¶å€™ä¼šè€ƒè™‘ä½¿ç”¨ contains()æ¥åˆ¤æ–­æŸä¸ªæ•°æ®æ˜¯å¦å­˜åœ¨ï¼Œä½¿ç”¨ Map é›†åˆçš„æ—¶å€™ä¹Ÿå¸Œæœ›å¯ä»¥ä½¿ç”¨ containsKey()åˆ¤æ–­æŸä¸ª key æ˜¯å¦å­˜åœ¨ï¼Œä»¥åŠä½¿ç”¨get()æ ¹æ® key è·å–å¯¹åº”çš„ valueï¼Œè€Œè¿™äº›åŠŸèƒ½åœ¨ä¹‹å‰å¹¶ä¸å…·å¤‡ï¼Œä¸‹é¢æ¥è§‚å¯Ÿå¦‚ä½•åœ¨é¡µé¢ä¸­ä½¿ç”¨æ­¤ç±»æ“ä½œ</p>

<p>1.æ§åˆ¶å™¨æ–¹æ³•å‘é¡µé¢ä¼ é€’ä¸€äº›æ•°æ®ï¼Œä»¥ä¾›æ“ä½œ</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/user/set"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">set</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
    <span class="nc">Set</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">allNames</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashSet</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;()</span> <span class="o">;</span>
    <span class="nc">List</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;</span> <span class="n">allIds</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">Integer</span><span class="o">&gt;()</span> <span class="o">;</span>
    <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">5</span> <span class="o">;</span> <span class="n">x</span> <span class="o">++)</span> <span class="o">{</span>
        <span class="n">allNames</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"boot-"</span> <span class="o">+</span> <span class="n">x</span><span class="o">)</span> <span class="o">;</span>
        <span class="n">allIds</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">;</span>
    <span class="o">}</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"names"</span><span class="o">,</span> <span class="n">allNames</span><span class="o">)</span> <span class="o">;</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"ids"</span><span class="o">,</span> <span class="n">allIds</span><span class="o">)</span> <span class="o">;</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"mydate"</span><span class="o">,</span> <span class="k">new</span> <span class="n">java</span><span class="o">.</span><span class="na">util</span><span class="o">.</span><span class="na">Date</span><span class="o">())</span> <span class="o">;</span>
    <span class="k">return</span> <span class="s">"user_set"</span> <span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p>2.æ•°æ®å¤„ç†</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#dates.format(mydate,'yyyy-MM-dd')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#dates.format(mydate,'yyyy-MM-dd HH:mm:ss.SSS')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;hr/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#strings.replace('www.baidu.cn','.','$')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#strings.toUpperCase('www.baidu.cn')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#strings.trim('www.baidu.cn')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;hr/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#sets.contains(names,'boot-0')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#sets.contains(names,'boot-9')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#sets.size(names)}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;hr/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#sets.contains(ids,0)}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${ids[1]}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${names[1]}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>
<h2 id="è·¯å¾„å¤„ç†-1">è·¯å¾„å¤„ç†</h2>
<p>åœ¨ä¼ ç»ŸWEBå·¥ç¨‹å¼€å‘æ—¶ï¼Œè·¯å¾„çš„å¤„ç†æ“ä½œæ˜¯æœ‰ç‚¹éº»çƒ¦çš„ã€‚SpringBootä¸­ä¸ºæˆ‘ä»¬ç®€åŒ–äº†è·¯å¾„çš„å¤„ç†ã€‚
1.åœ¨â€src/main/view/static/jsâ€ä¸­åˆ›å»ºä¸€ä¸ªjsæ–‡ä»¶</p>

<p>2.ç„¶ååœ¨é¡µé¢ä¸­å¯ä»¥é€šè¿‡â€œ@{è·¯å¾„}â€æ¥å¼•ç”¨</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">th:src=</span><span class="s">"@{/js/main.js}"</span><span class="nt">&gt;&lt;/script&gt;</span> 
</code></pre></div></div>
<p>é¡µé¢ä¹‹é—´çš„è·³è½¬ä¹Ÿèƒ½é€šè¿‡@{}æ¥å®ç°</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">th:href=</span><span class="s">"@{/show}"</span><span class="nt">&gt;</span>è®¿é—®controlleræ–¹æ³•<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;a</span> <span class="na">th:href=</span><span class="s">"@{/static_index.html}"</span><span class="nt">&gt;</span>è®¿é—®é™æ€é¡µé¢<span class="nt">&lt;/a&gt;</span>
</code></pre></div></div>
<h2 id="æ“ä½œå†…ç½®å¯¹è±¡-1">æ“ä½œå†…ç½®å¯¹è±¡</h2>
<p>è™½ç„¶åœ¨è¿™ç§æ¨¡ç‰ˆå¼€å‘æ¡†æ¶é‡Œé¢æ˜¯ä¸æå€¡ä½¿ç”¨å†…ç½®å¯¹è±¡çš„ï¼Œä½†æ˜¯å¾ˆå¤šæƒ…å†µä¸‹ä¾ç„¶éœ€è¦ä½¿ç”¨å†…ç½®å¯¹è±¡è¿›è¡Œå¤„ç†ï¼Œæ‰€ä»¥ä¸‹é¢æ¥çœ‹ä¸‹å¦‚ä½•åœ¨é¡µé¢ä¸­ä½¿ç”¨JSPå†…ç½®å¯¹è±¡ã€‚</p>

<p>1.åœ¨æ§åˆ¶å™¨é‡Œé¢å¢åŠ ä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°†é‡‡ç”¨å†…ç½®å¯¹è±¡çš„å½¢å¼ä¼ é€’å±æ€§ã€‚</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/inner"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
<span class="kd">public</span> <span class="nc">String</span> <span class="nf">inner</span><span class="o">(</span><span class="nc">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span> <span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"requestMessage"</span><span class="o">,</span> <span class="s">"springboot-request"</span><span class="o">);</span>
    <span class="n">request</span><span class="o">.</span><span class="na">getSession</span><span class="o">().</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"sessionMessage"</span><span class="o">,</span> <span class="s">"springboot-session"</span><span class="o">);</span>
    <span class="n">request</span><span class="o">.</span><span class="na">getServletContext</span><span class="o">().</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"applicationMessage"</span><span class="o">,</span>
        <span class="s">"springboot-application"</span><span class="o">);</span>
    <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"url"</span><span class="o">,</span> <span class="s">"www.baidu.cn"</span><span class="o">);</span>
    <span class="n">request</span><span class="o">.</span><span class="na">setAttribute</span><span class="o">(</span><span class="s">"url2"</span><span class="o">,</span>
        <span class="s">"&lt;span style='color:red'&gt;www.baidu.cn&lt;/span&gt;"</span><span class="o">);</span>
    <span class="k">return</span> <span class="s">"show_inner"</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>
<p>2.åœ¨é¡µé¢ä¹‹ä¸­å¦‚æœè¦æƒ³è®¿é—®ä¸åŒå±æ€§èŒƒå›´ä¸­çš„å†…å®¹ï¼Œåˆ™å¯ä»¥é‡‡ç”¨å¦‚ä¸‹çš„åšæ³•å®Œæˆï¼š</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE HTML&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns:th=</span><span class="s">"http://www.thymeleaf.org"</span><span class="nt">&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;title&gt;</span>SpringBootæ¨¡ç‰ˆæ¸²æŸ“<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">th:src=</span><span class="s">"@{/js/main.js}"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html;charset=UTF-8"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#httpServletRequest.getRemoteAddr()}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#httpServletRequest.getAttribute('requestMessage')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#httpSession.getId()}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"${#httpServletRequest.getServletContext().getRealPath('/')}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;hr/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'requestMessage = ' + ${requestMessage}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'sessionMessage = ' + ${session.sessionMessage}"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">th:text=</span><span class="s">"'applicationMessage = ' + ${application.applicationMessage}"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>
<p>thymeleaf è€ƒè™‘åˆ°äº†å®é™…çš„å¼€å‘æƒ…å†µï¼Œå› ä¸º request ä¼ é€’å±æ€§æ˜¯æœ€ä¸ºå¸¸ç”¨çš„ï¼Œä½†æ˜¯ session ä¹Ÿæœ‰å¯èƒ½ä½¿ç”¨</p>

<p>ä¾‹å¦‚ï¼šç”¨æˆ·ç™»å½•ä¹‹åéœ€è¦æ˜¾ç¤ºç”¨æˆ·idï¼Œé‚£ä¹ˆå°±ä¸€å®šè¦ä½¿ç”¨åˆ°sessionï¼Œæ‰€ä»¥ç°åœ¨å¿…é¡»å¢åŠ å±æ€§èŒƒå›´çš„å½¢å¼åæ‰èƒ½å¤Ÿæ­£å¸¸ä½¿ç”¨ã€‚åœ¨ thymeleaf é‡Œé¢ä¹Ÿæ”¯æŒæœ‰ JSP å†…ç½®å¯¹è±¡çš„è·å–æ“ä½œï¼Œä¸è¿‡ä¸€èˆ¬å¾ˆå°‘è¿™æ ·ä½¿ç”¨ã€‚</p>
<h2 id="é€»è¾‘å¤„ç†-1">é€»è¾‘å¤„ç†</h2>
<p>æ‰€æœ‰çš„é¡µé¢æ¨¡ç‰ˆéƒ½å­˜åœ¨å„ç§åŸºç¡€é€»è¾‘å¤„ç†ï¼Œä¾‹å¦‚ï¼šåˆ¤æ–­ã€å¾ªç¯å¤„ç†æ“ä½œã€‚åœ¨ Thymeleaf ä¹‹ä¸­å¯¹äºé€»è¾‘å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„ä¸€äº›è¿ç®—ç¬¦æ¥å®Œæˆï¼Œä¾‹å¦‚ï¼šandã€orã€å…³ç³»æ¯”è¾ƒï¼ˆ&gt;ã€&lt;ã€&gt;=ã€&lt;=ã€==ã€!=ã€ltã€gtã€leã€geã€eqã€neï¼‰ã€‚</p>

<p>é€šè¿‡æ§åˆ¶å™¨ä¼ é€’ä¸€äº›å±æ€§å†…å®¹åˆ°é¡µé¢ä¹‹ä¸­ï¼š</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">th:if=</span><span class="s">"${member.age lt 18}"</span><span class="nt">&gt;</span>
æœªæˆå¹´äººï¼
<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;span</span> <span class="na">th:if=</span><span class="s">"${member.name eq 'å•Šä¸‰'}"</span><span class="nt">&gt;</span>
æ¬¢è¿å°ä¸‰æ¥è®¿é—®ï¼
<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>
<p>ä¸æ»¡è¶³æ¡ä»¶çš„åˆ¤æ–­</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">th:unless=</span><span class="s">"${member.age gt 18}"</span><span class="nt">&gt;</span>
ä½ è¿˜ä¸æ»¡18å²ï¼Œä¸èƒ½å¤Ÿçœ‹ç”µå½±ï¼
<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>
<p>é€šè¿‡swithè¿›è¡Œåˆ†æ”¯åˆ¤æ–­</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;span</span> <span class="na">th:switch=</span><span class="s">"${member.uid}"</span><span class="nt">&gt;</span>
<span class="nt">&lt;p</span> <span class="na">th:case=</span><span class="s">"100"</span><span class="nt">&gt;</span>uidä¸º101çš„å‘˜å·¥æ¥äº†<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p</span> <span class="na">th:case=</span><span class="s">"99"</span><span class="nt">&gt;</span>uidä¸º102çš„å‘˜å·¥æ¥äº†<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p</span> <span class="na">th:case=</span><span class="s">"*"</span><span class="nt">&gt;</span>æ²¡æœ‰åŒ¹é…æˆåŠŸçš„æ•°æ®ï¼<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/span&gt;</span>
</code></pre></div></div>
<h2 id="æ•°æ®éå†-1">æ•°æ®éå†</h2>
<p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­å¸¸å¸¸éœ€è¦å¯¹æ•°æ®è¿›è¡Œéå†å±•ç¤ºï¼Œä¸€èˆ¬ä¼šå°†æ•°æ®å°è£…æˆlistæˆ–mapä¼ é€’åˆ°é¡µé¢è¿›è¡Œéå†æ“ä½œã€‚</p>

<p>1.å®šä¹‰æ§åˆ¶å™¨ç±»ï¼Œå‘é¡µé¢ä¼ é€’Listæ•°æ®å’ŒMapæ•°æ®</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Controller</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">UserController</span> <span class="o">{</span>
    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/user/map"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">map</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">Map</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">User</span><span class="o">&gt;</span> <span class="n">allMembers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">HashMap</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">,</span><span class="nc">User</span><span class="o">&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">x</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">User</span> <span class="n">vo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">();</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setUid</span><span class="o">(</span><span class="mi">101L</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"èµµå›› - "</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">9</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setSalary</span><span class="o">(</span><span class="mf">99999.99</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setBirthday</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
            <span class="n">allMembers</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mldn-"</span> <span class="o">+</span> <span class="n">x</span><span class="o">,</span> <span class="n">vo</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"allUsers"</span><span class="o">,</span> <span class="n">allMembers</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"user_map"</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/user/list"</span><span class="o">,</span> <span class="n">method</span> <span class="o">=</span> <span class="nc">RequestMethod</span><span class="o">.</span><span class="na">GET</span><span class="o">)</span>
    <span class="kd">public</span> <span class="nc">String</span> <span class="nf">list</span><span class="o">(</span><span class="nc">Model</span> <span class="n">model</span><span class="o">)</span> <span class="o">{</span>
        <span class="nc">List</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;</span> <span class="n">allMembers</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="nc">User</span><span class="o">&gt;();</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="o">;</span> <span class="n">x</span><span class="o">++)</span> <span class="o">{</span>
            <span class="nc">User</span> <span class="n">vo</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">User</span><span class="o">();</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setUid</span><span class="o">(</span><span class="mi">101L</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"èµµå›› - "</span> <span class="o">+</span> <span class="n">x</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setAge</span><span class="o">(</span><span class="mi">9</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setSalary</span><span class="o">(</span><span class="mf">99999.99</span><span class="o">);</span>
            <span class="n">vo</span><span class="o">.</span><span class="na">setBirthday</span><span class="o">(</span><span class="k">new</span> <span class="nc">Date</span><span class="o">());</span>
            <span class="n">allMembers</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">vo</span><span class="o">)</span> <span class="o">;</span>
        <span class="o">}</span>
        <span class="n">model</span><span class="o">.</span><span class="na">addAttribute</span><span class="o">(</span><span class="s">"allUsers"</span><span class="o">,</span> <span class="n">allMembers</span><span class="o">);</span>
        <span class="k">return</span> <span class="s">"user_list"</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>
<p>2.listç±»å‹æ•°æ®éå†</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;table&gt;</span>
        <span class="nt">&lt;tr&gt;&lt;td&gt;</span>No.<span class="nt">&lt;/td&gt;&lt;td&gt;</span>UID<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>å§“å<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¹´é¾„<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¶æ•°<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¥‡æ•°<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;tr</span> <span class="na">th:each=</span><span class="s">"user,memberStat:${allUsers}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.index + 1}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${user.uid}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${user.name}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${user.age}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.even}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.odd}"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>
<p>3.mapç±»å‹æ•°æ®éå†</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;table&gt;</span>
        <span class="nt">&lt;tr&gt;&lt;td&gt;</span>No.<span class="nt">&lt;/td&gt;&lt;td&gt;</span>KEY<span class="nt">&lt;/td&gt;&lt;td&gt;</span>UID<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;td&gt;</span>å§“å<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¹´é¾„<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¶æ•°<span class="nt">&lt;/td&gt;&lt;td&gt;</span>å¥‡æ•°<span class="nt">&lt;/td&gt;&lt;/tr&gt;</span>
        <span class="nt">&lt;tr</span> <span class="na">th:each=</span><span class="s">"memberEntry,memberStat:${allUsers}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.index + 1}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberEntry.key}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberEntry.value.uid}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberEntry.value.name}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberEntry.value.age}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.even}"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">th:text=</span><span class="s">"${memberStat.odd}"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/table&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div>
<h2 id="é¡µé¢å¼•å…¥-1">é¡µé¢å¼•å…¥</h2>
<p>æˆ‘ä»¬å¸¸å¸¸éœ€è¦åœ¨ä¸€ä¸ªé¡µé¢å½“ä¸­å¼•å…¥å¦ä¸€ä¸ªé¡µé¢ï¼Œä¾‹å¦‚ï¼Œå…¬ç”¨çš„å¯¼èˆªæ ä»¥åŠé¡µè„šé¡µé¢ã€‚thymeleafä¸­æä¾›äº†ä¸¤ç§æ–¹å¼è¿›è¡Œé¡µé¢å¼•å…¥ã€‚</p>
<ul>
  <li>th:replace</li>
  <li>th:include</li>
</ul>

<p>1.æ–°å»ºéœ€è¦è¢«å¼•å…¥çš„é¡µé¢æ–‡ä»¶ï¼Œè·¯å¾„ä¸ºâ€src/main/view/templates/commons/footer.htmlâ€</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span class="s">"Content-Type"</span> <span class="na">content=</span><span class="s">"text/html;charset=UTF-8"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;footer</span> <span class="na">th:fragment=</span><span class="s">"companyInfo"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p&gt;</span>è®¾ä¸ºé¦–é¡µ Â©2018 SpringBoot ä½¿ç”¨<span class="nt">&lt;span</span> <span class="na">th:text=</span><span class="s">"${projectName}"</span><span class="nt">/&gt;</span>å‰å¿…è¯»
        æ„è§åé¦ˆ äº¬ICPè¯030173å· <span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/footer&gt;</span>
</code></pre></div></div>
<p>å¯ä»¥çœ‹åˆ°é¡µé¢å½“ä¸­è¿˜å­˜åœ¨ä¸€ä¸ªå˜é‡projectNameï¼Œè¿™ä¸ªå˜é‡çš„å€¼å¯ä»¥åœ¨å¼•å…¥é¡µé¢ä¸­é€šè¿‡&lt;font color=#FF0000 &gt;th:with=â€projectName=ç™¾åº¦â€&lt;/font&gt;ä¼ è¿‡æ¥ã€‚</p>

<p>2.å¼•å…¥é¡µé¢ä¸­åªéœ€è¦æ·»åŠ å¦‚ä¸‹ä»£ç å³å¯</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">th:include=</span><span class="s">"@{/commons/footer} :: companyInfo"</span> <span class="na">th:with=</span><span class="s">"projectName=ç™¾åº¦"</span><span class="nt">/&gt;</span>
<span class="nt">&lt;</span><span class="err">&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="na">HEAD</span>
</code></pre></div></div>
<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <blockquote>
            <blockquote>
              <h1 id="f0bfe13-new-update_postsçŸ¥è¯†ç‚¹2019-09-06-thymeleafmd">f0bfe13 (new update):_posts/çŸ¥è¯†ç‚¹/2019-09-06-thymeleaf.md</h1>
              <p>```
e5c77ca (æ–°é¡µé¢)</p>
            </blockquote>
          </blockquote>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>
:ET