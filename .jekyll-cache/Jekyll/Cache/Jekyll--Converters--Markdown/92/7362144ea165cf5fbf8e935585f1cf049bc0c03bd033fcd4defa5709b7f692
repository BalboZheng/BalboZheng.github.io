I"åa<h2 id="-head">Â«Â«Â«&lt; HEAD</h2>
<p>layout:     post
title:      â€œBeautiful Soupâ€
subtitle:   â€œâ€
date:       2019-11-20 15:44:27
author:     â€œBalboâ€
header-img: â€œimg/post-bg-2019.jpgâ€
tags:
    - reptile
â€”</p>
<h2 id="è§£æå™¨">è§£æå™¨</h2>
<p>Beautiful Soup åœ¨è§£ææ—¶å®é™…ä¸Šä¾èµ–è§£æå™¨ï¼Œä»–é™¤äº†æ”¯æŒ Python æ ‡å‡†åº“ä¸­çš„ HTML è§£æå™¨å¤–ï¼Œè¿˜æ”¯æŒä¸€äº›ç¬¬ä¸‰æ–¹è§£æå™¨ã€‚</p>

<table>
  <thead>
    <tr>
      <th>è§£æå™¨</th>
      <th>ä½¿ç”¨æ–¹æ³•</th>
      <th>ä¼˜åŠ¿</th>
      <th>åŠ£åŠ¿</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pythonæ ‡å‡†åº“</td>
      <td>BeautifulSoup(markup, â€˜html.parserâ€™)</td>
      <td>Python çš„å†…ç½®æ ‡å‡†åº“ã€æ‰§è¡Œé€Ÿåº¦é€‚ä¸­ã€æ–‡æ¡£å®¹é”™èƒ½åŠ›å¼º</td>
      <td>Python 2.7.3 åŠ Python 3.2.2 ä¹‹å‰çš„ç‰ˆæœ¬æ–‡æ¡£å®¹é”™èƒ½åŠ›å·®</td>
    </tr>
    <tr>
      <td>lxml HTML è§£æå™¨</td>
      <td>BeautifulSoup(markup, â€˜lxmlâ€™)</td>
      <td>é€Ÿåº¦å¿«ã€æ–‡æ¡£å®¹é”™èƒ½åŠ›å¼º</td>
      <td>éœ€è¦å®‰è£… C è¯­è¨€åº“</td>
    </tr>
    <tr>
      <td>lxml XML è§£æå™¨</td>
      <td>BeautifulSoup(markup, â€˜xmlâ€™)</td>
      <td>é€Ÿåº¦å¿«ã€å”¯ä¸€æ”¯æŒ XML çš„è§£æå™¨</td>
      <td>éœ€è¦å®‰è£… C è¯­è¨€åº“</td>
    </tr>
    <tr>
      <td>html5lib</td>
      <td>BeautifulSoup(markup, â€˜html5libâ€™)</td>
      <td>æœ€å¥½çš„å®¹é”™æ€§ã€ä»¥æµè§ˆå™¨çš„æ–¹å¼è§£ææ–‡æ¡£ã€ç”Ÿæˆ HTML5 æ ¼å¼çš„æ–‡æ¡£</td>
      <td>é€Ÿåº¦æ…¢ã€ä¸ä¾èµ–å¤–éƒ¨æ‰©å±•</td>
    </tr>
  </tbody>
</table>

<h2 id="åŸºæœ¬ç”¨æ³•">åŸºæœ¬ç”¨æ³•</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">html</span> <span class="o">=</span> <span class="s">"""

&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;

&lt;body&gt;

&lt;p class="title" name="dromouse"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;

&lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were

&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,

&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; and

&lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;;

and they lived at the bottom of a well.&lt;/p&gt;

&lt;p class="story"&gt;...&lt;/p&gt;

"""</span>
</code></pre></div></div>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
<span class="c1"># æŠŠè§£æçš„å­—ç¬¦ä¸²ä»¥æ ‡å‡†çš„ç¼©è¿›æ ¼å¼è¾“å‡º
</span><span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
 <span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>
   The Dormouse's story
  <span class="nt">&lt;/title&gt;</span>
 <span class="nt">&lt;/head&gt;</span>
 <span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"title"</span> <span class="na">name=</span><span class="s">"dromouse"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;b&gt;</span>
    The Dormouse's story
   <span class="nt">&lt;/b&gt;</span>
  <span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"story"</span><span class="nt">&gt;</span>
   Once upon a time there were three little sisters; and their names were
   <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"sister"</span> <span class="na">href=</span><span class="s">"http://example.com/elsie"</span> <span class="na">id=</span><span class="s">"link1"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- Elsie --&gt;</span>
   <span class="nt">&lt;/a&gt;</span>
   ,
   <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"sister"</span> <span class="na">href=</span><span class="s">"http://example.com/lacie"</span> <span class="na">id=</span><span class="s">"link2"</span><span class="nt">&gt;</span>
    Lacie
   <span class="nt">&lt;/a&gt;</span>
   and
   <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"sister"</span> <span class="na">href=</span><span class="s">"http://example.com/tillie"</span> <span class="na">id=</span><span class="s">"link3"</span><span class="nt">&gt;</span>
    Tillie
   <span class="nt">&lt;/a&gt;</span>
   ;
and they lived at the bottom of a well.
  <span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"story"</span><span class="nt">&gt;</span>
   ...
  <span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
The Dormouse's story
</code></pre></div></div>
<h2 id="èŠ‚ç‚¹é€‰æ‹©å™¨">èŠ‚ç‚¹é€‰æ‹©å™¨</h2>
<h3 id="é€‰æ‹©å…ƒç´ ">é€‰æ‹©å…ƒç´ </h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">head</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;title&gt;The Dormouse's story&lt;/title&gt;
&lt;class 'bs4.element.Tag'&gt;
The Dormouse's story
&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;
&lt;p class="title" name="dromouse"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;
</code></pre></div></div>
<h3 id="æå–ä¿¡æ¯">æå–ä¿¡æ¯</h3>

<ol>
  <li>
    <p>è·å–åç§°</p>

    <p>å¯ä»¥åˆ©ç”¨ name å±æ€§è·å–èŠ‚ç‚¹çš„åç§°</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> title
</code></pre></div>    </div>
  </li>
  <li>
    <p>è·å–å±æ€§</p>

    <p>æ¯ä¸ªèŠ‚ç‚¹å¯èƒ½æœ‰å¤šä¸ªå±æ€§ï¼Œæ¯”å¦‚ id å’Œ class ç­‰ï¼Œé€‰æ‹©è¿™ä¸ªèŠ‚ç‚¹å…ƒç´ åï¼Œå¯ä»¥è°ƒç”¨ attrs è·å–æ‰€æœ‰å±æ€§ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">attrs</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'name'</span><span class="p">])</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> {'class': ['title'], 'name': 'dromouse'}
 dromouse
</code></pre></div>    </div>
  </li>
  <li>
    <p>è·å–å†…å®¹</p>

    <p>å¯ä»¥åˆ©ç”¨ string å±æ€§è·å–èŠ‚ç‚¹å…ƒç´ åŒ…å«çš„æ–‡æœ¬å†…å®¹</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> The Dormouse's story
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="åµŒå¥—é€‰æ‹©">åµŒå¥—é€‰æ‹©</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="n">title</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;title&gt;The Dormouse's story&lt;/title&gt;
&lt;class 'bs4.element.Tag'&gt;
The Dormouse's story
</code></pre></div></div>

<h2 id="å…³è”é€‰æ‹©">å…³è”é€‰æ‹©</h2>

<ol>
  <li>
    <p>å­èŠ‚ç‚¹å’Œå­å­™èŠ‚ç‚¹</p>

    <p>é€‰å–èŠ‚ç‚¹å…ƒç´ ä¹‹åï¼Œå¦‚æœå…ˆè¦è·å–ä»–çš„ç›´æ¥å­èŠ‚ç‚¹ï¼Œå¯ä»¥è°ƒç”¨ contents å±æ€§</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""

 &lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;The Dormouse's story&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
 &lt;p class="story"&gt;...&lt;/p&gt;

 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">contents</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ['\n    Once upon a time there were three little sisters; and their names were\n    ', &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;, '\n', &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;, ' \nand\n', &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;, '\nand they lived at the bottom of a well.\n']
</code></pre></div>    </div>
    <p>contents å¾—åˆ°çš„æ˜¯ç›´æ¥å­èŠ‚ç‚¹çš„åˆ—è¡¨</p>

    <p>åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ children å±æ€§å¾—åˆ°ç›¸åº”çš„ç»“æœ</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">children</span><span class="p">)</span>
 <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">child</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">children</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;list_iterator object at 0x000000000B301D48&gt;
 0 
     Once upon a time there were three little sisters; and their names were
        
 1 &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 2 
 3 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;
 4  
 and
 5 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 6 
 and they lived at the bottom of a well.
</code></pre></div>    </div>
    <p>å¦‚æœè¦å¾—åˆ°æ‰€æœ‰çš„å­å­™èŠ‚ç‚¹ï¼Œå¯ä»¥è°ƒç”¨ descendants å±æ€§ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">descendants</span><span class="p">)</span>
 <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">child</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">descendants</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;generator object Tag.descendants at 0x000000000B2B9548&gt;
 0 
     Once upon a time there were three little sisters; and their names were
        
 1 &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 2 
 3 &lt;span&gt;Elsie&lt;/span&gt;
 4 Elsie
 5 
 6 
 7 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;
 8 Lacie
 9  
 and
 10 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 11 Tillie
 12 
 and they lived at the bottom of a well.
</code></pre></div>    </div>
  </li>
  <li>
    <p>çˆ¶èŠ‚ç‚¹å’Œç¥–å…ˆèŠ‚ç‚¹</p>

    <p>å¦‚æœè¦è·å–æŸä¸ªèŠ‚ç‚¹å…ƒç´ çš„çˆ¶èŠ‚ç‚¹ï¼Œå¯ä»¥è°ƒç”¨ parent å±æ€§ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parent</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
</code></pre></div>    </div>
    <p>å¦‚æœæƒ³è·å–æ‰€æœ‰çš„ç¥–å…ˆèŠ‚ç‚¹ï¼Œå¯ä»¥è°ƒç”¨parents å±æ€§ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">parents</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parents</span><span class="p">)))</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;class 'generator'&gt;
 [(0, &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;), (1, &lt;body&gt;
 &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
 &lt;p class="story"&gt;...&lt;/p&gt;
 &lt;/body&gt;), (2, &lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;The Dormouse's story&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
 &lt;p class="story"&gt;...&lt;/p&gt;
 &lt;/body&gt;&lt;/html&gt;), (3, &lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;The Dormouse's story&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
 &lt;p class="story"&gt;...&lt;/p&gt;
 &lt;/body&gt;&lt;/html&gt;)]
</code></pre></div>    </div>
  </li>
  <li>
    <p>å…„å¼ŸèŠ‚ç‚¹</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""

 &lt;html&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
         Once upon a time there were three little sisters; and their names were
 &lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
         Hello
 &lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; 
         and
 &lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;
         and they lived at the bottom of a well.
 &lt;/p&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Next Sibling'</span><span class="p">,</span> <span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_sibling</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Prev Sibling'</span><span class="p">,</span> <span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">previous_sibling</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Next Siblings'</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_siblings</span><span class="p">)))</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Prev Siblings'</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">previous_siblings</span><span class="p">)))</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Next Sibling 
         Hello
 Prev Sibling 
         Once upon a time there were three little sisters; and their names were
 Next Siblings [(0, '\n        Hello\n'), (1, &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;), (2, ' \n        and\n'), (3, &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;), (4, '\n        and they lived at the bottom of a well.\n')]
 Prev Siblings [(0, '\n        Once upon a time there were three little sisters; and their names were\n')]
</code></pre></div>    </div>
  </li>
  <li>
    <p>æå–ä¿¡æ¯</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""
 &lt;html&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
         Once upon a time there were three little sisters; and their names were
 &lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Bob&lt;/a&gt;&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; 

 &lt;/p&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Next Sibling:'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_sibling</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_sibling</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_sibling</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Parent:'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parents</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parents</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parents</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="n">attrs</span><span class="p">[</span><span class="s">'class'</span><span class="p">])</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Next Sibling:
 &lt;class 'bs4.element.Tag'&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;
 Lacie
 Parent:
 &lt;class 'generator'&gt;
 &lt;p class="story"&gt;
         Once upon a time there were three little sisters; and their names were
 &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Bob&lt;/a&gt;&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;
 &lt;/p&gt;
 ['story']
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="æ–¹æ³•é€‰æ‹©å™¨">æ–¹æ³•é€‰æ‹©å™¨</h2>

<ul>
  <li>
    <p>find_all()</p>

    <ol>
      <li>
        <p>name</p>

        <p>æˆ‘ä»¬å¯ä»¥æ ¹æ®èŠ‚ç‚¹åæ¥æŸ¥è¯¢å…ƒç´ </p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""
 &lt;div class="panel"&gt;
 &lt;div class="panel-heading"&gt;
 &lt;h4&gt;Hello&lt;/h4&gt;
 &lt;/div&gt;
 &lt;div class="panel-body"&gt;
 &lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;
 &lt;ul class="list list-small" id="list-2"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;/ul&gt;
 &lt;/div&gt;
 &lt;/div&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'ul'</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'ul'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [&lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;, &lt;ul class="list list-small" id="list-2"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;/ul&gt;]
 &lt;class 'bs4.element.Tag'&gt;
</code></pre></div>        </div>
        <p>å› ä¸ºéƒ½æ˜¯ Tag ç±»å‹ï¼Œæ‰€ä»¥ä¾ç„¶å¯ä»¥è¿›è¡ŒåµŒå¥—æŸ¥è¯¢ã€‚</p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">for</span> <span class="n">ul</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'ul'</span><span class="p">):</span>
 <span class="k">print</span><span class="p">(</span><span class="n">ul</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'li'</span><span class="p">))</span>
 <span class="k">for</span> <span class="n">li</span> <span class="ow">in</span> <span class="n">ul</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'li'</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="n">li</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;, &lt;li class="element"&gt;Jay&lt;/li&gt;]
 Foo
 Bar
 Jay
 [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
 Foo
 Bar
</code></pre></div>        </div>
      </li>
      <li>
        <p>attrs</p>

        <p>é™¤äº†å·¥å…·èŠ‚ç‚¹åæŸ¥è¯¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€äº›å±æ€§æ¥æŸ¥è¯¢ï¼Œ        å¯¹äºä¸€äº›å¸¸ç”¨çš„å±æ€§ï¼Œæ¯”å¦‚ id å’Œ class ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ attrs æ¥ä¼ é€’</p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""
 &lt;div class="panel"&gt;
 &lt;div class="panel-heading"&gt;
 &lt;h4&gt;Hello&lt;/h4&gt;
 &lt;/div&gt;
 &lt;div class="panel-body"&gt;
 &lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;
 &lt;ul class="list list-small" id="list-2"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;/ul&gt;
 &lt;/div&gt;
 &lt;/div&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'id'</span><span class="p">:</span> <span class="s">'list-1'</span><span class="p">}))</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'elements'</span><span class="p">}))</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'-----'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'list-1'</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s">'element'</span><span class="p">))</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [&lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;]
 []
 -----
 [&lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;]
 [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;, &lt;li class="element"&gt;Jay&lt;/li&gt;, &lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
</code></pre></div>        </div>
      </li>
      <li>
        <p>text</p>

        <p>text å‚æ•°å¯ç”¨æ¥åŒ¹é…èŠ‚ç‚¹çš„æ–‡æœ¬ï¼Œä¼ å…¥çš„å½¢å¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">re</span>

 <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""
 &lt;div class="panel"&gt;
 &lt;div class="panel-body"&gt;
 &lt;a&gt;Hello, this is a link&lt;/a&gt;
 &lt;a&gt;Hello, this is a link, too&lt;/a&gt;
 &lt;/div&gt;
 &lt;/div&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'link'</span><span class="p">)))</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ['Hello, this is a link', 'Hello, this is a link, too']
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>
    <p>find()
find() è¿”å›çš„æ˜¯å•ä¸ªå…ƒç´ 
```python
from bs4 import BeautifulSoup</p>
  </li>
</ul>

<p>html = â€œâ€â€</p>
<div class="panel">
<div class="panel-heading">
<h4>Hello</h4>
</div>
<div class="panel-body">
<ul class="list" id="list-1">
<li class="element">Foo</li>
<li class="element">Bar</li>
<li class="element">Jay</li>
</ul>
<ul class="list list-small" id="list-2">
<li class="element">Foo</li>
<li class="element">Bar</li>
</ul>
</div>
</div>
<p>â€â€â€</p>

<p>soup = BeautifulSoup(html, â€˜lxmlâ€™)
print(soup.find(name=â€™ulâ€™))
print(type(soup.find(name=â€™ulâ€™)))
print(soup.find(class_=â€™listâ€™))</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>è¿è¡Œç»“æœï¼š
</code></pre></div></div>
<ul class="list" id="list-1">
<li class="element">Foo</li>
<li class="element">Bar</li>
<li class="element">Jay</li>
</ul>
<p>&lt;class â€˜bs4.element.Tagâ€™&gt;</p>
<ul class="list" id="list-1">
<li class="element">Foo</li>
<li class="element">Bar</li>
<li class="element">Jay</li>
</ul>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    - find_parents() å’Œ find_parent()ï¼š å‰è€…è¿”å›æ‰€æœ‰ç¥–å…ˆèŠ‚ç‚¹ï¼Œåè€…è¿”å›ç›´æ¥çˆ¶èŠ‚ç‚¹
    - find_next_siblings() å’Œ find_next_sibling()ï¼š å‰è€…è¿”å›åé¢æ‰€æœ‰çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œåè€…è¿”å›åé¢ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹
    - find_previous_siblings() å’Œ find_previous_sibling()ï¼š å‰è€…è¿”å›å‰é¢æ‰€æœ‰çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œåè€…è¿”å›å‰é¢ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹
    - find_all_next() å’Œ find_next()ï¼š å‰è€…è¿”å›èŠ‚ç‚¹åæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œåè€…è¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹
    - find_all_previous() å’Œ fing_previous()ï¼š å‰è€…è¿”å›èŠ‚ç‚¹å‰æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œåè€…è¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹

## CSS é€‰æ‹©å™¨
ä½¿ç”¨ CSS é€‰æ‹©å™¨æ—¶ï¼Œåªéœ€è¦è°ƒç”¨ select() æ–¹æ³•ï¼Œä¼ å…¥ç›¸åº”çš„ CSS é€‰æ‹©å™¨å³å¯
```python
from bs4 import BeautifulSoup

html = """
&lt;div class="panel"&gt;
&lt;div class="panel-heading"&gt;
&lt;h4&gt;Hello&lt;/h4&gt;
&lt;/div&gt;
&lt;div class="panel-body"&gt;
&lt;ul class="list" id="list-1"&gt;
&lt;li class="element"&gt;Foo&lt;/li&gt;
&lt;li class="element"&gt;Bar&lt;/li&gt;
&lt;li class="element"&gt;Jay&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class="list list-small" id="list-2"&gt;
&lt;li class="element"&gt;Foo&lt;/li&gt;
&lt;li class="element"&gt;Bar&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
"""

soup = BeautifulSoup(html, 'lxml')
print(soup.select('.panel .panel-heading'))
print(soup.select('ul li'))
print(soup.select('#list-2 .element'))
print(type(soup.select('ul')[0]))
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[&lt;div class="panel-heading"&gt;
&lt;h4&gt;Hello&lt;/h4&gt;
&lt;/div&gt;]
[&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;, &lt;li class="element"&gt;Jay&lt;/li&gt;, &lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
[&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
&lt;class 'bs4.element.Tag'&gt;
</code></pre></div></div>

<ul>
  <li>
    <p>åµŒå¥—é€‰æ‹©</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

  <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">ul</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'ul'</span><span class="p">):</span>
      <span class="k">print</span><span class="p">(</span><span class="n">ul</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'li'</span><span class="p">))</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;, &lt;li class="element"&gt;Jay&lt;/li&gt;]
  [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
</code></pre></div>    </div>
  </li>
  <li>
    <p>è·å–å±æ€§</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

  <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">ul</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'ul'</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="n">ul</span><span class="p">[</span><span class="s">'id'</span><span class="p">])</span>
  <span class="k">print</span><span class="p">(</span><span class="n">ul</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'id'</span><span class="p">])</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  list-1
  list-1
  list-2
  list-2
</code></pre></div>    </div>
  </li>
  <li>
    <p>è·å–æ–‡æœ¬</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

  <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">li</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'li'</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="s">'GET Text:'</span><span class="p">,</span> <span class="n">li</span><span class="p">.</span><span class="n">get_text</span><span class="p">())</span>
  <span class="k">print</span><span class="p">(</span><span class="s">'String:'</span><span class="p">,</span> <span class="n">li</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  GET Text: Foo
  String: Foo
  GET Text: Bar
  String: Bar
  GET Text: Jay
  String: Jay
  GET Text: Foo
  String: Foo
  GET Text: Bar
  String: Bar
</code></pre></div>    </div>
    <p>=======
â€”
layout: post
title: Beautiful Soup
subtitle: 
author: Balbo Cheng
categories: python
tags: [reptile]
â€”</p>
    <h2 id="è§£æå™¨-1">è§£æå™¨</h2>
    <p>Beautiful Soup åœ¨è§£ææ—¶å®é™…ä¸Šä¾èµ–è§£æå™¨ï¼Œä»–é™¤äº†æ”¯æŒ Python æ ‡å‡†åº“ä¸­çš„ HTML è§£æå™¨å¤–ï¼Œè¿˜æ”¯æŒä¸€äº›ç¬¬ä¸‰æ–¹è§£æå™¨ã€‚</p>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th>è§£æå™¨</th>
      <th>ä½¿ç”¨æ–¹æ³•</th>
      <th>ä¼˜åŠ¿</th>
      <th>åŠ£åŠ¿</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Pythonæ ‡å‡†åº“</td>
      <td>BeautifulSoup(markup, â€˜html.parserâ€™)</td>
      <td>Python çš„å†…ç½®æ ‡å‡†åº“ã€æ‰§è¡Œé€Ÿåº¦é€‚ä¸­ã€æ–‡æ¡£å®¹é”™èƒ½åŠ›å¼º</td>
      <td>Python 2.7.3 åŠ Python 3.2.2 ä¹‹å‰çš„ç‰ˆæœ¬æ–‡æ¡£å®¹é”™èƒ½åŠ›å·®</td>
    </tr>
    <tr>
      <td>lxml HTML è§£æå™¨</td>
      <td>BeautifulSoup(markup, â€˜lxmlâ€™)</td>
      <td>é€Ÿåº¦å¿«ã€æ–‡æ¡£å®¹é”™èƒ½åŠ›å¼º</td>
      <td>éœ€è¦å®‰è£… C è¯­è¨€åº“</td>
    </tr>
    <tr>
      <td>lxml XML è§£æå™¨</td>
      <td>BeautifulSoup(markup, â€˜xmlâ€™)</td>
      <td>é€Ÿåº¦å¿«ã€å”¯ä¸€æ”¯æŒ XML çš„è§£æå™¨</td>
      <td>éœ€è¦å®‰è£… C è¯­è¨€åº“</td>
    </tr>
    <tr>
      <td>html5lib</td>
      <td>BeautifulSoup(markup, â€˜html5libâ€™)</td>
      <td>æœ€å¥½çš„å®¹é”™æ€§ã€ä»¥æµè§ˆå™¨çš„æ–¹å¼è§£ææ–‡æ¡£ã€ç”Ÿæˆ HTML5 æ ¼å¼çš„æ–‡æ¡£</td>
      <td>é€Ÿåº¦æ…¢ã€ä¸ä¾èµ–å¤–éƒ¨æ‰©å±•</td>
    </tr>
  </tbody>
</table>

<h2 id="åŸºæœ¬ç”¨æ³•-1">åŸºæœ¬ç”¨æ³•</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">html</span> <span class="o">=</span> <span class="s">"""

&lt;html&gt;&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;

&lt;body&gt;

&lt;p class="title" name="dromouse"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;

&lt;p class="story"&gt;Once upon a time there were three little sisters; and their names were

&lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;&lt;!-- Elsie --&gt;&lt;/a&gt;,

&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; and

&lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;;

and they lived at the bottom of a well.&lt;/p&gt;

&lt;p class="story"&gt;...&lt;/p&gt;

"""</span>
</code></pre></div></div>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
<span class="c1"># æŠŠè§£æçš„å­—ç¬¦ä¸²ä»¥æ ‡å‡†çš„ç¼©è¿›æ ¼å¼è¾“å‡º
</span><span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">prettify</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
 <span class="nt">&lt;head&gt;</span>
  <span class="nt">&lt;title&gt;</span>
   The Dormouse's story
  <span class="nt">&lt;/title&gt;</span>
 <span class="nt">&lt;/head&gt;</span>
 <span class="nt">&lt;body&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"title"</span> <span class="na">name=</span><span class="s">"dromouse"</span><span class="nt">&gt;</span>
   <span class="nt">&lt;b&gt;</span>
    The Dormouse's story
   <span class="nt">&lt;/b&gt;</span>
  <span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"story"</span><span class="nt">&gt;</span>
   Once upon a time there were three little sisters; and their names were
   <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"sister"</span> <span class="na">href=</span><span class="s">"http://example.com/elsie"</span> <span class="na">id=</span><span class="s">"link1"</span><span class="nt">&gt;</span>
    <span class="c">&lt;!-- Elsie --&gt;</span>
   <span class="nt">&lt;/a&gt;</span>
   ,
   <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"sister"</span> <span class="na">href=</span><span class="s">"http://example.com/lacie"</span> <span class="na">id=</span><span class="s">"link2"</span><span class="nt">&gt;</span>
    Lacie
   <span class="nt">&lt;/a&gt;</span>
   and
   <span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">"sister"</span> <span class="na">href=</span><span class="s">"http://example.com/tillie"</span> <span class="na">id=</span><span class="s">"link3"</span><span class="nt">&gt;</span>
    Tillie
   <span class="nt">&lt;/a&gt;</span>
   ;
and they lived at the bottom of a well.
  <span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"story"</span><span class="nt">&gt;</span>
   ...
  <span class="nt">&lt;/p&gt;</span>
 <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
The Dormouse's story
</code></pre></div></div>
<h2 id="èŠ‚ç‚¹é€‰æ‹©å™¨-1">èŠ‚ç‚¹é€‰æ‹©å™¨</h2>
<h3 id="é€‰æ‹©å…ƒç´ -1">é€‰æ‹©å…ƒç´ </h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">head</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">)</span>
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;title&gt;The Dormouse's story&lt;/title&gt;
&lt;class 'bs4.element.Tag'&gt;
The Dormouse's story
&lt;head&gt;&lt;title&gt;The Dormouse's story&lt;/title&gt;&lt;/head&gt;
&lt;p class="title" name="dromouse"&gt;&lt;b&gt;The Dormouse's story&lt;/b&gt;&lt;/p&gt;
</code></pre></div></div>
<h3 id="æå–ä¿¡æ¯-1">æå–ä¿¡æ¯</h3>

<ol>
  <li>
    <p>è·å–åç§°</p>

    <p>å¯ä»¥åˆ©ç”¨ name å±æ€§è·å–èŠ‚ç‚¹çš„åç§°</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> title
</code></pre></div>    </div>
  </li>
  <li>
    <p>è·å–å±æ€§</p>

    <p>æ¯ä¸ªèŠ‚ç‚¹å¯èƒ½æœ‰å¤šä¸ªå±æ€§ï¼Œæ¯”å¦‚ id å’Œ class ç­‰ï¼Œé€‰æ‹©è¿™ä¸ªèŠ‚ç‚¹å…ƒç´ åï¼Œå¯ä»¥è°ƒç”¨ attrs è·å–æ‰€æœ‰å±æ€§ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">attrs</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'name'</span><span class="p">])</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> {'class': ['title'], 'name': 'dromouse'}
 dromouse
</code></pre></div>    </div>
  </li>
  <li>
    <p>è·å–å†…å®¹</p>

    <p>å¯ä»¥åˆ©ç”¨ string å±æ€§è·å–èŠ‚ç‚¹å…ƒç´ åŒ…å«çš„æ–‡æœ¬å†…å®¹</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> The Dormouse's story
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="åµŒå¥—é€‰æ‹©-1">åµŒå¥—é€‰æ‹©</h2>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="n">title</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="n">title</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">head</span><span class="p">.</span><span class="n">title</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;title&gt;The Dormouse's story&lt;/title&gt;
&lt;class 'bs4.element.Tag'&gt;
The Dormouse's story
</code></pre></div></div>

<h2 id="å…³è”é€‰æ‹©-1">å…³è”é€‰æ‹©</h2>

<ol>
  <li>
    <p>å­èŠ‚ç‚¹å’Œå­å­™èŠ‚ç‚¹</p>

    <p>é€‰å–èŠ‚ç‚¹å…ƒç´ ä¹‹åï¼Œå¦‚æœå…ˆè¦è·å–ä»–çš„ç›´æ¥å­èŠ‚ç‚¹ï¼Œå¯ä»¥è°ƒç”¨ contents å±æ€§</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""

 &lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;The Dormouse's story&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
 &lt;p class="story"&gt;...&lt;/p&gt;

 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">contents</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ['\n    Once upon a time there were three little sisters; and their names were\n    ', &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;, '\n', &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;, ' \nand\n', &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;, '\nand they lived at the bottom of a well.\n']
</code></pre></div>    </div>
    <p>contents å¾—åˆ°çš„æ˜¯ç›´æ¥å­èŠ‚ç‚¹çš„åˆ—è¡¨</p>

    <p>åŒæ ·ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ children å±æ€§å¾—åˆ°ç›¸åº”çš„ç»“æœ</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">children</span><span class="p">)</span>
 <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">child</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">children</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;list_iterator object at 0x000000000B301D48&gt;
 0 
     Once upon a time there were three little sisters; and their names were
        
 1 &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 2 
 3 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;
 4  
 and
 5 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 6 
 and they lived at the bottom of a well.
</code></pre></div>    </div>
    <p>å¦‚æœè¦å¾—åˆ°æ‰€æœ‰çš„å­å­™èŠ‚ç‚¹ï¼Œå¯ä»¥è°ƒç”¨ descendants å±æ€§ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">descendants</span><span class="p">)</span>
 <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">child</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">descendants</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">child</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;generator object Tag.descendants at 0x000000000B2B9548&gt;
 0 
     Once upon a time there were three little sisters; and their names were
        
 1 &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 2 
 3 &lt;span&gt;Elsie&lt;/span&gt;
 4 Elsie
 5 
 6 
 7 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;
 8 Lacie
 9  
 and
 10 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 11 Tillie
 12 
 and they lived at the bottom of a well.
</code></pre></div>    </div>
  </li>
  <li>
    <p>çˆ¶èŠ‚ç‚¹å’Œç¥–å…ˆèŠ‚ç‚¹</p>

    <p>å¦‚æœè¦è·å–æŸä¸ªèŠ‚ç‚¹å…ƒç´ çš„çˆ¶èŠ‚ç‚¹ï¼Œå¯ä»¥è°ƒç”¨ parent å±æ€§ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parent</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
</code></pre></div>    </div>
    <p>å¦‚æœæƒ³è·å–æ‰€æœ‰çš„ç¥–å…ˆèŠ‚ç‚¹ï¼Œå¯ä»¥è°ƒç”¨parents å±æ€§ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">p</span><span class="p">.</span><span class="n">parents</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parents</span><span class="p">)))</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;class 'generator'&gt;
 [(0, &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;), (1, &lt;body&gt;
 &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
 &lt;p class="story"&gt;...&lt;/p&gt;
 &lt;/body&gt;), (2, &lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;The Dormouse's story&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
 &lt;p class="story"&gt;...&lt;/p&gt;
 &lt;/body&gt;&lt;/html&gt;), (3, &lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;The Dormouse's story&lt;/title&gt;
 &lt;/head&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
     Once upon a time there were three little sisters; and their names were
     &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt; 
 and
 &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;
 and they lived at the bottom of a well.
 &lt;/p&gt;
 &lt;p class="story"&gt;...&lt;/p&gt;
 &lt;/body&gt;&lt;/html&gt;)]
</code></pre></div>    </div>
  </li>
  <li>
    <p>å…„å¼ŸèŠ‚ç‚¹</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""

 &lt;html&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
         Once upon a time there were three little sisters; and their names were
 &lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;
 &lt;span&gt;Elsie&lt;/span&gt;
 &lt;/a&gt;
         Hello
 &lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; 
         and
 &lt;a href="http://example.com/tillie" class="sister" id="link3"&gt;Tillie&lt;/a&gt;
         and they lived at the bottom of a well.
 &lt;/p&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Next Sibling'</span><span class="p">,</span> <span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_sibling</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Prev Sibling'</span><span class="p">,</span> <span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">previous_sibling</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Next Siblings'</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_siblings</span><span class="p">)))</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Prev Siblings'</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">enumerate</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">previous_siblings</span><span class="p">)))</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Next Sibling 
         Hello
 Prev Sibling 
         Once upon a time there were three little sisters; and their names were
 Next Siblings [(0, '\n        Hello\n'), (1, &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;), (2, ' \n        and\n'), (3, &lt;a class="sister" href="http://example.com/tillie" id="link3"&gt;Tillie&lt;/a&gt;), (4, '\n        and they lived at the bottom of a well.\n')]
 Prev Siblings [(0, '\n        Once upon a time there were three little sisters; and their names were\n')]
</code></pre></div>    </div>
  </li>
  <li>
    <p>æå–ä¿¡æ¯</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""
 &lt;html&gt;
 &lt;body&gt;
 &lt;p class="story"&gt;
         Once upon a time there were three little sisters; and their names were
 &lt;a href="http://example.com/elsie" class="sister" id="link1"&gt;Bob&lt;/a&gt;&lt;a href="http://example.com/lacie" class="sister" id="link2"&gt;Lacie&lt;/a&gt; 

 &lt;/p&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Next Sibling:'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_sibling</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_sibling</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">next_sibling</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Parent:'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parents</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parents</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">a</span><span class="p">.</span><span class="n">parents</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="n">attrs</span><span class="p">[</span><span class="s">'class'</span><span class="p">])</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Next Sibling:
 &lt;class 'bs4.element.Tag'&gt;
 &lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;
 Lacie
 Parent:
 &lt;class 'generator'&gt;
 &lt;p class="story"&gt;
         Once upon a time there were three little sisters; and their names were
 &lt;a class="sister" href="http://example.com/elsie" id="link1"&gt;Bob&lt;/a&gt;&lt;a class="sister" href="http://example.com/lacie" id="link2"&gt;Lacie&lt;/a&gt;
 &lt;/p&gt;
 ['story']
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="æ–¹æ³•é€‰æ‹©å™¨-1">æ–¹æ³•é€‰æ‹©å™¨</h2>

<ul>
  <li>
    <p>find_all()</p>

    <ol>
      <li>
        <p>name</p>

        <p>æˆ‘ä»¬å¯ä»¥æ ¹æ®èŠ‚ç‚¹åæ¥æŸ¥è¯¢å…ƒç´ </p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""
 &lt;div class="panel"&gt;
 &lt;div class="panel-heading"&gt;
 &lt;h4&gt;Hello&lt;/h4&gt;
 &lt;/div&gt;
 &lt;div class="panel-body"&gt;
 &lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;
 &lt;ul class="list list-small" id="list-2"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;/ul&gt;
 &lt;/div&gt;
 &lt;/div&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'ul'</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'ul'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]))</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [&lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;, &lt;ul class="list list-small" id="list-2"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;/ul&gt;]
 &lt;class 'bs4.element.Tag'&gt;
</code></pre></div>        </div>
        <p>å› ä¸ºéƒ½æ˜¯ Tag ç±»å‹ï¼Œæ‰€ä»¥ä¾ç„¶å¯ä»¥è¿›è¡ŒåµŒå¥—æŸ¥è¯¢ã€‚</p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="k">for</span> <span class="n">ul</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'ul'</span><span class="p">):</span>
 <span class="k">print</span><span class="p">(</span><span class="n">ul</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'li'</span><span class="p">))</span>
 <span class="k">for</span> <span class="n">li</span> <span class="ow">in</span> <span class="n">ul</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'li'</span><span class="p">):</span>
     <span class="k">print</span><span class="p">(</span><span class="n">li</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;, &lt;li class="element"&gt;Jay&lt;/li&gt;]
 Foo
 Bar
 Jay
 [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
 Foo
 Bar
</code></pre></div>        </div>
      </li>
      <li>
        <p>attrs</p>

        <p>é™¤äº†å·¥å…·èŠ‚ç‚¹åæŸ¥è¯¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€äº›å±æ€§æ¥æŸ¥è¯¢ï¼Œ        å¯¹äºä¸€äº›å¸¸ç”¨çš„å±æ€§ï¼Œæ¯”å¦‚ id å’Œ class ç­‰ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨ attrs æ¥ä¼ é€’</p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""
 &lt;div class="panel"&gt;
 &lt;div class="panel-heading"&gt;
 &lt;h4&gt;Hello&lt;/h4&gt;
 &lt;/div&gt;
 &lt;div class="panel-body"&gt;
 &lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;
 &lt;ul class="list list-small" id="list-2"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;/ul&gt;
 &lt;/div&gt;
 &lt;/div&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'id'</span><span class="p">:</span> <span class="s">'list-1'</span><span class="p">}))</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">attrs</span><span class="o">=</span><span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'elements'</span><span class="p">}))</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'-----'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s">'list-1'</span><span class="p">))</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">class_</span><span class="o">=</span><span class="s">'element'</span><span class="p">))</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [&lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;]
 []
 -----
 [&lt;ul class="list" id="list-1"&gt;
 &lt;li class="element"&gt;Foo&lt;/li&gt;
 &lt;li class="element"&gt;Bar&lt;/li&gt;
 &lt;li class="element"&gt;Jay&lt;/li&gt;
 &lt;/ul&gt;]
 [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;, &lt;li class="element"&gt;Jay&lt;/li&gt;, &lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
</code></pre></div>        </div>
      </li>
      <li>
        <p>text</p>

        <p>text å‚æ•°å¯ç”¨æ¥åŒ¹é…èŠ‚ç‚¹çš„æ–‡æœ¬ï¼Œä¼ å…¥çš„å½¢å¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡</p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">re</span>

 <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

 <span class="n">html</span> <span class="o">=</span> <span class="s">"""
 &lt;div class="panel"&gt;
 &lt;div class="panel-body"&gt;
 &lt;a&gt;Hello, this is a link&lt;/a&gt;
 &lt;a&gt;Hello, this is a link, too&lt;/a&gt;
 &lt;/div&gt;
 &lt;/div&gt;
 """</span>

 <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">soup</span><span class="p">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'link'</span><span class="p">)))</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ['Hello, this is a link', 'Hello, this is a link, too']
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>
    <p>find()
find() è¿”å›çš„æ˜¯å•ä¸ªå…ƒç´ 
```python
from bs4 import BeautifulSoup</p>
  </li>
</ul>

<p>html = â€œâ€â€</p>
<div class="panel">
<div class="panel-heading">
<h4>Hello</h4>
</div>
<div class="panel-body">
<ul class="list" id="list-1">
<li class="element">Foo</li>
<li class="element">Bar</li>
<li class="element">Jay</li>
</ul>
<ul class="list list-small" id="list-2">
<li class="element">Foo</li>
<li class="element">Bar</li>
</ul>
</div>
</div>
<p>â€â€â€</p>

<p>soup = BeautifulSoup(html, â€˜lxmlâ€™)
print(soup.find(name=â€™ulâ€™))
print(type(soup.find(name=â€™ulâ€™)))
print(soup.find(class_=â€™listâ€™))</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>è¿è¡Œç»“æœï¼š
</code></pre></div></div>
<ul class="list" id="list-1">
<li class="element">Foo</li>
<li class="element">Bar</li>
<li class="element">Jay</li>
</ul>
<p>&lt;class â€˜bs4.element.Tagâ€™&gt;</p>
<ul class="list" id="list-1">
<li class="element">Foo</li>
<li class="element">Bar</li>
<li class="element">Jay</li>
</ul>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    - find_parents() å’Œ find_parent()ï¼š å‰è€…è¿”å›æ‰€æœ‰ç¥–å…ˆèŠ‚ç‚¹ï¼Œåè€…è¿”å›ç›´æ¥çˆ¶èŠ‚ç‚¹
    - find_next_siblings() å’Œ find_next_sibling()ï¼š å‰è€…è¿”å›åé¢æ‰€æœ‰çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œåè€…è¿”å›åé¢ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹
    - find_previous_siblings() å’Œ find_previous_sibling()ï¼š å‰è€…è¿”å›å‰é¢æ‰€æœ‰çš„å…„å¼ŸèŠ‚ç‚¹ï¼Œåè€…è¿”å›å‰é¢ç¬¬ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹
    - find_all_next() å’Œ find_next()ï¼š å‰è€…è¿”å›èŠ‚ç‚¹åæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œåè€…è¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹
    - find_all_previous() å’Œ fing_previous()ï¼š å‰è€…è¿”å›èŠ‚ç‚¹å‰æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œåè€…è¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹

## CSS é€‰æ‹©å™¨
ä½¿ç”¨ CSS é€‰æ‹©å™¨æ—¶ï¼Œåªéœ€è¦è°ƒç”¨ select() æ–¹æ³•ï¼Œä¼ å…¥ç›¸åº”çš„ CSS é€‰æ‹©å™¨å³å¯
```python
from bs4 import BeautifulSoup

html = """
&lt;div class="panel"&gt;
&lt;div class="panel-heading"&gt;
&lt;h4&gt;Hello&lt;/h4&gt;
&lt;/div&gt;
&lt;div class="panel-body"&gt;
&lt;ul class="list" id="list-1"&gt;
&lt;li class="element"&gt;Foo&lt;/li&gt;
&lt;li class="element"&gt;Bar&lt;/li&gt;
&lt;li class="element"&gt;Jay&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class="list list-small" id="list-2"&gt;
&lt;li class="element"&gt;Foo&lt;/li&gt;
&lt;li class="element"&gt;Bar&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
"""

soup = BeautifulSoup(html, 'lxml')
print(soup.select('.panel .panel-heading'))
print(soup.select('ul li'))
print(soup.select('#list-2 .element'))
print(type(soup.select('ul')[0]))
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[&lt;div class="panel-heading"&gt;
&lt;h4&gt;Hello&lt;/h4&gt;
&lt;/div&gt;]
[&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;, &lt;li class="element"&gt;Jay&lt;/li&gt;, &lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
[&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
&lt;class 'bs4.element.Tag'&gt;
</code></pre></div></div>

<ul>
  <li>
    <p>åµŒå¥—é€‰æ‹©</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

  <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">ul</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'ul'</span><span class="p">):</span>
      <span class="k">print</span><span class="p">(</span><span class="n">ul</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'li'</span><span class="p">))</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;, &lt;li class="element"&gt;Jay&lt;/li&gt;]
  [&lt;li class="element"&gt;Foo&lt;/li&gt;, &lt;li class="element"&gt;Bar&lt;/li&gt;]
</code></pre></div>    </div>
  </li>
  <li>
    <p>è·å–å±æ€§</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

  <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">ul</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'ul'</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="n">ul</span><span class="p">[</span><span class="s">'id'</span><span class="p">])</span>
  <span class="k">print</span><span class="p">(</span><span class="n">ul</span><span class="p">.</span><span class="n">attrs</span><span class="p">[</span><span class="s">'id'</span><span class="p">])</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  list-1
  list-1
  list-2
  list-2
</code></pre></div>    </div>
  </li>
  <li>
    <p>è·å–æ–‡æœ¬</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>

  <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s">'lxml'</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">li</span> <span class="ow">in</span> <span class="n">soup</span><span class="p">.</span><span class="n">select</span><span class="p">(</span><span class="s">'li'</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="s">'GET Text:'</span><span class="p">,</span> <span class="n">li</span><span class="p">.</span><span class="n">get_text</span><span class="p">())</span>
  <span class="k">print</span><span class="p">(</span><span class="s">'String:'</span><span class="p">,</span> <span class="n">li</span><span class="p">.</span><span class="n">string</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  GET Text: Foo
  String: Foo
  GET Text: Bar
  String: Bar
  GET Text: Jay
  String: Jay
  GET Text: Foo
  String: Foo
  GET Text: Bar
  String: Bar
</code></pre></div>    </div>
    <blockquote>
      <blockquote>
        <blockquote>
          <blockquote>
            <blockquote>
              <blockquote>
                <blockquote>
                  <p>e5c77ca (æ–°é¡µé¢)</p>
                </blockquote>
              </blockquote>
            </blockquote>
          </blockquote>
        </blockquote>
      </blockquote>
    </blockquote>
  </li>
</ul>
:ET