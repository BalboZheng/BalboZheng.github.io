I"½P<h2 id="-head">Â«Â«Â«&lt; HEAD</h2>
<p>layout:     post
title:      â€œæ•°æ®åº“å­˜å‚¨â€
subtitle:   â€œæ•°æ®åº“å­˜å‚¨â€
date:       2019-11-22 11:54:02
author:     â€œBalboâ€
header-img: â€œimg/post-bg-2019.jpgâ€
tags:
    - reptile
â€”</p>
<h2 id="å…³ç³»å‹æ•°æ®åº“å­˜å‚¨">å…³ç³»å‹æ•°æ®åº“å­˜å‚¨</h2>

<h3 id="mysql-å­˜å‚¨">MySQL å­˜å‚¨</h3>
<ol>
  <li>
    <p>è¿æ¥æ•°æ®åº“</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>
 <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'SELECT VERSION()'</span><span class="p">)</span>
 <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Database version:'</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
 <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">"CREATE DATABASE spiders DEFAULT CHARACTER SET utf-8"</span><span class="p">)</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Database version: ('5.5.53',)
</code></pre></div>    </div>
  </li>
  <li>
    <p>åˆ›å»ºè¡¨</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>
 <span class="n">sql</span> <span class="o">=</span> <span class="s">'CREATE TABLE IF NOT EXISTS students (id VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, age INT NOT NULL, PRIMARY KEY (id))'</span>
 <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span><span class="n">s</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ’å…¥æ•°æ®</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s">'id'</span><span class="p">:</span> <span class="s">'20120001'</span><span class="p">,</span>
     <span class="s">'name'</span><span class="p">:</span> <span class="s">'Bob'</span><span class="p">,</span>
     <span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
 <span class="p">}</span>
 <span class="n">table</span> <span class="o">=</span> <span class="s">'students'</span>
 <span class="n">keys</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">keys</span><span class="p">())</span>
 <span class="n">values</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="s">'%s'</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
 <span class="n">sql</span> <span class="o">=</span> <span class="s">'INSERT INTO {table}({keys}) VALUE ({values})'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="k">if</span> <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">values</span><span class="p">())):</span>
         <span class="k">print</span><span class="p">(</span><span class="s">'Successful'</span><span class="p">)</span>
         <span class="n">db</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Failed'</span><span class="p">)</span>
     <span class="n">db</span><span class="p">.</span><span class="n">rollback</span><span class="p">()</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ›´æ–°æ•°æ®</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s">'id'</span><span class="p">:</span> <span class="s">'20120001'</span><span class="p">,</span>
     <span class="s">'name'</span><span class="p">:</span> <span class="s">'Bob'</span><span class="p">,</span>
     <span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
 <span class="p">}</span>
 <span class="n">table</span> <span class="o">=</span> <span class="s">'students'</span>
 <span class="n">keys</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">keys</span><span class="p">())</span>
 <span class="n">values</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="s">'%s'</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
 <span class="n">sql</span> <span class="o">=</span> <span class="s">'INSERT INTO {table}({keys}) VALUE ({values}) ON DUPLICATE KEY UPDATE '</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>
 <span class="n">update</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="s">" {key} = %s"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="p">])</span>
 <span class="n">sql</span> <span class="o">+=</span> <span class="n">update</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="k">if</span> <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">values</span><span class="p">())</span><span class="o">*</span><span class="mi">2</span><span class="p">):</span>
         <span class="k">print</span><span class="p">(</span><span class="s">'Successful'</span><span class="p">)</span>
         <span class="n">db</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Failed'</span><span class="p">)</span>
     <span class="n">db</span><span class="p">.</span><span class="n">rollback</span><span class="p">()</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>åˆ é™¤æ•°æ®</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">table</span> <span class="o">=</span> <span class="s">'students'</span>
 <span class="n">condition</span> <span class="o">=</span> <span class="s">'age &gt; 20'</span>

 <span class="n">sql</span> <span class="o">=</span> <span class="s">'DELETE FROM {table} WHERE {condition}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="n">condition</span><span class="p">)</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
     <span class="n">db</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="n">db</span><span class="p">.</span><span class="n">rollback</span><span class="p">()</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ•°æ®æŸ¥è¯¢</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">sql</span> <span class="o">=</span> <span class="s">'SELECT * FROM students WHERE age &gt;= 20'</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Count:'</span><span class="p">,</span> <span class="n">cursor</span><span class="p">.</span><span class="n">rowcount</span><span class="p">)</span>
     <span class="n">one</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'One:'</span><span class="p">,</span> <span class="n">one</span><span class="p">)</span>
     <span class="n">results</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchall</span><span class="p">()</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Results:'</span><span class="p">,</span> <span class="n">results</span><span class="p">)</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Result Type:'</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
     <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
         <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Error'</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>åœ¨è¿™é‡Œæˆ‘ä»¬æ„é€ äº†ä¸€æ¡ SQL è¯­å¥ï¼Œå°†å¹´é¾„ 20 å²åŠä»¥ä¸Šçš„å­¦ç”ŸæŸ¥è¯¢å‡ºæ¥ï¼Œç„¶åå°†å…¶ä¼ ç»™ execute() æ–¹æ³•å³å¯ï¼Œæ³¨æ„åœ¨è¿™é‡Œä¸å†éœ€è¦ db çš„ commit() æ–¹æ³•ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥è°ƒç”¨ cursor çš„ rowcount å±æ€§è·å–æŸ¥è¯¢ç»“æœçš„æ¡æ•°ï¼Œå½“å‰ç¤ºä¾‹ä¸­è·å–çš„ç»“æœæ¡æ•°æ˜¯ 4 æ¡ã€‚</p>

    <p>ç„¶åæˆ‘ä»¬è°ƒç”¨äº† fetchone() æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥è·å–ç»“æœçš„ç¬¬ä¸€æ¡æ•°æ®ï¼Œè¿”å›ç»“æœæ˜¯å…ƒç»„å½¢å¼ï¼Œå…ƒç»„çš„å…ƒç´ é¡ºåºè·Ÿå­—æ®µä¸€ä¸€å¯¹åº”ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯ç¬¬ä¸€ä¸ªå­—æ®µ idï¼Œç¬¬äºŒä¸ªå…ƒç´ å°±æ˜¯ç¬¬äºŒä¸ªå­—æ®µ nameï¼Œä»¥æ­¤ç±»æ¨ã€‚éšåæˆ‘ä»¬åˆè°ƒç”¨äº†fetchall() æ–¹æ³•ï¼Œå®ƒå¯ä»¥å¾—åˆ°ç»“æœçš„æ‰€æœ‰æ•°æ®ï¼Œç„¶åå°†å…¶ç»“æœå’Œç±»å‹æ‰“å°å‡ºæ¥ï¼Œå®ƒæ˜¯äºŒé‡å…ƒç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€æ¡è®°å½•ã€‚æˆ‘ä»¬å°†å…¶éå†è¾“å‡ºï¼Œå°†å…¶é€ä¸ªè¾“å‡ºå‡ºæ¥ã€‚</p>

    <p>ä½†æ˜¯è¿™é‡Œæ³¨æ„åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæ˜¾ç¤ºçš„æ˜¯4æ¡æ•°æ®ï¼Œfetall() æ–¹æ³•ä¸æ˜¯è·å–æ‰€æœ‰æ•°æ®å—ï¼Ÿä¸ºä»€ä¹ˆåªæœ‰3æ¡ï¼Ÿè¿™æ˜¯å› ä¸ºå®ƒçš„å†…éƒ¨å®ç°æ˜¯æœ‰ä¸€ä¸ªåç§»æŒ‡é’ˆæ¥æŒ‡å‘æŸ¥è¯¢ç»“æœçš„ï¼Œæœ€å¼€å§‹åç§»æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€æ¡æ•°æ®ï¼Œå–ä¸€æ¬¡ä¹‹åï¼ŒæŒ‡é’ˆåç§»åˆ°ä¸‹ä¸€æ¡æ•°æ®ï¼Œè¿™æ ·å†å–çš„è¯å°±ä¼šå–åˆ°ä¸‹ä¸€æ¡æ•°æ®äº†ã€‚æ‰€ä»¥æˆ‘ä»¬æœ€åˆè°ƒç”¨äº†ä¸€æ¬¡ fetchone() æ–¹æ³•ï¼Œè¿™æ ·ç»“æœçš„åç§»æŒ‡é’ˆå°±æŒ‡å‘äº†ä¸‹ä¸€æ¡æ•°æ®ï¼Œfetchall() æ–¹æ³•è¿”å›çš„æ˜¯åç§»æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ä¸€ç›´åˆ°ç»“æŸçš„æ‰€æœ‰æ•°æ®ï¼Œæ‰€ä»¥ fetchall() æ–¹æ³•è·å–çš„ç»“æœå°±åªå‰© 3 ä¸ªäº†ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè¦ç†è§£åç§»æŒ‡é’ˆçš„æ¦‚å¿µã€‚</p>

    <p>æ‰€ä»¥æˆ‘ä»¬è¿˜å¯ä»¥ç”¨ while å¾ªç¯åŠ  fetchone() çš„æ–¹æ³•æ¥è·å–æ‰€æœ‰æ•°æ®ï¼Œè€Œä¸æ˜¯ç”¨ fetchall() å…¨éƒ¨ä¸€èµ·è·å–å‡ºæ¥ï¼Œfetchall() ä¼šå°†ç»“æœä»¥å…ƒç»„å½¢å¼å…¨éƒ¨è¿”å›ï¼Œå¦‚æœæ•°æ®é‡å¾ˆå¤§ï¼Œé‚£ä¹ˆå ç”¨çš„å¼€é”€ä¼šéå¸¸é«˜ã€‚æ‰€ä»¥æ¨èä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•æ¥é€æ¡å–æ•°æ®ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">sql</span> <span class="o">=</span> <span class="s">'SELECT * FROM students WHERE age &gt;= 20'</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Count:'</span><span class="p">,</span> <span class="n">cursor</span><span class="p">.</span><span class="n">rowcount</span><span class="p">)</span>
     <span class="n">row</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>
     <span class="k">while</span> <span class="n">row</span><span class="p">:</span>
         <span class="k">print</span><span class="p">(</span><span class="s">'Row'</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
         <span class="n">row</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Error'</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="éå…³ç³»å‹æ•°æ®åº“å­˜å‚¨">éå…³ç³»å‹æ•°æ®åº“å­˜å‚¨</h2>

<p>éå…³ç³»å‹æ•°æ®åº“å¯ç»†åˆ†å¦‚ä¸‹ï¼š</p>

<ul>
  <li>é”®å€¼å­˜å‚¨æ•°æ®åº“ï¼šRedisã€Voldemort å’Œ Oracle BDB ç­‰</li>
  <li>åˆ—å­˜å‚¨æ•°æ®åº“ï¼šCassandraã€HBase å’Œ Rick ç­‰</li>
  <li>æ–‡æ¡£å‹æ•°æ®åº“ï¼šCouchDB å’Œ MongoDB ç­‰</li>
  <li>å›¾å½¢æ•°æ®åº“ï¼šNeo4Jã€InfoGrid å’Œ Infinit Graph ç­‰</li>
</ul>

<h3 id="mongodb-å­˜å‚¨">MongoDB å­˜å‚¨</h3>
<ol>
  <li>
    <p>è¿æ¥ MongoDB</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymongo</span>

 <span class="n">client</span> <span class="o">=</span> <span class="n">pymongo</span><span class="p">.</span><span class="n">MongoClient</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">27017</span><span class="p">)</span>
 <span class="c1"># client = pymongo.MongoClient('mongodb://localhost:27017/')
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>æŒ‡å®šæ•°æ®åº“</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">test</span>
 <span class="c1"># db = client['test']
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>æŒ‡å®šé›†åˆ</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">collection</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">students</span>
 <span class="c1"># collection = db['students']
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>æ’å…¥æ•°æ®</p>

    <ul>
      <li>
        <p>æ–°å»ºå­¦ç”Ÿæ•°æ®</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">student1</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">'id'</span><span class="p">:</span> <span class="s">'20170101'</span><span class="p">,</span>
      <span class="s">'name'</span><span class="p">:</span> <span class="s">'Jordan'</span><span class="p">,</span>
      <span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
      <span class="s">'gender'</span><span class="p">:</span> <span class="s">'male'</span>
  <span class="p">}</span>
  <span class="n">student2</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">'id'</span><span class="p">:</span> <span class="s">'20170102'</span><span class="p">,</span>
      <span class="s">'name'</span><span class="p">:</span> <span class="s">'Mike'</span><span class="p">,</span>
      <span class="s">'age'</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span>
      <span class="s">'gender'</span><span class="p">:</span> <span class="s">'male'</span>
  <span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>æ’å…¥ä¸€æ¡æ•°æ®</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">insert_one</span><span class="p">(</span><span class="n">student1</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">inserted_id</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;pymongo.results.InsertOneResult object at 0x0000029188063F48&gt;
  5dd8be4a475adf926a44d21b
</code></pre></div>        </div>
      </li>
      <li>
        <p>æ’å…¥å¤šæ¡æ•°æ®</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">insert_many</span><span class="p">([</span><span class="n">student1</span><span class="p">,</span> <span class="n">student2</span><span class="p">])</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">inserted_ids</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;pymongo.results.InsertManyResult object at 0x00000249740C27C8&gt;
  [ObjectId('5dd8becc6c94b9c18bab42f8'), ObjectId('5dd8becc6c94b9c18bab42f9')]
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>æŸ¥è¯¢</p>

    <ul>
      <li>
        <p>æŸ¥è¯¢ä¸€ä¸ªç»“æœ</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find_one</span><span class="p">({</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'Mike'</span><span class="p">})</span>
  <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;class 'dict'&gt;
  {'_id': ObjectId('5dd8be3466741231fe29341e'), 'id': '20170102', 'name': 'Mike', 'age': 21, 'gender': 'male'}
</code></pre></div>        </div>
      </li>
      <li>
        <p>æ ¹æ® ObjectId æŸ¥è¯¢</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">bson</span> <span class="kn">import</span> <span class="n">ObjectId</span>
                
  <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find_one</span><span class="p">({</span><span class="s">'_id'</span><span class="p">:</span> <span class="n">ObjectId</span><span class="p">(</span><span class="s">'5dd8eb565053ed048d9a21ec'</span><span class="p">)})</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  {'_id': ObjectId('5dd8eb565053ed048d9a21ec'), 'id': '20170101', 'name': 'Jordan', 'age': 20, 'gender': 'male'}
</code></pre></div>        </div>
      </li>
      <li>
        <p>æŸ¥è¯¢å¤šä¸ªç»“æœ</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">({</span><span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
  <span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>å¦‚æœè¦æŸ¥æ‰¾å¤§äº20çš„æ•°æ®</p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">({</span><span class="s">'age'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$gt'</span><span class="p">:</span> <span class="mi">20</span><span class="p">}})</span>
</code></pre></div>        </div>

        <table>
          <thead>
            <tr>
              <th>ç¬¦å·</th>
              <th>å«ä¹‰</th>
              <th>ç¤ºä¾‹</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>$lt</td>
              <td>å°äº</td>
              <td>{â€˜ageâ€™: {â€˜$ltâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$gt</td>
              <td>å¤§äº</td>
              <td>{â€˜ageâ€™: {â€˜$gtâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$lte</td>
              <td>å°äºç­‰äº</td>
              <td>{â€˜ageâ€™: {â€˜$lteâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$gte</td>
              <td>å¤§äºç­‰äº</td>
              <td>{â€˜ageâ€™: {â€˜$gteâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$ne</td>
              <td>ä¸ç­‰äº</td>
              <td>{â€˜ageâ€™: {â€˜$neâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$in</td>
              <td>åœ¨èŒƒå›´å†…</td>
              <td>{â€˜ageâ€™: {â€˜$inâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$nin</td>
              <td>ä¸åœ¨èŒƒå›´å†…</td>
              <td>{â€˜ageâ€™: {â€˜$ninâ€™: 20}}</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>æ­£åˆ™åŒ¹é…æŸ¥è¯¢</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">({</span><span class="s">'name'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$regex'</span><span class="p">:</span> <span class="s">'^J.*'</span><span class="p">}})</span>
</code></pre></div>        </div>
        <p>| ç¬¦å· | å«ä¹‰ | ç¤ºä¾‹ | ç¤ºä¾‹å«ä¹‰ |
  | â€”- | â€”- | â€”- | â€”- |
  | $regex | åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ | {â€˜nameâ€™: {â€˜$regexâ€™: â€˜^J.*â€™}} | nameä»¥ J å¼€å¤´ |
  | $exists | å±æ€§æ˜¯å¦å­˜åœ¨ | {â€˜nameâ€™: {â€˜$existsâ€™: True}} | name å±æ€§å­˜åœ¨ |
  | $type | ç±»å‹åˆ¤æ–­ | {â€˜ageâ€™: {â€˜$typeâ€™: â€˜intâ€™}} | age çš„ç±»å‹ä¸º int |
  | $mod | æ•°å­—æ¨¡æ“ä½œ | {â€˜ageâ€™: {â€˜$modâ€™: [5, 0]}} | å¹´é¾„æ¨¡ 5 ä½™ 0 |
  | $text | æ–‡æœ¬æŸ¥è¯¢ | {â€˜$textâ€™: {â€˜$searchâ€™: â€˜Mikeâ€™}} | text ç±»å‹çš„å±æ€§ä¸­åŒ…å« Mike å­—ç¬¦ä¸² |
  | $where | é«˜çº§æ¡ä»¶æŸ¥è¯¢ | {â€˜$whereâ€™: â€˜obj.fans_count == obj.follows_countâ€™} | è‡ªèº«ç²‰ä¸æ•°ç­‰äºå…³æ³¨æ•° |</p>
      </li>
    </ul>
  </li>
  <li>
    <p>è®¡æ•°</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">count</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">count_documents</span><span class="p">({</span><span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
 <span class="k">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ’åº</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">().</span><span class="n">sort</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="n">pymongo</span><span class="p">.</span><span class="n">ASCENDING</span><span class="p">)</span>
 <span class="c1"># results = collection.find().sort('name', pymongo.DESCENDING)
</span> <span class="k">print</span><span class="p">([</span><span class="n">result</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">])</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>åç§»</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">().</span><span class="n">sort</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="n">pymongo</span><span class="p">.</span><span class="n">ASCENDING</span><span class="p">).</span><span class="n">skip</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
 <span class="k">print</span><span class="p">([</span><span class="n">result</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">])</span>
</code></pre></div>    </div>
    <p>limit() æ–¹æ³•æŒ‡å®šè¦å–çš„ç»“æœä¸ªæ•°</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">().</span><span class="n">sort</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="n">pymongo</span><span class="p">.</span><span class="n">ASCENDING</span><span class="p">).</span><span class="n">skip</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">limit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>åœ¨æ•°æ®åº“éå¸¸åºå¤§çš„æ—¶å€™ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨å¤§çš„åç§»é‡æ¥æŸ¥è¯¢æ•°æ®ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ“ä½œ</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">({</span><span class="s">'_id'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$gt'</span><span class="p">:</span> <span class="n">ObjectId</span><span class="p">(</span><span class="s">'5dd8eb565053ed048d9a21ec'</span><span class="p">)}})</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ›´æ–°</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">condition</span> <span class="o">=</span> <span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'Mike'</span><span class="p">}</span>
 <span class="n">student</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find_one</span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
 <span class="n">student</span><span class="p">[</span><span class="s">'age'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">26</span>
 <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">update_one</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="p">{</span><span class="s">'$set'</span><span class="p">:</span> <span class="n">student</span><span class="p">})</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">matched_count</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">modified_count</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;pymongo.results.UpdateResult object at 0x000002748B94A4C8&gt;
 1 1
</code></pre></div>    </div>
    <p>ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€æ¡ä¿¡æ¯è¿›è¡Œä¿®æ”¹</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">condition</span> <span class="o">=</span> <span class="p">{</span><span class="s">'age'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$gt'</span><span class="p">:</span> <span class="mi">20</span><span class="p">}}</span>
 <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">update_one</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="p">{</span><span class="s">'$inc'</span><span class="p">:</span> <span class="p">{</span><span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">}})</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">matched_count</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">modified_count</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;pymongo.results.UpdateResult object at 0x000001919904B2C8&gt;
 1 1
</code></pre></div>    </div>
    <p>ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰ä¿¡æ¯è¿›è¡Œä¿®æ”¹</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">condition</span> <span class="o">=</span> <span class="p">{</span><span class="s">'age'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$gt'</span><span class="p">:</span> <span class="mi">20</span><span class="p">}}</span>
 <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">update_many</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="p">{</span><span class="s">'$inc'</span><span class="p">:</span> <span class="p">{</span><span class="s">'age'</span><span class="p">:</span> <span class="mi">21</span><span class="p">}})</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">matched_count</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">modified_count</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;pymongo.results.UpdateResult object at 0x000002013C6CB388&gt;
 4 4
</code></pre></div>    </div>
  </li>
  <li>
    <p>åˆ é™¤</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">delete_one</span><span class="p">({</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'Kevin'</span><span class="p">})</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">deleted_count</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">delete_many</span><span class="p">({</span><span class="s">'age'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$lt'</span><span class="p">:</span> <span class="mi">25</span><span class="p">}})</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">deleted_count</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="redis-å­˜å‚¨">Redis å­˜å‚¨</h3>
<ol>
  <li>è¿æ¥ Redis
    <ul>
      <li>
        <p>ç›´æ¥è¿æ¥</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">redis</span> <span class="kn">import</span> <span class="n">StrictRedis</span>

  <span class="n">redis</span> <span class="o">=</span> <span class="n">StrictRedis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'foobared'</span><span class="p">)</span>
  <span class="n">redis</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="s">'Bob'</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">redis</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'name'</span><span class="p">))</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>è¿æ¥æ± è¿æ¥</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">redis</span> <span class="kn">import</span> <span class="n">StrictRedis</span><span class="p">,</span> <span class="n">ConnectionPool</span>

  <span class="n">pool</span> <span class="o">=</span> <span class="n">ConnectionPool</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'foobared'</span><span class="p">)</span>
  <span class="n">redis</span> <span class="o">=</span> <span class="n">StrictRedis</span><span class="p">(</span><span class="n">connection_pool</span><span class="o">=</span><span class="n">pool</span><span class="p">)</span>
  <span class="n">redis</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="s">'Bob'</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">redis</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'name'</span><span class="p">))</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>é”®æ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>exists(name)</td>
          <td>åˆ¤æ–­ä¸€ä¸ªé”®æ˜¯å¦å­˜åœ¨</td>
          <td>nameï¼šé”®å</td>
          <td>redis.exists(â€˜nameâ€™)</td>
          <td>æ˜¯å¦å­˜åœ¨ name è¿™ä¸ªé”®</td>
          <td>True</td>
        </tr>
        <tr>
          <td>delete(name)</td>
          <td>åˆ é™¤ä¸€ä¸ªé”®</td>
          <td>nameï¼šé”®å</td>
          <td>redis.delete(â€˜nameâ€™)</td>
          <td>åˆ é™¤ name è¿™ä¸ªé”®</td>
          <td>1</td>
        </tr>
        <tr>
          <td>type(name)</td>
          <td>åˆ¤æ–­é”®ç±»å‹</td>
          <td>nameï¼šé”®å</td>
          <td>redis.type(â€˜nameâ€™)</td>
          <td>åˆ¤æ–­ name è¿™ä¸ªé”®ç±»å‹</td>
          <td>bâ€™stringâ€™</td>
        </tr>
        <tr>
          <td>keys(patten)</td>
          <td>è·å–æ‰€æœ‰ç¬¦åˆè§„åˆ™çš„é”®</td>
          <td>pattenï¼šåŒ¹é…è§„åˆ™</td>
          <td>redis.keys(â€˜n*â€™)</td>
          <td>è·å–æ‰€æœ‰ä»¥ n å¼€å¤´çš„é”®</td>
          <td>[bâ€™nameâ€™]</td>
        </tr>
        <tr>
          <td>randomkey()</td>
          <td>è·å¾—éšæœºä¸€ä¸ªé”®</td>
          <td>Â </td>
          <td>randomkey()</td>
          <td>è·å–éšæœºçš„ä¸€ä¸ªé”®</td>
          <td>bâ€™nameâ€™</td>
        </tr>
        <tr>
          <td>rename(src, dst)</td>
          <td>é‡å‘½åé”®</td>
          <td>srcï¼šåŸé”®åï¼›dstï¼šæ–°é”®å</td>
          <td>redis.rename(â€˜nameâ€™, â€˜nicknameâ€™)</td>
          <td>å°† name é‡å‘½åä¸º nickname</td>
          <td>True</td>
        </tr>
        <tr>
          <td>dbsize()</td>
          <td>è·å–å½“å‰æ•°æ®åº“ä¸­é”®çš„æ•°ç›®</td>
          <td>Â </td>
          <td>dbsize()</td>
          <td>è·å–å½“å‰æ•°æ®åº“ä¸­é”®çš„æ•°ç›®</td>
          <td>100</td>
        </tr>
        <tr>
          <td>expire(name, time)</td>
          <td>è®¾å®šé”®çš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’</td>
          <td>nameï¼šé”®åï¼›timeï¼šé”®å</td>
          <td>redis.expire(â€˜nameâ€™, 2)</td>
          <td>å°† name é”®çš„è¿‡æœŸæ—¶é—´è®¾ç½®ä¸º2ç§’</td>
          <td>True</td>
        </tr>
        <tr>
          <td>ttl(name)</td>
          <td>è·å–é”®çš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œ-1ä»£è¡¨æ°¸ä¸è¿‡æœŸ</td>
          <td>nameï¼šé”®å</td>
          <td>redis.ttl(â€˜nameâ€™)</td>
          <td>è·å– name è¿™ä¸ªé”®çš„è¿‡æœŸæ—¶é—´</td>
          <td>-1</td>
        </tr>
        <tr>
          <td>move(name, db)</td>
          <td>å°†é”®ç§»åŠ¨åˆ°å…¶ä»–æ•°æ®åº“</td>
          <td>nameï¼šé”®å;db: æ•°æ®åº“ä»£å·</td>
          <td>moce(â€˜nameâ€™, 2)</td>
          <td>å°† name ç§»åˆ°2å·æ•°æ®åº“</td>
          <td>True</td>
        </tr>
        <tr>
          <td>flushdb()</td>
          <td>åˆ é™¤å½“å‰é€‰æ‹©æ•°æ®åº“ä¸­çš„æ‰€æœ‰é”®</td>
          <td>Â </td>
          <td>flushdb()</td>
          <td>åˆ é™¤å½“å‰é€‰æ‹©æ•°æ®åº“ä¸­çš„æ‰€æœ‰é”®</td>
          <td>True</td>
        </tr>
        <tr>
          <td>flushall()</td>
          <td>åˆ é™¤æ‰€æœ‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰é”®</td>
          <td>Â </td>
          <td>flushall()</td>
          <td>åˆ é™¤æ‰€æœ‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰é”®</td>
          <td>True</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>å­—ç¬¦ä¸²æ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>set(name, value)</td>
          <td>ç»™æ•°æ®åº“ä¸­é”®åä¸º name çš„ string èµ‹äºˆå€¼ value</td>
          <td>nameï¼š é”®åï¼›valueï¼š å€¼</td>
          <td>redis.set(â€˜nameâ€™, â€˜Bobâ€™)</td>
          <td>ç»™ name è¿™ä¸ªé”®çš„ value èµ‹äºˆä¸º Bob</td>
          <td>True</td>
        </tr>
        <tr>
          <td>get(name)</td>
          <td>è¿”å›æ•°æ®åº“ä¸­é”®åä¸º name çš„ string çš„ value</td>
          <td>name: é”®å</td>
          <td>redis.get(â€˜nameâ€™)</td>
          <td>è¿”å› name è¿™ä¸ªé”®çš„ value</td>
          <td>bâ€™Bobâ€™</td>
        </tr>
        <tr>
          <td>getset(name, value)</td>
          <td>ç»™æ•°æ®åº“ä¸­é”®åä¸º name çš„ string èµ‹äºˆå€¼ value å¹¶è¿”å›ä¸Šæ¬¡çš„ value</td>
          <td>name: é”®åï¼›valueï¼š æ–°å€¼</td>
          <td>redis.getset(â€˜nameâ€™, â€˜Mikeâ€™)</td>
          <td>èµ‹å€¼ name ä¸º Mike å¹¶å¾—åˆ°ä¸Šæ¬¡çš„ value</td>
          <td>bâ€™Bobâ€™</td>
        </tr>
        <tr>
          <td>mget(keys, *args)</td>
          <td>è¿”å›å¤šä¸ªé”®å¯¹åº”çš„ value ç»„æˆçš„åˆ—è¡¨</td>
          <td>keys: é”®ååºåˆ—</td>
          <td>redis.mget([â€˜nameâ€™, â€˜nicknameâ€™])</td>
          <td>è¿”å› name å’Œ nickname çš„ value</td>
          <td>[bâ€™Mikeâ€™, bâ€™Mikerâ€™]</td>
        </tr>
        <tr>
          <td>setnx(name, value)</td>
          <td>å¦‚æœä¸å­˜åœ¨è¿™ä¸ªé”®å€¼å¯¹ï¼Œåˆ™æ›´æ–° valueï¼Œå¦åˆ™ä¸å˜</td>
          <td>nameï¼š é”®å</td>
          <td>redis.setnx(â€˜newnameâ€™, â€˜Jamesâ€™)</td>
          <td>å¦‚æœ newname è¿™ä¸ªé”®ä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®å€¼ä¸º James</td>
          <td>ç¬¬ä¸€æ¬¡è¿è¡Œç»“æœæ˜¯ Trueï¼Œç¬¬äºŒæ¬¡è¿è¡Œç»“æœçš„ False</td>
        </tr>
        <tr>
          <td>setex(name, time, value)</td>
          <td>è®¾ç½®å¯ä»¥å¯¹åº”çš„å€¼ä¸º string ç±»å‹çš„ valueï¼Œå¹¶æŒ‡å®šé”®å€¼å¯¹åº”çš„æœ‰æ•ˆæœŸ</td>
          <td>name: é”®åï¼›timeï¼š æœ‰æ•ˆæœŸï¼›valueï¼š å€¼</td>
          <td>redis.setex(â€˜nameâ€™, 1, â€˜Jamesâ€™)</td>
          <td>å°† name è¿™ä¸ªé”®çš„å€¼è®¾ä¸º Jamesï¼Œæœ‰æ•ˆæœŸä¸º1ç§’</td>
          <td>True</td>
        </tr>
        <tr>
          <td>setrange(name, offset, value)</td>
          <td>è®¾ç½®æŒ‡å®šé”®çš„ value å€¼çš„å­å­—ç¬¦ä¸²</td>
          <td>name: é”®åï¼›offsetï¼š åç§»é‡ï¼›value: å€¼</td>
          <td>redis.set(â€˜nameâ€™, â€˜Helloâ€™) redis.setrange(â€˜nameâ€™, 6, â€˜Worldâ€™)</td>
          <td>è®¾ç½® name ä¸º Hello å­—ç¬¦ä¸²ï¼Œå¹¶åœ¨ index ä¸º6çš„ä½ç½®è¡¥ World</td>
          <td>11ï¼Œ ä¿®æ”¹åçš„å­—ç¬¦ä¸²é•¿åº¦</td>
        </tr>
        <tr>
          <td>mset(mapping)</td>
          <td>æ‰¹é‡èµ‹å€¼</td>
          <td>mapping: å­—å…¸æˆ–å…³é”®å­—å‚æ•°</td>
          <td>redis.mset({â€˜name1â€™: â€˜Durantâ€™, â€˜name2â€™: â€˜Jamesâ€™})</td>
          <td>å°† name1 è®¾ä¸º Durantï¼Œname2 è®¾ä¸º James</td>
          <td>True</td>
        </tr>
        <tr>
          <td>msetnx(mapping)</td>
          <td>é”®å‡ä¸å­˜åœ¨æ—¶æ‰æ‰¹é‡èµ‹å€¼</td>
          <td>mapping: å­—å…¸æˆ–å…³é”®å­—å‚æ•°</td>
          <td>redis.msetnx({â€˜name3â€™: â€˜Smithâ€™,â€™name4â€™: â€˜Curryâ€™})</td>
          <td>åœ¨ name3 å’Œ name4 å‡ä¸å­˜åœ¨çš„æƒ…å†µä¸‹æ‰è®¾ç½®äºŒè€…å€¼</td>
          <td>True</td>
        </tr>
        <tr>
          <td>incr(name, amount=1)</td>
          <td>é”®åä¸º name çš„ value å¢å€¼æ“ä½œï¼Œé»˜è®¤ä¸º1ï¼Œé”®ä¸å­˜åœ¨åˆ™è¢«åˆ›å»ºå¹¶è®¾ä¸º amount</td>
          <td>nameï¼š é”®åï¼›amountï¼š å¢é•¿çš„å€¼</td>
          <td>redis.incr(â€˜ageâ€™, 1)</td>
          <td>age å¯¹åº”çš„å€¼å¢1ï¼Œ è‹¥ä¸å­˜åœ¨ã€‚åˆ™ä¼šåˆ›å»ºå¹¶è®¾ç½®ä¸º 1</td>
          <td>1, å³ä¿®æ”¹åçš„å€¼</td>
        </tr>
        <tr>
          <td>decrï¼ˆnameï¼Œ amount=1)</td>
          <td>é”®åä¸º name çš„ value å‡å€¼æ“ä½œï¼Œé»˜è®¤ä¸º1ï¼Œé”®ä¸å­˜åœ¨åˆ™è¢«åˆ›å»ºå¹¶å°† value è®¾ä¸º -amount</td>
          <td>nameï¼š é”®åï¼›amountï¼š å‡å°‘çš„å€¼</td>
          <td>redis.decr(â€˜ageâ€™, 1)</td>
          <td>age å¯¹åº”çš„å€¼å‡1ï¼Œ è‹¥ä¸å­˜åœ¨ã€‚åˆ™ä¼šåˆ›å»ºå¹¶è®¾ç½®ä¸º -1</td>
          <td>-1, å³ä¿®æ”¹åçš„å€¼</td>
        </tr>
        <tr>
          <td>append(key, value)</td>
          <td>é”®åä¸º key çš„ string çš„å€¼é™„åŠ  value</td>
          <td>keyï¼š é”®å</td>
          <td>redis.append(â€˜nicknameâ€™, â€˜OKâ€™)</td>
          <td>å‘é”®åä¸º nickname çš„å€¼åè¿½åŠ  OK</td>
          <td>13ï¼Œå³ä¿®æ”¹åçš„å­—ç¬¦ä¸²é•¿åº¦</td>
        </tr>
        <tr>
          <td>substr(name, value)</td>
          <td>è¿”å›é”®åä¸º name çš„ string çš„å­å­—ç¬¦ä¸²</td>
          <td>name: é”®åï¼›start: èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»ˆæ­¢ç´¢å¼•ï¼Œé»˜è®¤ä¸º -1ï¼Œè¡¨ç¤ºæˆªå–åˆ°æœ«å°¾</td>
          <td>redis.substr(â€˜nameâ€™, 1, 4)</td>
          <td>è¿”å›é”®åä¸º name çš„ å€¼çš„å­—ç¬¦ä¸²ï¼Œæˆªå–ç´¢å¼•ä¸º1~4çš„å­—ç¬¦</td>
          <td>bâ€™elloâ€™</td>
        </tr>
        <tr>
          <td>getrange(key, start, end)</td>
          <td>è·å–é”®çš„ value å€¼ä» start åˆ° end çš„å­å­—ç¬¦ä¸²</td>
          <td>key: é”®åï¼›startï¼š èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»ˆæ­¢ç´¢å¼•</td>
          <td>redis.getrange(â€˜nameâ€™, 1, 4)</td>
          <td>è¿”å›é”®åä¸º name çš„å€¼çš„å­—ç¬¦ä¸²ï¼Œæˆªå–ç´¢å¼•ä¸º1~4çš„å­—ç¬¦</td>
          <td>bâ€™elloâ€™</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>åˆ—è¡¨æ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>rpush(name, *values)</td>
          <td>åœ¨é”®åä¸º name çš„åˆ—è¡¨æœ«å°¾æ·»åŠ ä¸º value çš„å…ƒç´ ï¼Œå¯ä»¥ä¼ å¤šä¸ª</td>
          <td>name: é”®åï¼›valuesï¼š å€¼</td>
          <td>redis.rpush(â€˜listâ€™, 1, 2, 3)</td>
          <td>å‘é”®åä¸º list çš„åˆ—è¡¨å°¾æ·»åŠ 1ã€2ã€3</td>
          <td>3ï¼Œåˆ—è¡¨å¤§å°</td>
        </tr>
        <tr>
          <td>lpush(name, *values)</td>
          <td>åœ¨é”®åä¸º name çš„åˆ—è¡¨å¤´æ·»åŠ å€¼ä¸º value çš„å…ƒç´ ï¼Œå¯ä»¥ä¼ å¤šä¸ª</td>
          <td>name: é”®åï¼›valuesï¼š å€¼</td>
          <td>redis.lpush(â€˜listâ€™, 0)</td>
          <td>å‘é”®åä¸º list çš„åˆ—è¡¨å¤´éƒ¨æ·»åŠ 0</td>
          <td>4ï¼Œåˆ—è¡¨å¤§å°</td>
        </tr>
        <tr>
          <td>llen(name)</td>
          <td>è¿”å›é”®åä¸º name çš„åˆ—è¡¨çš„é•¿åº¦</td>
          <td>name: é”®å</td>
          <td>redis.llen(â€˜listâ€™)</td>
          <td>è¿”å›é”®åä¸º list çš„åˆ—è¡¨çš„é•¿åº¦</td>
          <td>4</td>
        </tr>
        <tr>
          <td>lrange(name, start, end)</td>
          <td>è¿”å›é”®åä¸º name çš„åˆ—è¡¨ä¸­ start è‡³ end ä¹‹é—´çš„å…ƒç´ </td>
          <td>name: é”®åï¼›startï¼š èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»ˆæ­¢ç´¢å¼•</td>
          <td>redis.lrange(â€˜listâ€™, 1, 3)</td>
          <td>è¿”å›èµ·å§‹ç´¢å¼•ä¸º1ç»ˆæ­¢ç´¢å¼•ä¸º3çš„æ‰€æœ‰èŒƒå›´å¯¹åº”çš„åˆ—è¡¨</td>
          <td>[bâ€™3â€™, bâ€™2â€™, bâ€™1â€™]</td>
        </tr>
        <tr>
          <td>ltrim(name, start, end)</td>
          <td>æˆªå–é”®åä¸º name çš„åˆ—è¡¨ï¼Œä¿ç•™ç´¢å¼•ä¸º start åˆ° end çš„å†…å®¹</td>
          <td>name: é”®åï¼›startï¼š èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»ˆæ­¢ç´¢å¼•</td>
          <td>redis.ltrim(â€˜listâ€™, 1, 3)</td>
          <td>ä¿ç•™é”®åä¸º list çš„æ‰€æœ‰ä¸º1åˆ°3çš„å…ƒç´ </td>
          <td>True</td>
        </tr>
        <tr>
          <td>lindex(name, index)</td>
          <td>è¿”å›é”®åä¸º name çš„åˆ—è¡¨ä¸­ index ä½ç½®çš„å…ƒç´ </td>
          <td>name: é”®åï¼›indexï¼š ç´¢å¼•</td>
          <td>redis.index(â€˜listâ€™, 1)</td>
          <td>è¿”å›é”®åä¸º list çš„åˆ—è¡¨æ‰€æœ‰ä¸º1çš„å…ƒç´ </td>
          <td>bâ€™2â€™</td>
        </tr>
        <tr>
          <td>lset(name, index, value)</td>
          <td>ç»™é”®åä¸º name çš„åˆ—è¡¨ä¸­ index ä½ç½®çš„å…ƒç´ èµ‹å€¼ï¼Œè¶Šç•Œåˆ™æŠ¥é”™</td>
          <td>name: é”®åï¼›indexï¼š ç´¢å¼•ä½ç½®ï¼›valueï¼š å€¼</td>
          <td>redis.lset(â€˜listâ€™, 1, 5)</td>
          <td>å°†é”®åä¸º list çš„åˆ—è¡¨ä¸­ç´¢å¼•ä¸º1çš„ä½ç½®èµ‹å€¼ä¸º5</td>
          <td>True</td>
        </tr>
        <tr>
          <td>lrem(name, count, value)</td>
          <td>åˆ é™¤ count ä¸ªé”®çš„åˆ—è¡¨ä¸­å€¼ä¸º value çš„å…ƒç´ </td>
          <td>name: é”®åï¼›countï¼š åˆ é™¤ä¸ªæ•°ï¼›valueï¼š å€¼</td>
          <td>redis.lrem(â€˜listâ€™, 2, 3)</td>
          <td>å°†é”®åä¸º list çš„åˆ—è¡¨åˆ é™¤ä¸¤ä¸ª3</td>
          <td>1,å³åˆ é™¤çš„ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>lpop(name)</td>
          <td>è¿”å›å¹¶åˆ é™¤é”®åä¸º name çš„åˆ—è¡¨ä¸­çš„é¦–å…ƒç´ </td>
          <td>name: é”®å</td>
          <td>redis.lpop(â€˜listâ€™)</td>
          <td>è¿”å›å¹¶åˆ é™¤åä¸º list çš„åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </td>
          <td>bâ€™5â€™</td>
        </tr>
        <tr>
          <td>rpop(name)</td>
          <td>è¿”å›å¹¶åˆ é™¤é”®åä¸º name çš„åˆ—è¡¨ä¸­çš„å°¾å…ƒç´ </td>
          <td>name: é”®å</td>
          <td>redis.rpop(â€˜listâ€™)</td>
          <td>è¿”å›å¹¶åˆ é™¤åä¸º list çš„åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ </td>
          <td>bâ€™2â€™</td>
        </tr>
        <tr>
          <td>blpop(keys, timeout=0)</td>
          <td>è¿”å›å¹¶åˆ é™¤åç§°åœ¨ keys ä¸­çš„ list ä¸­çš„é¦–ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™ä¼šä¸€ç›´é˜»å¡ç­‰å¾…</td>
          <td>keys: é”®ååºåˆ—ï¼›timeoutï¼šè¶…æ—¶ç­‰å¾…æ—¶é—´ï¼Œ0ä¸ºä¸€ç›´ç­‰å¾…</td>
          <td>redis.blpop(â€˜listâ€™)</td>
          <td>è¿”å›å¹¶åˆ é™¤é”®åä¸º list çš„åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </td>
          <td>[bâ€™5â€™]</td>
        </tr>
        <tr>
          <td>brpop(keys, timeout=0)</td>
          <td>è¿”å›å¹¶åˆ é™¤é”®åä¸º name çš„åˆ—è¡¨ä¸­çš„å°¾å…ƒç´ ï¼Œå¦‚æœ list ä¸ºç©ºï¼Œåˆ™ä¼šä¸€ç›´é˜»å¡ç­‰å¾…</td>
          <td>keys: é”®ååºåˆ—ï¼›timeoutï¼š è¶…æ—¶ç­‰å¾…æ—¶é—´ï¼Œ0ä¸ºä¸€ç›´ç­‰å¾…</td>
          <td>redis.brpop(â€˜listâ€™)</td>
          <td>è¿”å›å¹¶åˆ é™¤åä¸º list çš„åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ </td>
          <td>[bâ€™2â€™]</td>
        </tr>
        <tr>
          <td>rpoplpush(src, dst)</td>
          <td>è¿”å›å¹¶åˆ é™¤åç§°ä¸º src çš„åˆ—è¡¨çš„å°¾å…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ æ·»åŠ åˆ°åç§°å°¾ dst çš„åˆ—è¡¨å¤´éƒ¨</td>
          <td>srcï¼š æºåˆ—è¡¨çš„é”®ï¼›dstï¼š ç›®æ ‡åˆ—è¡¨çš„ key</td>
          <td>redis.rpoplpush(â€˜listâ€™, â€˜list2â€™)</td>
          <td>å°†é”®åå°¾ list çš„åˆ—è¡¨å°¾å…ƒç´ åˆ é™¤å¹¶å°†å…¶æ·»åŠ åˆ°é”®åå°¾ list2 çš„åˆ—è¡¨å¤´éƒ¨ï¼Œç„¶åè¿”å›</td>
          <td>bâ€™2â€™</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>é›†åˆæ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>sadd(name, *values)</td>
          <td>å‘é”®åå°¾ name çš„é›†åˆä¸­æ·»åŠ å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›valuesï¼š å€¼ï¼Œå¯ä¸ºå¤šä¸ª</td>
          <td>redis.sadd(â€˜tagsâ€™, â€˜Bookâ€™, â€˜Teaâ€™, â€˜Coffeeâ€™)</td>
          <td>å‘é”®åä¸º tags çš„é›†åˆä¸­æ·»åŠ  Bookã€Tea å’Œ Coffee è¿™3ä¸ªå†…å®¹</td>
          <td>3ï¼Œ å³æ’å…¥çš„æ•°æ®ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>srem(name, *values)</td>
          <td>ä»é”®åä¸º name çš„é›†åˆä¸­åˆ é™¤å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›valuesï¼š å€¼ï¼Œå¯ä¸ºå¤šä¸ª</td>
          <td>redis.srem(â€˜tagsâ€™, â€˜Bookâ€™)</td>
          <td>ä»é”®åä¸º tags çš„é›†åˆä¸­åˆ é™¤ Book</td>
          <td>1ï¼Œå³åˆ é™¤çš„æ•°æ®ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>spop(name)</td>
          <td>éšæœºè¿”å›å¹¶åˆ é™¤é”®åä¸º name çš„é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ </td>
          <td>nameï¼š é”®å</td>
          <td>redis.spop(â€˜tagsâ€™)</td>
          <td>ä»é”®åä¸º tags çš„é›†åˆå¹¶éšæœºåˆ é™¤å¹¶è¿”å›è¯¥å…ƒç´ </td>
          <td>bâ€™Teaâ€™</td>
        </tr>
        <tr>
          <td>smove(scr, dst, value)</td>
          <td>src å¯¹åº”çš„é›†åˆä¸­ä¸€å¤„å…ƒç´ å¹¶å°†å…¶æ·»åŠ åˆ° dst å¯¹åº”çš„é›†åˆä¸­</td>
          <td>srcï¼š æºé›†åˆï¼›dstï¼š ç›®æ ‡é›†åˆï¼›valueï¼š å…ƒç´ å€¼</td>
          <td>redis.smove(â€˜tagsâ€™, â€˜tags2â€™, â€˜Coffeeâ€™)</td>
          <td>ä»é”®åä¸º tags çš„é›†åˆä¸­åˆ é™¤å…ƒç´  Coffee å¹¶å°†å…¶æ·»åŠ åˆ°é”®ä¸º tags2 çš„é›†åˆ</td>
          <td>True</td>
        </tr>
        <tr>
          <td>scard(name)</td>
          <td>è¿”å›é”®åä¸º name çš„é›†åˆçš„å…ƒç´ ä¸ªæ•°</td>
          <td>name: é”®å</td>
          <td>redis.scard(â€˜tagsâ€™)</td>
          <td>è·å–é”®åä¸º tags çš„é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°</td>
          <td>3</td>
        </tr>
        <tr>
          <td>sismember(name, value)</td>
          <td>æµ‹è¯• member æ˜¯å¦æ˜¯é”®åä¸º name çš„é›†åˆçš„å…ƒç´ </td>
          <td>name: é”®å€¼</td>
          <td>redis.sismember(â€˜tagsâ€™, â€˜Bookâ€™)</td>
          <td>åˆ¤æ–­ Book æ˜¯å¦æ˜¯é”®åä¸º tags çš„é›†åˆå…ƒç´ </td>
          <td>True</td>
        </tr>
        <tr>
          <td>sinter(keys, *args)</td>
          <td>è¿”å›æ‰€æœ‰ç»™å®šé”®çš„é›†åˆçš„äº¤é›†</td>
          <td>keysï¼š é”®ååºåˆ—</td>
          <td>redis.sinter([â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>è¿”å›é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„äº¤é›†</td>
          <td>{bâ€™Coffeeâ€™}</td>
        </tr>
        <tr>
          <td>sinterstore(dest, keys, *args)</td>
          <td>æ±‚äº¤é›†å¹¶å°†äº¤é›†ä¿å­˜åˆ° dest çš„é›†åˆ</td>
          <td>dest: ç»“æœé›†åˆï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.sinterstore(â€˜inttagâ€™, [â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>æ±‚é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„äº¤é›†å¹¶å°†å…¶ä¿å­˜ä¸º inttag</td>
          <td>1</td>
        </tr>
        <tr>
          <td>sunion(keys, *args)</td>
          <td>è¿”å›æ‰€æœ‰ç»™å®šé”®çš„é›†åˆçš„å¹¶é›†</td>
          <td>keysï¼š é”®ååºåˆ—</td>
          <td>redis.sunion([â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>è¿”å›é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„å¹¶é›†</td>
          <td>{bâ€™Coffeeâ€™, bâ€™Bookâ€™, bâ€™Penâ€™}</td>
        </tr>
        <tr>
          <td>sunionstore(dest, keys, *args)</td>
          <td>æ±‚å¹¶é›†å¹¶å°†å¹¶é›†ä¿å­˜åˆ° dest çš„é›†åˆ</td>
          <td>destï¼š ç»“æœé›†åˆï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.sunionstore(â€˜inttagâ€™, [â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>æ±‚é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆå¹¶é›†å¹¶å°†å…¶ä¿å­˜ä¸º inttag</td>
          <td>3</td>
        </tr>
        <tr>
          <td>sdiff(keys, *args)</td>
          <td>è¿”å›æ‰€æœ‰ç»™å®šé”®çš„é›†åˆçš„å·®é›†</td>
          <td>keysï¼š é”®ååºåˆ—</td>
          <td>redis.sdiff([â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>è¿”å›é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„å·®é›†</td>
          <td>{bâ€™Bookâ€™, â€˜bâ€™Penâ€™}</td>
        </tr>
        <tr>
          <td>sdiffstore(dest, keys, *args)</td>
          <td>æ±‚å·®é›†å¹¶å°†å·®é›†ä¿å­˜åˆ° dest é›†åˆ</td>
          <td>dest: è®°è¿‡é›†åˆï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.sdiffstore(â€˜inttagâ€™, [â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>æ±‚é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„å·®é›†å¹¶å°†å…¶ä¿å­˜ä¸º inttag</td>
          <td>3</td>
        </tr>
        <tr>
          <td>smembers(name)</td>
          <td>è¿”å›é”®åä¸º name çš„é›†åˆçš„æ‰€æœ‰å…ƒç´ </td>
          <td>nameï¼š é”®å</td>
          <td>redis.smembers(â€˜tags)</td>
          <td>è¿”å›é”®åä¸º tags çš„é›†åˆçš„æ‰€æœ‰å…ƒç´ </td>
          <td>{bâ€™Penâ€™, bâ€™Bookâ€™, bâ€™Coffeeâ€™}</td>
        </tr>
        <tr>
          <td>srandmember(name)</td>
          <td>éšæœºè¿”å›é”®åä¸º name çš„é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œä½†ä¸åˆ é™¤å…ƒç´ </td>
          <td>name: é”®å€¼</td>
          <td>redis.srandmember(â€˜tagsâ€™)</td>
          <td>éšæœºè¿”å›åä¸º tags çš„é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ </td>
          <td>Srandmember(name)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>æœ‰åºé›†åˆæ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
          <th>Â </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>zadd(name, *values)</td>
          <td>å‘é”®åä¸º name çš„ zset ä¸­æ·»åŠ å…ƒç´  memberï¼Œscore ç”¨äºæ’åºã€‚å¦‚æœè¯¥å…ƒç´ å­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶é¡ºåº</td>
          <td>nameï¼š é”®åï¼›argsï¼š å¯å˜å‚æ•°</td>
          <td>redis.zadd(â€˜gradeâ€™, 100, â€˜Bobâ€™, 98, â€˜Mikeâ€™)</td>
          <td>å‘é”®åä¸º grade çš„ zset ä¸­æ·»åŠ  Bobï¼ˆå…¶ score ä¸º100),å¹¶æ·»åŠ  Mikeï¼ˆå…¶ score ä¸º98)</td>
          <td>2, å³æ·»åŠ çš„å…ƒç´ ä¸ªæ•°</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrem(name, *values)</td>
          <td>åˆ é™¤é”®åä¸º name çš„ zset ä¸­çš„å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›valuesï¼š å…ƒç´ </td>
          <td>redis.zrem(â€˜gradeâ€™, â€˜Mikeâ€™)</td>
          <td>ä»é”®åä¸º grade çš„ zset ä¸­åˆ é™¤ Mike</td>
          <td>ä»é”®åä¸º grade çš„ zset ä¸­åˆ é™¤ Mike</td>
          <td>1ï¼Œ å³åˆ é™¤çš„å…ƒç´ ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>zincrby(name, value, amount=1)</td>
          <td>å¦‚æœåœ¨é”®åä¸º name çš„ zset ä¸­å·²ç»å­˜åœ¨å…ƒç´ ï¼Œvalue åˆ™å°†è¯¥å…ƒç´ çš„ score å¢åŠ  amountï¼›å¦åˆ™å‘è¯¥é›†åˆä¸­æ·»åŠ è¯¥å…ƒç´ ï¼Œå…¶ score çš„å€¼ä¸º amount</td>
          <td>nameï¼š é”®åï¼›valueï¼š å…ƒç´ ï¼›amountï¼š å¢é•¿çš„ score çš„å€¼</td>
          <td>redis.zincrby(â€˜gradeâ€™, â€˜Bobâ€™, -2)</td>
          <td>é”®åä¸º grade çš„ zset ä¸­ Bob çš„ score å‡2</td>
          <td>98.0ï¼Œå³ä¿®æ”¹åçš„å€¼</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrank(name, value)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset ä¸­å…ƒç´ çš„æ’åï¼ŒæŒ‰ score ä»å°åˆ°å¤§æ’åºï¼Œå³åæ¬¡</td>
          <td>nameï¼š é”®åï¼›valueï¼š å…ƒç´ å€¼</td>
          <td>redis.zrank(â€˜gradeâ€™, â€˜Amyâ€™)</td>
          <td>å¾—åˆ°é”®åä¸º grade çš„ zset ä¸­ Amy çš„æ’å</td>
          <td>1</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrevrank(name, value)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset ä¸­å…ƒç´ çš„å€’æ•°æ’åï¼ŒæŒ‰ score ä»å°åˆ°å¤§æ’åºï¼Œå³åæ¬¡</td>
          <td>nameï¼š é”®åï¼›valueï¼š å…ƒç´ å€¼</td>
          <td>redis.zrevzrank(â€˜gradeâ€™, â€˜Amyâ€™)</td>
          <td>å¾—åˆ°é”®åä¸º grade çš„ zset ä¸­ Amy çš„å€’æ•°æ’å</td>
          <td>2</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrevrange(name, start, end, withscores=False)</td>
          <td>è¿”å›é”®åä¸º name çš„ zsetï¼ˆæŒ‰ score ä»å°åˆ°å¤§æ’åºï¼‰ä¸­ index ä» start åˆ° end çš„æ‰€æœ‰å…ƒç´ </td>
          <td>nameï¼š é”®å€¼ï¼›startï¼š å¼€å§‹ç´¢å¼•ï¼›endï¼š å€Ÿå®¿ç´¢å¼•ï¼›withscoresï¼š æ˜¯å¦å¸¦ score</td>
          <td>redis.zrevrange(â€˜gradeâ€™, 0, 3)</td>
          <td>è¿”å›é”®åä¸º grade çš„ zset ä¸­å‰å››åå…ƒç´ </td>
          <td>[bâ€™Bobâ€™, bâ€™Mikeâ€™, bâ€™Amyâ€™, bâ€™Jamesâ€™]</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrangebysocre(name. min, max, start=None, num=None, withscores=False)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset ä¸­ score åœ¨ç»™å®šåŒºé—´çš„å…ƒç´ </td>
          <td>nameï¼š é”®å€¼ï¼›minï¼š æœ€ä½ scoreï¼›maxï¼š æœ€é«˜ scoreï¼›startï¼š èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»“æŸç´¢å¼•ï¼›numï¼š ä¸ªæ•°ï¼› withscoreï¼š æ˜¯å¦å¸¦score</td>
          <td>redis.zrangebysocre(â€˜gradeâ€™, 80, 95)</td>
          <td>è¿”å›é”®åä¸º grade çš„ zset ä¸­ score åœ¨ 80 å’Œ 95 ä¹‹é—´çš„å…ƒç´ </td>
          <td>[bâ€™Bobâ€™, bâ€™Mikeâ€™, bâ€™Amyâ€™, bâ€™Jamesâ€™]</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zcount(name, min, max)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset ä¸­ score åœ¨ç»™å®šåŒºé—´çš„æ•°é‡</td>
          <td>nameï¼š é”®åï¼›minï¼šæœ€ä½score;max: æœ€é«˜ score</td>
          <td>redis.zcount(â€™gradeâ€˜ï¼Œ 80ï¼Œ 95)</td>
          <td>è¿”å›é”®åä¸º grade çš„ zset ä¸­ score åœ¨80åˆ°95çš„å…ƒç´ ä¸ªæ•°</td>
          <td>2</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zcard(name)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset çš„å…ƒç´ ä¸ªæ•°</td>
          <td>nameï¼š é”®å</td>
          <td>redis.zcard(â€˜gradeâ€™)</td>
          <td>è·å–é”®åä¸º grade çš„ zset ä¸­å…ƒç´ ä¸ªæ•°</td>
          <td>3</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zremrangebyrank(name, min, max)</td>
          <td>åˆ é™¤é”®åä¸º name çš„ zset ä¸­ score åœ¨ ç»™å®šåŒºé—´çš„å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›minï¼š æœ€ä½ scoreï¼›maxï¼š æœ€é«˜ score</td>
          <td>redis.zremrangebyscore(â€˜gradeâ€™, 0, 0)</td>
          <td>åˆ é™¤é”®åä¸º grade çš„ zset ä¸­æ’åç¬¬ä¸€çš„å…ƒç´ </td>
          <td>1ï¼Œå³åˆ é™¤çš„å…ƒç´ ä¸ªæ•°</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zremrangebyscore(name, min, max)</td>
          <td>åˆ é™¤é”®åä¸º name çš„ zset ä¸­ score åœ¨ ç»™å®šåŒºé—´çš„å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›minï¼š æœ€ä½ scoreï¼›maxï¼š æœ€é«˜ score</td>
          <td>redis.zremrangebyscore(â€˜gradeâ€™, 80, 90)</td>
          <td>åˆ é™¤ score åœ¨80åˆ°90ä¹‹é—´çš„å…ƒç´ </td>
          <td>1ï¼Œå³åˆ é™¤çš„å…ƒç´ ä¸ªæ•°</td>
          <td>Â </td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>æ•£åˆ—æ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>hset(name, key, value)</td>
          <td>å‘é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­æ·»åŠ æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›keyï¼š æ˜ å°„é”®åï¼›valueï¼š æ˜ å°„é”®å€¼</td>
          <td>hset(â€˜priceâ€™, â€˜cake, 5)</td>
          <td>å‘é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­æ·»åŠ æ˜ å°„å…³ç³»ï¼Œcakeçš„å€¼ä¸º5</td>
          <td>1ï¼Œå³æ·»åŠ çš„æ˜ å°„ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>hestnx(name, key, value)</td>
          <td>å¦‚æœæ˜ å°„é”®åä¸å­˜åœ¨ï¼Œåˆ™å‘é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­æ·»åŠ æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›keyï¼š æ˜ å°„é”®åï¼›valueï¼š æ˜ å°„é”®å€¼</td>
          <td>hsetnx(â€˜priceâ€™, â€˜bookâ€™, 6)</td>
          <td>å‘é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­æ·»åŠ æ˜ å°„å…³ç³»ï¼Œ bookçš„å€¼ä¸º6</td>
          <td>1ï¼Œå³æ·»åŠ çš„æ˜ å°„ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>hget(name, key)</td>
          <td>è¿”å›é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­ key å¯¹åº”çš„å€¼</td>
          <td>name: é”®åï¼›keyï¼š æ˜ å°„é”®å</td>
          <td>redis.hget(â€™priceâ€™, â€˜cakeâ€™)</td>
          <td>è·å–é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­é”®åä¸º cake çš„å€¼</td>
          <td>5</td>
        </tr>
        <tr>
          <td>hmget(name, keys, *args)</td>
          <td>è¿”å›é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­å„ä¸ªé”®å¯¹åº”çš„å€¼</td>
          <td>nameï¼š é”®åï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.hmget(â€˜priceâ€™, [â€˜appleâ€™, â€˜orangeâ€™])</td>
          <td>è·å–é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­ apple å’Œ orange çš„å€¼</td>
          <td>[bâ€™3â€™, bâ€™7â€™]</td>
        </tr>
        <tr>
          <td>hmset(name, mapping)</td>
          <td>å‘é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­æ‰¹é‡æ·»åŠ æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›mappingï¼š æ˜ å°„å­—å…¸</td>
          <td>redis.hmset(â€˜priceâ€™, {â€˜bananaâ€™: 2, â€˜pearâ€™: 6})</td>
          <td>å‘é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­æ‰¹é‡æ·»åŠ æ˜ å°„</td>
          <td>True</td>
        </tr>
        <tr>
          <td>hincrby(name, key, amount=1)</td>
          <td>å°†é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­çš„æ˜ å°„çš„å€¼å¢åŠ  amount</td>
          <td>nameï¼š é”®åï¼›keyï¼šæ˜ å°„é”®åï¼›amountï¼š å¢é•¿é‡</td>
          <td>redis.hincrby(â€˜priceâ€™, â€˜appleâ€™, 3)</td>
          <td>key ä¸º price çš„æ•£åˆ—è¡¨ä¸­ apple çš„å€¼å¢åŠ 3</td>
          <td>6ï¼Œä¿®æ”¹åçš„å€¼</td>
        </tr>
        <tr>
          <td>hexists(name, key)</td>
          <td>é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨é”®åä¸ºé”®çš„æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›keyï¼š æ˜ å°„é”®å</td>
          <td>redis.hexists(â€˜priceâ€™, â€˜bananaâ€™)</td>
          <td>é”®åä¸º orice çš„æ•£åˆ—è¡¨ä¸­ banana çš„å€¼æ˜¯å¦å­˜åœ¨</td>
          <td>True</td>
        </tr>
        <tr>
          <td>hdel(name, *keys)</td>
          <td>åœ¨é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­ï¼Œåˆ é™¤é”®åä¸ºé”®çš„æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.hdel(â€˜priceâ€™, â€˜banana)</td>
          <td>ä»é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­åˆ é™¤é”®åä¸º banana çš„æ˜ å°„</td>
          <td>True</td>
        </tr>
        <tr>
          <td>hlen(name)</td>
          <td>åœ¨é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­è·å–æ˜ å°„ä¸ªæ•°</td>
          <td>nameï¼š é”®å</td>
          <td>redis.hlen(â€˜price)</td>
          <td>ä»é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­è·å–æ˜ å°„ä¸ªæ•°</td>
          <td>6</td>
        </tr>
        <tr>
          <td>hkeys(name)</td>
          <td>ä»é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å</td>
          <td>nameï¼š é”®å</td>
          <td>redis.hkeys(â€˜priceâ€™)</td>
          <td>ä»é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å</td>
          <td>[bâ€™cakeâ€™, bâ€™bookâ€™, bâ€™bananaâ€™, bâ€™pearâ€™]</td>
        </tr>
        <tr>
          <td>hvals(name)</td>
          <td>ä»é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å€¼</td>
          <td>nameï¼š é”®å</td>
          <td>redis.hvals(â€˜priceâ€™)</td>
          <td>ä»é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å€¼</td>
          <td>[bâ€™5â€™, bâ€™6â€™, bâ€™2â€™, bâ€™6â€™]</td>
        </tr>
        <tr>
          <td>hgetall(name)</td>
          <td>ä»é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å€¼å¯¹</td>
          <td>name: é”®å</td>
          <td>redis.hgetall(â€˜priceâ€™)</td>
          <td>ä»åŠ å¯†ä¸º price çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å€¼å¯¹</td>
          <td>{bâ€™cakeâ€™: bâ€™5â€™, bâ€™bookâ€™: bâ€™6â€™, bâ€™organeâ€™: bâ€™2â€™, bâ€™pearâ€™: bâ€™6â€™}</td>
        </tr>
      </tbody>
    </table>
  </li>
</ol>

<h2>=======</h2>
<p>layout: post
title: æ•°æ®åº“å­˜å‚¨
subtitle: 
author: Balbo Cheng
categories: python
tags: [reptile]
â€”</p>
<h2 id="å…³ç³»å‹æ•°æ®åº“å­˜å‚¨-1">å…³ç³»å‹æ•°æ®åº“å­˜å‚¨</h2>

<h3 id="mysql-å­˜å‚¨-1">MySQL å­˜å‚¨</h3>
<ol>
  <li>
    <p>è¿æ¥æ•°æ®åº“</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>
 <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">'SELECT VERSION()'</span><span class="p">)</span>
 <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>
 <span class="k">print</span><span class="p">(</span><span class="s">'Database version:'</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
 <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">"CREATE DATABASE spiders DEFAULT CHARACTER SET utf-8"</span><span class="p">)</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Database version: ('5.5.53',)
</code></pre></div>    </div>
  </li>
  <li>
    <p>åˆ›å»ºè¡¨</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>
 <span class="n">sql</span> <span class="o">=</span> <span class="s">'CREATE TABLE IF NOT EXISTS students (id VARCHAR(255) NOT NULL, name VARCHAR(255) NOT NULL, age INT NOT NULL, PRIMARY KEY (id))'</span>
 <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span><span class="n">s</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ’å…¥æ•°æ®</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s">'id'</span><span class="p">:</span> <span class="s">'20120001'</span><span class="p">,</span>
     <span class="s">'name'</span><span class="p">:</span> <span class="s">'Bob'</span><span class="p">,</span>
     <span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
 <span class="p">}</span>
 <span class="n">table</span> <span class="o">=</span> <span class="s">'students'</span>
 <span class="n">keys</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">keys</span><span class="p">())</span>
 <span class="n">values</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="s">'%s'</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
 <span class="n">sql</span> <span class="o">=</span> <span class="s">'INSERT INTO {table}({keys}) VALUE ({values})'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="k">if</span> <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">values</span><span class="p">())):</span>
         <span class="k">print</span><span class="p">(</span><span class="s">'Successful'</span><span class="p">)</span>
         <span class="n">db</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Failed'</span><span class="p">)</span>
     <span class="n">db</span><span class="p">.</span><span class="n">rollback</span><span class="p">()</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ›´æ–°æ•°æ®</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
     <span class="s">'id'</span><span class="p">:</span> <span class="s">'20120001'</span><span class="p">,</span>
     <span class="s">'name'</span><span class="p">:</span> <span class="s">'Bob'</span><span class="p">,</span>
     <span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
 <span class="p">}</span>
 <span class="n">table</span> <span class="o">=</span> <span class="s">'students'</span>
 <span class="n">keys</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">keys</span><span class="p">())</span>
 <span class="n">values</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="s">'%s'</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">))</span>
 <span class="n">sql</span> <span class="o">=</span> <span class="s">'INSERT INTO {table}({keys}) VALUE ({values}) ON DUPLICATE KEY UPDATE '</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">keys</span><span class="o">=</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="n">values</span><span class="p">)</span>
 <span class="n">update</span> <span class="o">=</span> <span class="s">', '</span><span class="p">.</span><span class="n">join</span><span class="p">([</span><span class="s">" {key} = %s"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">data</span><span class="p">])</span>
 <span class="n">sql</span> <span class="o">+=</span> <span class="n">update</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="k">if</span> <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">data</span><span class="p">.</span><span class="n">values</span><span class="p">())</span><span class="o">*</span><span class="mi">2</span><span class="p">):</span>
         <span class="k">print</span><span class="p">(</span><span class="s">'Successful'</span><span class="p">)</span>
         <span class="n">db</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Failed'</span><span class="p">)</span>
     <span class="n">db</span><span class="p">.</span><span class="n">rollback</span><span class="p">()</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>åˆ é™¤æ•°æ®</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">table</span> <span class="o">=</span> <span class="s">'students'</span>
 <span class="n">condition</span> <span class="o">=</span> <span class="s">'age &gt; 20'</span>

 <span class="n">sql</span> <span class="o">=</span> <span class="s">'DELETE FROM {table} WHERE {condition}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">table</span><span class="o">=</span><span class="n">table</span><span class="p">,</span> <span class="n">condition</span><span class="o">=</span><span class="n">condition</span><span class="p">)</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
     <span class="n">db</span><span class="p">.</span><span class="n">commit</span><span class="p">()</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="n">db</span><span class="p">.</span><span class="n">rollback</span><span class="p">()</span>
 <span class="n">db</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ•°æ®æŸ¥è¯¢</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">sql</span> <span class="o">=</span> <span class="s">'SELECT * FROM students WHERE age &gt;= 20'</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Count:'</span><span class="p">,</span> <span class="n">cursor</span><span class="p">.</span><span class="n">rowcount</span><span class="p">)</span>
     <span class="n">one</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'One:'</span><span class="p">,</span> <span class="n">one</span><span class="p">)</span>
     <span class="n">results</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchall</span><span class="p">()</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Results:'</span><span class="p">,</span> <span class="n">results</span><span class="p">)</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Result Type:'</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
     <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
         <span class="k">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Error'</span><span class="p">)</span>
</code></pre></div>    </div>

    <p>åœ¨è¿™é‡Œæˆ‘ä»¬æ„é€ äº†ä¸€æ¡ SQL è¯­å¥ï¼Œå°†å¹´é¾„ 20 å²åŠä»¥ä¸Šçš„å­¦ç”ŸæŸ¥è¯¢å‡ºæ¥ï¼Œç„¶åå°†å…¶ä¼ ç»™ execute() æ–¹æ³•å³å¯ï¼Œæ³¨æ„åœ¨è¿™é‡Œä¸å†éœ€è¦ db çš„ commit() æ–¹æ³•ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥è°ƒç”¨ cursor çš„ rowcount å±æ€§è·å–æŸ¥è¯¢ç»“æœçš„æ¡æ•°ï¼Œå½“å‰ç¤ºä¾‹ä¸­è·å–çš„ç»“æœæ¡æ•°æ˜¯ 4 æ¡ã€‚</p>

    <p>ç„¶åæˆ‘ä»¬è°ƒç”¨äº† fetchone() æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥è·å–ç»“æœçš„ç¬¬ä¸€æ¡æ•°æ®ï¼Œè¿”å›ç»“æœæ˜¯å…ƒç»„å½¢å¼ï¼Œå…ƒç»„çš„å…ƒç´ é¡ºåºè·Ÿå­—æ®µä¸€ä¸€å¯¹åº”ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯ç¬¬ä¸€ä¸ªå­—æ®µ idï¼Œç¬¬äºŒä¸ªå…ƒç´ å°±æ˜¯ç¬¬äºŒä¸ªå­—æ®µ nameï¼Œä»¥æ­¤ç±»æ¨ã€‚éšåæˆ‘ä»¬åˆè°ƒç”¨äº†fetchall() æ–¹æ³•ï¼Œå®ƒå¯ä»¥å¾—åˆ°ç»“æœçš„æ‰€æœ‰æ•°æ®ï¼Œç„¶åå°†å…¶ç»“æœå’Œç±»å‹æ‰“å°å‡ºæ¥ï¼Œå®ƒæ˜¯äºŒé‡å…ƒç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€æ¡è®°å½•ã€‚æˆ‘ä»¬å°†å…¶éå†è¾“å‡ºï¼Œå°†å…¶é€ä¸ªè¾“å‡ºå‡ºæ¥ã€‚</p>

    <p>ä½†æ˜¯è¿™é‡Œæ³¨æ„åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œæ˜¾ç¤ºçš„æ˜¯4æ¡æ•°æ®ï¼Œfetall() æ–¹æ³•ä¸æ˜¯è·å–æ‰€æœ‰æ•°æ®å—ï¼Ÿä¸ºä»€ä¹ˆåªæœ‰3æ¡ï¼Ÿè¿™æ˜¯å› ä¸ºå®ƒçš„å†…éƒ¨å®ç°æ˜¯æœ‰ä¸€ä¸ªåç§»æŒ‡é’ˆæ¥æŒ‡å‘æŸ¥è¯¢ç»“æœçš„ï¼Œæœ€å¼€å§‹åç§»æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€æ¡æ•°æ®ï¼Œå–ä¸€æ¬¡ä¹‹åï¼ŒæŒ‡é’ˆåç§»åˆ°ä¸‹ä¸€æ¡æ•°æ®ï¼Œè¿™æ ·å†å–çš„è¯å°±ä¼šå–åˆ°ä¸‹ä¸€æ¡æ•°æ®äº†ã€‚æ‰€ä»¥æˆ‘ä»¬æœ€åˆè°ƒç”¨äº†ä¸€æ¬¡ fetchone() æ–¹æ³•ï¼Œè¿™æ ·ç»“æœçš„åç§»æŒ‡é’ˆå°±æŒ‡å‘äº†ä¸‹ä¸€æ¡æ•°æ®ï¼Œfetchall() æ–¹æ³•è¿”å›çš„æ˜¯åç§»æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ä¸€ç›´åˆ°ç»“æŸçš„æ‰€æœ‰æ•°æ®ï¼Œæ‰€ä»¥ fetchall() æ–¹æ³•è·å–çš„ç»“æœå°±åªå‰© 3 ä¸ªäº†ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè¦ç†è§£åç§»æŒ‡é’ˆçš„æ¦‚å¿µã€‚</p>

    <p>æ‰€ä»¥æˆ‘ä»¬è¿˜å¯ä»¥ç”¨ while å¾ªç¯åŠ  fetchone() çš„æ–¹æ³•æ¥è·å–æ‰€æœ‰æ•°æ®ï¼Œè€Œä¸æ˜¯ç”¨ fetchall() å…¨éƒ¨ä¸€èµ·è·å–å‡ºæ¥ï¼Œfetchall() ä¼šå°†ç»“æœä»¥å…ƒç»„å½¢å¼å…¨éƒ¨è¿”å›ï¼Œå¦‚æœæ•°æ®é‡å¾ˆå¤§ï¼Œé‚£ä¹ˆå ç”¨çš„å¼€é”€ä¼šéå¸¸é«˜ã€‚æ‰€ä»¥æ¨èä½¿ç”¨å¦‚ä¸‹çš„æ–¹æ³•æ¥é€æ¡å–æ•°æ®ï¼š</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymysql</span>

 <span class="n">sql</span> <span class="o">=</span> <span class="s">'SELECT * FROM students WHERE age &gt;= 20'</span>

 <span class="n">db</span> <span class="o">=</span> <span class="n">pymysql</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'root'</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'123456'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">3306</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'spiders'</span><span class="p">)</span>
 <span class="n">cursor</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>

 <span class="k">try</span><span class="p">:</span>
     <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql</span><span class="p">)</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Count:'</span><span class="p">,</span> <span class="n">cursor</span><span class="p">.</span><span class="n">rowcount</span><span class="p">)</span>
     <span class="n">row</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>
     <span class="k">while</span> <span class="n">row</span><span class="p">:</span>
         <span class="k">print</span><span class="p">(</span><span class="s">'Row'</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span>
         <span class="n">row</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>
 <span class="k">except</span><span class="p">:</span>
     <span class="k">print</span><span class="p">(</span><span class="s">'Error'</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="éå…³ç³»å‹æ•°æ®åº“å­˜å‚¨-1">éå…³ç³»å‹æ•°æ®åº“å­˜å‚¨</h2>

<p>éå…³ç³»å‹æ•°æ®åº“å¯ç»†åˆ†å¦‚ä¸‹ï¼š</p>

<ul>
  <li>é”®å€¼å­˜å‚¨æ•°æ®åº“ï¼šRedisã€Voldemort å’Œ Oracle BDB ç­‰</li>
  <li>åˆ—å­˜å‚¨æ•°æ®åº“ï¼šCassandraã€HBase å’Œ Rick ç­‰</li>
  <li>æ–‡æ¡£å‹æ•°æ®åº“ï¼šCouchDB å’Œ MongoDB ç­‰</li>
  <li>å›¾å½¢æ•°æ®åº“ï¼šNeo4Jã€InfoGrid å’Œ Infinit Graph ç­‰</li>
</ul>

<h3 id="mongodb-å­˜å‚¨-1">MongoDB å­˜å‚¨</h3>
<ol>
  <li>
    <p>è¿æ¥ MongoDB</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kn">import</span> <span class="nn">pymongo</span>

 <span class="n">client</span> <span class="o">=</span> <span class="n">pymongo</span><span class="p">.</span><span class="n">MongoClient</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">27017</span><span class="p">)</span>
 <span class="c1"># client = pymongo.MongoClient('mongodb://localhost:27017/')
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>æŒ‡å®šæ•°æ®åº“</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">db</span> <span class="o">=</span> <span class="n">client</span><span class="p">.</span><span class="n">test</span>
 <span class="c1"># db = client['test']
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>æŒ‡å®šé›†åˆ</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">collection</span> <span class="o">=</span> <span class="n">db</span><span class="p">.</span><span class="n">students</span>
 <span class="c1"># collection = db['students']
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>æ’å…¥æ•°æ®</p>

    <ul>
      <li>
        <p>æ–°å»ºå­¦ç”Ÿæ•°æ®</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">student1</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">'id'</span><span class="p">:</span> <span class="s">'20170101'</span><span class="p">,</span>
      <span class="s">'name'</span><span class="p">:</span> <span class="s">'Jordan'</span><span class="p">,</span>
      <span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
      <span class="s">'gender'</span><span class="p">:</span> <span class="s">'male'</span>
  <span class="p">}</span>
  <span class="n">student2</span> <span class="o">=</span> <span class="p">{</span>
      <span class="s">'id'</span><span class="p">:</span> <span class="s">'20170102'</span><span class="p">,</span>
      <span class="s">'name'</span><span class="p">:</span> <span class="s">'Mike'</span><span class="p">,</span>
      <span class="s">'age'</span><span class="p">:</span> <span class="mi">21</span><span class="p">,</span>
      <span class="s">'gender'</span><span class="p">:</span> <span class="s">'male'</span>
  <span class="p">}</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>æ’å…¥ä¸€æ¡æ•°æ®</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">insert_one</span><span class="p">(</span><span class="n">student1</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">inserted_id</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;pymongo.results.InsertOneResult object at 0x0000029188063F48&gt;
  5dd8be4a475adf926a44d21b
</code></pre></div>        </div>
      </li>
      <li>
        <p>æ’å…¥å¤šæ¡æ•°æ®</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">insert_many</span><span class="p">([</span><span class="n">student1</span><span class="p">,</span> <span class="n">student2</span><span class="p">])</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">inserted_ids</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;pymongo.results.InsertManyResult object at 0x00000249740C27C8&gt;
  [ObjectId('5dd8becc6c94b9c18bab42f8'), ObjectId('5dd8becc6c94b9c18bab42f9')]
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>æŸ¥è¯¢</p>

    <ul>
      <li>
        <p>æŸ¥è¯¢ä¸€ä¸ªç»“æœ</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find_one</span><span class="p">({</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'Mike'</span><span class="p">})</span>
  <span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">result</span><span class="p">))</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;class 'dict'&gt;
  {'_id': ObjectId('5dd8be3466741231fe29341e'), 'id': '20170102', 'name': 'Mike', 'age': 21, 'gender': 'male'}
</code></pre></div>        </div>
      </li>
      <li>
        <p>æ ¹æ® ObjectId æŸ¥è¯¢</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">bson</span> <span class="kn">import</span> <span class="n">ObjectId</span>
                
  <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find_one</span><span class="p">({</span><span class="s">'_id'</span><span class="p">:</span> <span class="n">ObjectId</span><span class="p">(</span><span class="s">'5dd8eb565053ed048d9a21ec'</span><span class="p">)})</span>
  <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>è¿è¡Œç»“æœï¼š</p>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  {'_id': ObjectId('5dd8eb565053ed048d9a21ec'), 'id': '20170101', 'name': 'Jordan', 'age': 20, 'gender': 'male'}
</code></pre></div>        </div>
      </li>
      <li>
        <p>æŸ¥è¯¢å¤šä¸ªç»“æœ</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">({</span><span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
  <span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
      <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>        </div>
        <p>å¦‚æœè¦æŸ¥æ‰¾å¤§äº20çš„æ•°æ®</p>
        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">({</span><span class="s">'age'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$gt'</span><span class="p">:</span> <span class="mi">20</span><span class="p">}})</span>
</code></pre></div>        </div>

        <table>
          <thead>
            <tr>
              <th>ç¬¦å·</th>
              <th>å«ä¹‰</th>
              <th>ç¤ºä¾‹</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>$lt</td>
              <td>å°äº</td>
              <td>{â€˜ageâ€™: {â€˜$ltâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$gt</td>
              <td>å¤§äº</td>
              <td>{â€˜ageâ€™: {â€˜$gtâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$lte</td>
              <td>å°äºç­‰äº</td>
              <td>{â€˜ageâ€™: {â€˜$lteâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$gte</td>
              <td>å¤§äºç­‰äº</td>
              <td>{â€˜ageâ€™: {â€˜$gteâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$ne</td>
              <td>ä¸ç­‰äº</td>
              <td>{â€˜ageâ€™: {â€˜$neâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$in</td>
              <td>åœ¨èŒƒå›´å†…</td>
              <td>{â€˜ageâ€™: {â€˜$inâ€™: 20}}</td>
            </tr>
            <tr>
              <td>$nin</td>
              <td>ä¸åœ¨èŒƒå›´å†…</td>
              <td>{â€˜ageâ€™: {â€˜$ninâ€™: 20}}</td>
            </tr>
          </tbody>
        </table>
      </li>
      <li>
        <p>æ­£åˆ™åŒ¹é…æŸ¥è¯¢</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">({</span><span class="s">'name'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$regex'</span><span class="p">:</span> <span class="s">'^J.*'</span><span class="p">}})</span>
</code></pre></div>        </div>
        <p>| ç¬¦å· | å«ä¹‰ | ç¤ºä¾‹ | ç¤ºä¾‹å«ä¹‰ |
  | â€”- | â€”- | â€”- | â€”- |
  | $regex | åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼ | {â€˜nameâ€™: {â€˜$regexâ€™: â€˜^J.*â€™}} | nameä»¥ J å¼€å¤´ |
  | $exists | å±æ€§æ˜¯å¦å­˜åœ¨ | {â€˜nameâ€™: {â€˜$existsâ€™: True}} | name å±æ€§å­˜åœ¨ |
  | $type | ç±»å‹åˆ¤æ–­ | {â€˜ageâ€™: {â€˜$typeâ€™: â€˜intâ€™}} | age çš„ç±»å‹ä¸º int |
  | $mod | æ•°å­—æ¨¡æ“ä½œ | {â€˜ageâ€™: {â€˜$modâ€™: [5, 0]}} | å¹´é¾„æ¨¡ 5 ä½™ 0 |
  | $text | æ–‡æœ¬æŸ¥è¯¢ | {â€˜$textâ€™: {â€˜$searchâ€™: â€˜Mikeâ€™}} | text ç±»å‹çš„å±æ€§ä¸­åŒ…å« Mike å­—ç¬¦ä¸² |
  | $where | é«˜çº§æ¡ä»¶æŸ¥è¯¢ | {â€˜$whereâ€™: â€˜obj.fans_count == obj.follows_countâ€™} | è‡ªèº«ç²‰ä¸æ•°ç­‰äºå…³æ³¨æ•° |</p>
      </li>
    </ul>
  </li>
  <li>
    <p>è®¡æ•°</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">count</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">count_documents</span><span class="p">({</span><span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
 <span class="k">print</span><span class="p">(</span><span class="n">count</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ’åº</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">().</span><span class="n">sort</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="n">pymongo</span><span class="p">.</span><span class="n">ASCENDING</span><span class="p">)</span>
 <span class="c1"># results = collection.find().sort('name', pymongo.DESCENDING)
</span> <span class="k">print</span><span class="p">([</span><span class="n">result</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">])</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>åç§»</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">().</span><span class="n">sort</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="n">pymongo</span><span class="p">.</span><span class="n">ASCENDING</span><span class="p">).</span><span class="n">skip</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
 <span class="k">print</span><span class="p">([</span><span class="n">result</span><span class="p">[</span><span class="s">'name'</span><span class="p">]</span> <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">])</span>
</code></pre></div>    </div>
    <p>limit() æ–¹æ³•æŒ‡å®šè¦å–çš„ç»“æœä¸ªæ•°</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">().</span><span class="n">sort</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="n">pymongo</span><span class="p">.</span><span class="n">ASCENDING</span><span class="p">).</span><span class="n">skip</span><span class="p">(</span><span class="mi">2</span><span class="p">).</span><span class="n">limit</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>åœ¨æ•°æ®åº“éå¸¸åºå¤§çš„æ—¶å€™ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨å¤§çš„åç§»é‡æ¥æŸ¥è¯¢æ•°æ®ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ“ä½œ</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">results</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find</span><span class="p">({</span><span class="s">'_id'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$gt'</span><span class="p">:</span> <span class="n">ObjectId</span><span class="p">(</span><span class="s">'5dd8eb565053ed048d9a21ec'</span><span class="p">)}})</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>æ›´æ–°</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">condition</span> <span class="o">=</span> <span class="p">{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'Mike'</span><span class="p">}</span>
 <span class="n">student</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">find_one</span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
 <span class="n">student</span><span class="p">[</span><span class="s">'age'</span><span class="p">]</span> <span class="o">=</span> <span class="mi">26</span>
 <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">update_one</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="p">{</span><span class="s">'$set'</span><span class="p">:</span> <span class="n">student</span><span class="p">})</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">matched_count</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">modified_count</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;pymongo.results.UpdateResult object at 0x000002748B94A4C8&gt;
 1 1
</code></pre></div>    </div>
    <p>ç¬¦åˆæ¡ä»¶çš„ç¬¬ä¸€æ¡ä¿¡æ¯è¿›è¡Œä¿®æ”¹</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">condition</span> <span class="o">=</span> <span class="p">{</span><span class="s">'age'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$gt'</span><span class="p">:</span> <span class="mi">20</span><span class="p">}}</span>
 <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">update_one</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="p">{</span><span class="s">'$inc'</span><span class="p">:</span> <span class="p">{</span><span class="s">'age'</span><span class="p">:</span> <span class="mi">20</span><span class="p">}})</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">matched_count</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">modified_count</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;pymongo.results.UpdateResult object at 0x000001919904B2C8&gt;
 1 1
</code></pre></div>    </div>
    <p>ç¬¦åˆæ¡ä»¶çš„æ‰€æœ‰ä¿¡æ¯è¿›è¡Œä¿®æ”¹</p>
    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="n">condition</span> <span class="o">=</span> <span class="p">{</span><span class="s">'age'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$gt'</span><span class="p">:</span> <span class="mi">20</span><span class="p">}}</span>
 <span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">update_many</span><span class="p">(</span><span class="n">condition</span><span class="p">,</span> <span class="p">{</span><span class="s">'$inc'</span><span class="p">:</span> <span class="p">{</span><span class="s">'age'</span><span class="p">:</span> <span class="mi">21</span><span class="p">}})</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
 <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">matched_count</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">modified_count</span><span class="p">)</span>
</code></pre></div>    </div>
    <p>è¿è¡Œç»“æœï¼š</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;pymongo.results.UpdateResult object at 0x000002013C6CB388&gt;
 4 4
</code></pre></div>    </div>
  </li>
  <li>
    <p>åˆ é™¤</p>

    <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">delete_one</span><span class="p">({</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'Kevin'</span><span class="p">})</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">deleted_count</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">collection</span><span class="p">.</span><span class="n">delete_many</span><span class="p">({</span><span class="s">'age'</span><span class="p">:</span> <span class="p">{</span><span class="s">'$lt'</span><span class="p">:</span> <span class="mi">25</span><span class="p">}})</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">deleted_count</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ol>

<h3 id="redis-å­˜å‚¨-1">Redis å­˜å‚¨</h3>
<ol>
  <li>è¿æ¥ Redis
    <ul>
      <li>
        <p>ç›´æ¥è¿æ¥</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">redis</span> <span class="kn">import</span> <span class="n">StrictRedis</span>

  <span class="n">redis</span> <span class="o">=</span> <span class="n">StrictRedis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'foobared'</span><span class="p">)</span>
  <span class="n">redis</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="s">'Bob'</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">redis</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'name'</span><span class="p">))</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>è¿æ¥æ± è¿æ¥</p>

        <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kn">from</span> <span class="nn">redis</span> <span class="kn">import</span> <span class="n">StrictRedis</span><span class="p">,</span> <span class="n">ConnectionPool</span>

  <span class="n">pool</span> <span class="o">=</span> <span class="n">ConnectionPool</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="s">'foobared'</span><span class="p">)</span>
  <span class="n">redis</span> <span class="o">=</span> <span class="n">StrictRedis</span><span class="p">(</span><span class="n">connection_pool</span><span class="o">=</span><span class="n">pool</span><span class="p">)</span>
  <span class="n">redis</span><span class="p">.</span><span class="nb">set</span><span class="p">(</span><span class="s">'name'</span><span class="p">,</span> <span class="s">'Bob'</span><span class="p">)</span>
  <span class="k">print</span><span class="p">(</span><span class="n">redis</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'name'</span><span class="p">))</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>
    <p>é”®æ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>exists(name)</td>
          <td>åˆ¤æ–­ä¸€ä¸ªé”®æ˜¯å¦å­˜åœ¨</td>
          <td>nameï¼šé”®å</td>
          <td>redis.exists(â€˜nameâ€™)</td>
          <td>æ˜¯å¦å­˜åœ¨ name è¿™ä¸ªé”®</td>
          <td>True</td>
        </tr>
        <tr>
          <td>delete(name)</td>
          <td>åˆ é™¤ä¸€ä¸ªé”®</td>
          <td>nameï¼šé”®å</td>
          <td>redis.delete(â€˜nameâ€™)</td>
          <td>åˆ é™¤ name è¿™ä¸ªé”®</td>
          <td>1</td>
        </tr>
        <tr>
          <td>type(name)</td>
          <td>åˆ¤æ–­é”®ç±»å‹</td>
          <td>nameï¼šé”®å</td>
          <td>redis.type(â€˜nameâ€™)</td>
          <td>åˆ¤æ–­ name è¿™ä¸ªé”®ç±»å‹</td>
          <td>bâ€™stringâ€™</td>
        </tr>
        <tr>
          <td>keys(patten)</td>
          <td>è·å–æ‰€æœ‰ç¬¦åˆè§„åˆ™çš„é”®</td>
          <td>pattenï¼šåŒ¹é…è§„åˆ™</td>
          <td>redis.keys(â€˜n*â€™)</td>
          <td>è·å–æ‰€æœ‰ä»¥ n å¼€å¤´çš„é”®</td>
          <td>[bâ€™nameâ€™]</td>
        </tr>
        <tr>
          <td>randomkey()</td>
          <td>è·å¾—éšæœºä¸€ä¸ªé”®</td>
          <td>Â </td>
          <td>randomkey()</td>
          <td>è·å–éšæœºçš„ä¸€ä¸ªé”®</td>
          <td>bâ€™nameâ€™</td>
        </tr>
        <tr>
          <td>rename(src, dst)</td>
          <td>é‡å‘½åé”®</td>
          <td>srcï¼šåŸé”®åï¼›dstï¼šæ–°é”®å</td>
          <td>redis.rename(â€˜nameâ€™, â€˜nicknameâ€™)</td>
          <td>å°† name é‡å‘½åä¸º nickname</td>
          <td>True</td>
        </tr>
        <tr>
          <td>dbsize()</td>
          <td>è·å–å½“å‰æ•°æ®åº“ä¸­é”®çš„æ•°ç›®</td>
          <td>Â </td>
          <td>dbsize()</td>
          <td>è·å–å½“å‰æ•°æ®åº“ä¸­é”®çš„æ•°ç›®</td>
          <td>100</td>
        </tr>
        <tr>
          <td>expire(name, time)</td>
          <td>è®¾å®šé”®çš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’</td>
          <td>nameï¼šé”®åï¼›timeï¼šé”®å</td>
          <td>redis.expire(â€˜nameâ€™, 2)</td>
          <td>å°† name é”®çš„è¿‡æœŸæ—¶é—´è®¾ç½®ä¸º2ç§’</td>
          <td>True</td>
        </tr>
        <tr>
          <td>ttl(name)</td>
          <td>è·å–é”®çš„è¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’ï¼Œ-1ä»£è¡¨æ°¸ä¸è¿‡æœŸ</td>
          <td>nameï¼šé”®å</td>
          <td>redis.ttl(â€˜nameâ€™)</td>
          <td>è·å– name è¿™ä¸ªé”®çš„è¿‡æœŸæ—¶é—´</td>
          <td>-1</td>
        </tr>
        <tr>
          <td>move(name, db)</td>
          <td>å°†é”®ç§»åŠ¨åˆ°å…¶ä»–æ•°æ®åº“</td>
          <td>nameï¼šé”®å;db: æ•°æ®åº“ä»£å·</td>
          <td>moce(â€˜nameâ€™, 2)</td>
          <td>å°† name ç§»åˆ°2å·æ•°æ®åº“</td>
          <td>True</td>
        </tr>
        <tr>
          <td>flushdb()</td>
          <td>åˆ é™¤å½“å‰é€‰æ‹©æ•°æ®åº“ä¸­çš„æ‰€æœ‰é”®</td>
          <td>Â </td>
          <td>flushdb()</td>
          <td>åˆ é™¤å½“å‰é€‰æ‹©æ•°æ®åº“ä¸­çš„æ‰€æœ‰é”®</td>
          <td>True</td>
        </tr>
        <tr>
          <td>flushall()</td>
          <td>åˆ é™¤æ‰€æœ‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰é”®</td>
          <td>Â </td>
          <td>flushall()</td>
          <td>åˆ é™¤æ‰€æœ‰æ•°æ®åº“ä¸­çš„æ‰€æœ‰é”®</td>
          <td>True</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>å­—ç¬¦ä¸²æ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>set(name, value)</td>
          <td>ç»™æ•°æ®åº“ä¸­é”®åä¸º name çš„ string èµ‹äºˆå€¼ value</td>
          <td>nameï¼š é”®åï¼›valueï¼š å€¼</td>
          <td>redis.set(â€˜nameâ€™, â€˜Bobâ€™)</td>
          <td>ç»™ name è¿™ä¸ªé”®çš„ value èµ‹äºˆä¸º Bob</td>
          <td>True</td>
        </tr>
        <tr>
          <td>get(name)</td>
          <td>è¿”å›æ•°æ®åº“ä¸­é”®åä¸º name çš„ string çš„ value</td>
          <td>name: é”®å</td>
          <td>redis.get(â€˜nameâ€™)</td>
          <td>è¿”å› name è¿™ä¸ªé”®çš„ value</td>
          <td>bâ€™Bobâ€™</td>
        </tr>
        <tr>
          <td>getset(name, value)</td>
          <td>ç»™æ•°æ®åº“ä¸­é”®åä¸º name çš„ string èµ‹äºˆå€¼ value å¹¶è¿”å›ä¸Šæ¬¡çš„ value</td>
          <td>name: é”®åï¼›valueï¼š æ–°å€¼</td>
          <td>redis.getset(â€˜nameâ€™, â€˜Mikeâ€™)</td>
          <td>èµ‹å€¼ name ä¸º Mike å¹¶å¾—åˆ°ä¸Šæ¬¡çš„ value</td>
          <td>bâ€™Bobâ€™</td>
        </tr>
        <tr>
          <td>mget(keys, *args)</td>
          <td>è¿”å›å¤šä¸ªé”®å¯¹åº”çš„ value ç»„æˆçš„åˆ—è¡¨</td>
          <td>keys: é”®ååºåˆ—</td>
          <td>redis.mget([â€˜nameâ€™, â€˜nicknameâ€™])</td>
          <td>è¿”å› name å’Œ nickname çš„ value</td>
          <td>[bâ€™Mikeâ€™, bâ€™Mikerâ€™]</td>
        </tr>
        <tr>
          <td>setnx(name, value)</td>
          <td>å¦‚æœä¸å­˜åœ¨è¿™ä¸ªé”®å€¼å¯¹ï¼Œåˆ™æ›´æ–° valueï¼Œå¦åˆ™ä¸å˜</td>
          <td>nameï¼š é”®å</td>
          <td>redis.setnx(â€˜newnameâ€™, â€˜Jamesâ€™)</td>
          <td>å¦‚æœ newname è¿™ä¸ªé”®ä¸å­˜åœ¨ï¼Œåˆ™è®¾ç½®å€¼ä¸º James</td>
          <td>ç¬¬ä¸€æ¬¡è¿è¡Œç»“æœæ˜¯ Trueï¼Œç¬¬äºŒæ¬¡è¿è¡Œç»“æœçš„ False</td>
        </tr>
        <tr>
          <td>setex(name, time, value)</td>
          <td>è®¾ç½®å¯ä»¥å¯¹åº”çš„å€¼ä¸º string ç±»å‹çš„ valueï¼Œå¹¶æŒ‡å®šé”®å€¼å¯¹åº”çš„æœ‰æ•ˆæœŸ</td>
          <td>name: é”®åï¼›timeï¼š æœ‰æ•ˆæœŸï¼›valueï¼š å€¼</td>
          <td>redis.setex(â€˜nameâ€™, 1, â€˜Jamesâ€™)</td>
          <td>å°† name è¿™ä¸ªé”®çš„å€¼è®¾ä¸º Jamesï¼Œæœ‰æ•ˆæœŸä¸º1ç§’</td>
          <td>True</td>
        </tr>
        <tr>
          <td>setrange(name, offset, value)</td>
          <td>è®¾ç½®æŒ‡å®šé”®çš„ value å€¼çš„å­å­—ç¬¦ä¸²</td>
          <td>name: é”®åï¼›offsetï¼š åç§»é‡ï¼›value: å€¼</td>
          <td>redis.set(â€˜nameâ€™, â€˜Helloâ€™) redis.setrange(â€˜nameâ€™, 6, â€˜Worldâ€™)</td>
          <td>è®¾ç½® name ä¸º Hello å­—ç¬¦ä¸²ï¼Œå¹¶åœ¨ index ä¸º6çš„ä½ç½®è¡¥ World</td>
          <td>11ï¼Œ ä¿®æ”¹åçš„å­—ç¬¦ä¸²é•¿åº¦</td>
        </tr>
        <tr>
          <td>mset(mapping)</td>
          <td>æ‰¹é‡èµ‹å€¼</td>
          <td>mapping: å­—å…¸æˆ–å…³é”®å­—å‚æ•°</td>
          <td>redis.mset({â€˜name1â€™: â€˜Durantâ€™, â€˜name2â€™: â€˜Jamesâ€™})</td>
          <td>å°† name1 è®¾ä¸º Durantï¼Œname2 è®¾ä¸º James</td>
          <td>True</td>
        </tr>
        <tr>
          <td>msetnx(mapping)</td>
          <td>é”®å‡ä¸å­˜åœ¨æ—¶æ‰æ‰¹é‡èµ‹å€¼</td>
          <td>mapping: å­—å…¸æˆ–å…³é”®å­—å‚æ•°</td>
          <td>redis.msetnx({â€˜name3â€™: â€˜Smithâ€™,â€™name4â€™: â€˜Curryâ€™})</td>
          <td>åœ¨ name3 å’Œ name4 å‡ä¸å­˜åœ¨çš„æƒ…å†µä¸‹æ‰è®¾ç½®äºŒè€…å€¼</td>
          <td>True</td>
        </tr>
        <tr>
          <td>incr(name, amount=1)</td>
          <td>é”®åä¸º name çš„ value å¢å€¼æ“ä½œï¼Œé»˜è®¤ä¸º1ï¼Œé”®ä¸å­˜åœ¨åˆ™è¢«åˆ›å»ºå¹¶è®¾ä¸º amount</td>
          <td>nameï¼š é”®åï¼›amountï¼š å¢é•¿çš„å€¼</td>
          <td>redis.incr(â€˜ageâ€™, 1)</td>
          <td>age å¯¹åº”çš„å€¼å¢1ï¼Œ è‹¥ä¸å­˜åœ¨ã€‚åˆ™ä¼šåˆ›å»ºå¹¶è®¾ç½®ä¸º 1</td>
          <td>1, å³ä¿®æ”¹åçš„å€¼</td>
        </tr>
        <tr>
          <td>decrï¼ˆnameï¼Œ amount=1)</td>
          <td>é”®åä¸º name çš„ value å‡å€¼æ“ä½œï¼Œé»˜è®¤ä¸º1ï¼Œé”®ä¸å­˜åœ¨åˆ™è¢«åˆ›å»ºå¹¶å°† value è®¾ä¸º -amount</td>
          <td>nameï¼š é”®åï¼›amountï¼š å‡å°‘çš„å€¼</td>
          <td>redis.decr(â€˜ageâ€™, 1)</td>
          <td>age å¯¹åº”çš„å€¼å‡1ï¼Œ è‹¥ä¸å­˜åœ¨ã€‚åˆ™ä¼šåˆ›å»ºå¹¶è®¾ç½®ä¸º -1</td>
          <td>-1, å³ä¿®æ”¹åçš„å€¼</td>
        </tr>
        <tr>
          <td>append(key, value)</td>
          <td>é”®åä¸º key çš„ string çš„å€¼é™„åŠ  value</td>
          <td>keyï¼š é”®å</td>
          <td>redis.append(â€˜nicknameâ€™, â€˜OKâ€™)</td>
          <td>å‘é”®åä¸º nickname çš„å€¼åè¿½åŠ  OK</td>
          <td>13ï¼Œå³ä¿®æ”¹åçš„å­—ç¬¦ä¸²é•¿åº¦</td>
        </tr>
        <tr>
          <td>substr(name, value)</td>
          <td>è¿”å›é”®åä¸º name çš„ string çš„å­å­—ç¬¦ä¸²</td>
          <td>name: é”®åï¼›start: èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»ˆæ­¢ç´¢å¼•ï¼Œé»˜è®¤ä¸º -1ï¼Œè¡¨ç¤ºæˆªå–åˆ°æœ«å°¾</td>
          <td>redis.substr(â€˜nameâ€™, 1, 4)</td>
          <td>è¿”å›é”®åä¸º name çš„ å€¼çš„å­—ç¬¦ä¸²ï¼Œæˆªå–ç´¢å¼•ä¸º1~4çš„å­—ç¬¦</td>
          <td>bâ€™elloâ€™</td>
        </tr>
        <tr>
          <td>getrange(key, start, end)</td>
          <td>è·å–é”®çš„ value å€¼ä» start åˆ° end çš„å­å­—ç¬¦ä¸²</td>
          <td>key: é”®åï¼›startï¼š èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»ˆæ­¢ç´¢å¼•</td>
          <td>redis.getrange(â€˜nameâ€™, 1, 4)</td>
          <td>è¿”å›é”®åä¸º name çš„å€¼çš„å­—ç¬¦ä¸²ï¼Œæˆªå–ç´¢å¼•ä¸º1~4çš„å­—ç¬¦</td>
          <td>bâ€™elloâ€™</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>åˆ—è¡¨æ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>rpush(name, *values)</td>
          <td>åœ¨é”®åä¸º name çš„åˆ—è¡¨æœ«å°¾æ·»åŠ ä¸º value çš„å…ƒç´ ï¼Œå¯ä»¥ä¼ å¤šä¸ª</td>
          <td>name: é”®åï¼›valuesï¼š å€¼</td>
          <td>redis.rpush(â€˜listâ€™, 1, 2, 3)</td>
          <td>å‘é”®åä¸º list çš„åˆ—è¡¨å°¾æ·»åŠ 1ã€2ã€3</td>
          <td>3ï¼Œåˆ—è¡¨å¤§å°</td>
        </tr>
        <tr>
          <td>lpush(name, *values)</td>
          <td>åœ¨é”®åä¸º name çš„åˆ—è¡¨å¤´æ·»åŠ å€¼ä¸º value çš„å…ƒç´ ï¼Œå¯ä»¥ä¼ å¤šä¸ª</td>
          <td>name: é”®åï¼›valuesï¼š å€¼</td>
          <td>redis.lpush(â€˜listâ€™, 0)</td>
          <td>å‘é”®åä¸º list çš„åˆ—è¡¨å¤´éƒ¨æ·»åŠ 0</td>
          <td>4ï¼Œåˆ—è¡¨å¤§å°</td>
        </tr>
        <tr>
          <td>llen(name)</td>
          <td>è¿”å›é”®åä¸º name çš„åˆ—è¡¨çš„é•¿åº¦</td>
          <td>name: é”®å</td>
          <td>redis.llen(â€˜listâ€™)</td>
          <td>è¿”å›é”®åä¸º list çš„åˆ—è¡¨çš„é•¿åº¦</td>
          <td>4</td>
        </tr>
        <tr>
          <td>lrange(name, start, end)</td>
          <td>è¿”å›é”®åä¸º name çš„åˆ—è¡¨ä¸­ start è‡³ end ä¹‹é—´çš„å…ƒç´ </td>
          <td>name: é”®åï¼›startï¼š èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»ˆæ­¢ç´¢å¼•</td>
          <td>redis.lrange(â€˜listâ€™, 1, 3)</td>
          <td>è¿”å›èµ·å§‹ç´¢å¼•ä¸º1ç»ˆæ­¢ç´¢å¼•ä¸º3çš„æ‰€æœ‰èŒƒå›´å¯¹åº”çš„åˆ—è¡¨</td>
          <td>[bâ€™3â€™, bâ€™2â€™, bâ€™1â€™]</td>
        </tr>
        <tr>
          <td>ltrim(name, start, end)</td>
          <td>æˆªå–é”®åä¸º name çš„åˆ—è¡¨ï¼Œä¿ç•™ç´¢å¼•ä¸º start åˆ° end çš„å†…å®¹</td>
          <td>name: é”®åï¼›startï¼š èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»ˆæ­¢ç´¢å¼•</td>
          <td>redis.ltrim(â€˜listâ€™, 1, 3)</td>
          <td>ä¿ç•™é”®åä¸º list çš„æ‰€æœ‰ä¸º1åˆ°3çš„å…ƒç´ </td>
          <td>True</td>
        </tr>
        <tr>
          <td>lindex(name, index)</td>
          <td>è¿”å›é”®åä¸º name çš„åˆ—è¡¨ä¸­ index ä½ç½®çš„å…ƒç´ </td>
          <td>name: é”®åï¼›indexï¼š ç´¢å¼•</td>
          <td>redis.index(â€˜listâ€™, 1)</td>
          <td>è¿”å›é”®åä¸º list çš„åˆ—è¡¨æ‰€æœ‰ä¸º1çš„å…ƒç´ </td>
          <td>bâ€™2â€™</td>
        </tr>
        <tr>
          <td>lset(name, index, value)</td>
          <td>ç»™é”®åä¸º name çš„åˆ—è¡¨ä¸­ index ä½ç½®çš„å…ƒç´ èµ‹å€¼ï¼Œè¶Šç•Œåˆ™æŠ¥é”™</td>
          <td>name: é”®åï¼›indexï¼š ç´¢å¼•ä½ç½®ï¼›valueï¼š å€¼</td>
          <td>redis.lset(â€˜listâ€™, 1, 5)</td>
          <td>å°†é”®åä¸º list çš„åˆ—è¡¨ä¸­ç´¢å¼•ä¸º1çš„ä½ç½®èµ‹å€¼ä¸º5</td>
          <td>True</td>
        </tr>
        <tr>
          <td>lrem(name, count, value)</td>
          <td>åˆ é™¤ count ä¸ªé”®çš„åˆ—è¡¨ä¸­å€¼ä¸º value çš„å…ƒç´ </td>
          <td>name: é”®åï¼›countï¼š åˆ é™¤ä¸ªæ•°ï¼›valueï¼š å€¼</td>
          <td>redis.lrem(â€˜listâ€™, 2, 3)</td>
          <td>å°†é”®åä¸º list çš„åˆ—è¡¨åˆ é™¤ä¸¤ä¸ª3</td>
          <td>1,å³åˆ é™¤çš„ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>lpop(name)</td>
          <td>è¿”å›å¹¶åˆ é™¤é”®åä¸º name çš„åˆ—è¡¨ä¸­çš„é¦–å…ƒç´ </td>
          <td>name: é”®å</td>
          <td>redis.lpop(â€˜listâ€™)</td>
          <td>è¿”å›å¹¶åˆ é™¤åä¸º list çš„åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </td>
          <td>bâ€™5â€™</td>
        </tr>
        <tr>
          <td>rpop(name)</td>
          <td>è¿”å›å¹¶åˆ é™¤é”®åä¸º name çš„åˆ—è¡¨ä¸­çš„å°¾å…ƒç´ </td>
          <td>name: é”®å</td>
          <td>redis.rpop(â€˜listâ€™)</td>
          <td>è¿”å›å¹¶åˆ é™¤åä¸º list çš„åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ </td>
          <td>bâ€™2â€™</td>
        </tr>
        <tr>
          <td>blpop(keys, timeout=0)</td>
          <td>è¿”å›å¹¶åˆ é™¤åç§°åœ¨ keys ä¸­çš„ list ä¸­çš„é¦–ä¸ªå…ƒç´ ï¼Œå¦‚æœåˆ—è¡¨ä¸ºç©ºï¼Œåˆ™ä¼šä¸€ç›´é˜»å¡ç­‰å¾…</td>
          <td>keys: é”®ååºåˆ—ï¼›timeoutï¼šè¶…æ—¶ç­‰å¾…æ—¶é—´ï¼Œ0ä¸ºä¸€ç›´ç­‰å¾…</td>
          <td>redis.blpop(â€˜listâ€™)</td>
          <td>è¿”å›å¹¶åˆ é™¤é”®åä¸º list çš„åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </td>
          <td>[bâ€™5â€™]</td>
        </tr>
        <tr>
          <td>brpop(keys, timeout=0)</td>
          <td>è¿”å›å¹¶åˆ é™¤é”®åä¸º name çš„åˆ—è¡¨ä¸­çš„å°¾å…ƒç´ ï¼Œå¦‚æœ list ä¸ºç©ºï¼Œåˆ™ä¼šä¸€ç›´é˜»å¡ç­‰å¾…</td>
          <td>keys: é”®ååºåˆ—ï¼›timeoutï¼š è¶…æ—¶ç­‰å¾…æ—¶é—´ï¼Œ0ä¸ºä¸€ç›´ç­‰å¾…</td>
          <td>redis.brpop(â€˜listâ€™)</td>
          <td>è¿”å›å¹¶åˆ é™¤åä¸º list çš„åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ </td>
          <td>[bâ€™2â€™]</td>
        </tr>
        <tr>
          <td>rpoplpush(src, dst)</td>
          <td>è¿”å›å¹¶åˆ é™¤åç§°ä¸º src çš„åˆ—è¡¨çš„å°¾å…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ æ·»åŠ åˆ°åç§°å°¾ dst çš„åˆ—è¡¨å¤´éƒ¨</td>
          <td>srcï¼š æºåˆ—è¡¨çš„é”®ï¼›dstï¼š ç›®æ ‡åˆ—è¡¨çš„ key</td>
          <td>redis.rpoplpush(â€˜listâ€™, â€˜list2â€™)</td>
          <td>å°†é”®åå°¾ list çš„åˆ—è¡¨å°¾å…ƒç´ åˆ é™¤å¹¶å°†å…¶æ·»åŠ åˆ°é”®åå°¾ list2 çš„åˆ—è¡¨å¤´éƒ¨ï¼Œç„¶åè¿”å›</td>
          <td>bâ€™2â€™</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>é›†åˆæ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>sadd(name, *values)</td>
          <td>å‘é”®åå°¾ name çš„é›†åˆä¸­æ·»åŠ å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›valuesï¼š å€¼ï¼Œå¯ä¸ºå¤šä¸ª</td>
          <td>redis.sadd(â€˜tagsâ€™, â€˜Bookâ€™, â€˜Teaâ€™, â€˜Coffeeâ€™)</td>
          <td>å‘é”®åä¸º tags çš„é›†åˆä¸­æ·»åŠ  Bookã€Tea å’Œ Coffee è¿™3ä¸ªå†…å®¹</td>
          <td>3ï¼Œ å³æ’å…¥çš„æ•°æ®ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>srem(name, *values)</td>
          <td>ä»é”®åä¸º name çš„é›†åˆä¸­åˆ é™¤å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›valuesï¼š å€¼ï¼Œå¯ä¸ºå¤šä¸ª</td>
          <td>redis.srem(â€˜tagsâ€™, â€˜Bookâ€™)</td>
          <td>ä»é”®åä¸º tags çš„é›†åˆä¸­åˆ é™¤ Book</td>
          <td>1ï¼Œå³åˆ é™¤çš„æ•°æ®ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>spop(name)</td>
          <td>éšæœºè¿”å›å¹¶åˆ é™¤é”®åä¸º name çš„é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ </td>
          <td>nameï¼š é”®å</td>
          <td>redis.spop(â€˜tagsâ€™)</td>
          <td>ä»é”®åä¸º tags çš„é›†åˆå¹¶éšæœºåˆ é™¤å¹¶è¿”å›è¯¥å…ƒç´ </td>
          <td>bâ€™Teaâ€™</td>
        </tr>
        <tr>
          <td>smove(scr, dst, value)</td>
          <td>src å¯¹åº”çš„é›†åˆä¸­ä¸€å¤„å…ƒç´ å¹¶å°†å…¶æ·»åŠ åˆ° dst å¯¹åº”çš„é›†åˆä¸­</td>
          <td>srcï¼š æºé›†åˆï¼›dstï¼š ç›®æ ‡é›†åˆï¼›valueï¼š å…ƒç´ å€¼</td>
          <td>redis.smove(â€˜tagsâ€™, â€˜tags2â€™, â€˜Coffeeâ€™)</td>
          <td>ä»é”®åä¸º tags çš„é›†åˆä¸­åˆ é™¤å…ƒç´  Coffee å¹¶å°†å…¶æ·»åŠ åˆ°é”®ä¸º tags2 çš„é›†åˆ</td>
          <td>True</td>
        </tr>
        <tr>
          <td>scard(name)</td>
          <td>è¿”å›é”®åä¸º name çš„é›†åˆçš„å…ƒç´ ä¸ªæ•°</td>
          <td>name: é”®å</td>
          <td>redis.scard(â€˜tagsâ€™)</td>
          <td>è·å–é”®åä¸º tags çš„é›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°</td>
          <td>3</td>
        </tr>
        <tr>
          <td>sismember(name, value)</td>
          <td>æµ‹è¯• member æ˜¯å¦æ˜¯é”®åä¸º name çš„é›†åˆçš„å…ƒç´ </td>
          <td>name: é”®å€¼</td>
          <td>redis.sismember(â€˜tagsâ€™, â€˜Bookâ€™)</td>
          <td>åˆ¤æ–­ Book æ˜¯å¦æ˜¯é”®åä¸º tags çš„é›†åˆå…ƒç´ </td>
          <td>True</td>
        </tr>
        <tr>
          <td>sinter(keys, *args)</td>
          <td>è¿”å›æ‰€æœ‰ç»™å®šé”®çš„é›†åˆçš„äº¤é›†</td>
          <td>keysï¼š é”®ååºåˆ—</td>
          <td>redis.sinter([â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>è¿”å›é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„äº¤é›†</td>
          <td>{bâ€™Coffeeâ€™}</td>
        </tr>
        <tr>
          <td>sinterstore(dest, keys, *args)</td>
          <td>æ±‚äº¤é›†å¹¶å°†äº¤é›†ä¿å­˜åˆ° dest çš„é›†åˆ</td>
          <td>dest: ç»“æœé›†åˆï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.sinterstore(â€˜inttagâ€™, [â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>æ±‚é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„äº¤é›†å¹¶å°†å…¶ä¿å­˜ä¸º inttag</td>
          <td>1</td>
        </tr>
        <tr>
          <td>sunion(keys, *args)</td>
          <td>è¿”å›æ‰€æœ‰ç»™å®šé”®çš„é›†åˆçš„å¹¶é›†</td>
          <td>keysï¼š é”®ååºåˆ—</td>
          <td>redis.sunion([â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>è¿”å›é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„å¹¶é›†</td>
          <td>{bâ€™Coffeeâ€™, bâ€™Bookâ€™, bâ€™Penâ€™}</td>
        </tr>
        <tr>
          <td>sunionstore(dest, keys, *args)</td>
          <td>æ±‚å¹¶é›†å¹¶å°†å¹¶é›†ä¿å­˜åˆ° dest çš„é›†åˆ</td>
          <td>destï¼š ç»“æœé›†åˆï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.sunionstore(â€˜inttagâ€™, [â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>æ±‚é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆå¹¶é›†å¹¶å°†å…¶ä¿å­˜ä¸º inttag</td>
          <td>3</td>
        </tr>
        <tr>
          <td>sdiff(keys, *args)</td>
          <td>è¿”å›æ‰€æœ‰ç»™å®šé”®çš„é›†åˆçš„å·®é›†</td>
          <td>keysï¼š é”®ååºåˆ—</td>
          <td>redis.sdiff([â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>è¿”å›é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„å·®é›†</td>
          <td>{bâ€™Bookâ€™, â€˜bâ€™Penâ€™}</td>
        </tr>
        <tr>
          <td>sdiffstore(dest, keys, *args)</td>
          <td>æ±‚å·®é›†å¹¶å°†å·®é›†ä¿å­˜åˆ° dest é›†åˆ</td>
          <td>dest: è®°è¿‡é›†åˆï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.sdiffstore(â€˜inttagâ€™, [â€˜tagsâ€™, â€˜tags2â€™])</td>
          <td>æ±‚é”®åä¸º tags çš„é›†åˆå’Œé”®åä¸º tags2 çš„é›†åˆçš„å·®é›†å¹¶å°†å…¶ä¿å­˜ä¸º inttag</td>
          <td>3</td>
        </tr>
        <tr>
          <td>smembers(name)</td>
          <td>è¿”å›é”®åä¸º name çš„é›†åˆçš„æ‰€æœ‰å…ƒç´ </td>
          <td>nameï¼š é”®å</td>
          <td>redis.smembers(â€˜tags)</td>
          <td>è¿”å›é”®åä¸º tags çš„é›†åˆçš„æ‰€æœ‰å…ƒç´ </td>
          <td>{bâ€™Penâ€™, bâ€™Bookâ€™, bâ€™Coffeeâ€™}</td>
        </tr>
        <tr>
          <td>srandmember(name)</td>
          <td>éšæœºè¿”å›é”®åä¸º name çš„é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œä½†ä¸åˆ é™¤å…ƒç´ </td>
          <td>name: é”®å€¼</td>
          <td>redis.srandmember(â€˜tagsâ€™)</td>
          <td>éšæœºè¿”å›åä¸º tags çš„é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ </td>
          <td>Srandmember(name)</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>æœ‰åºé›†åˆæ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
          <th>Â </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>zadd(name, *values)</td>
          <td>å‘é”®åä¸º name çš„ zset ä¸­æ·»åŠ å…ƒç´  memberï¼Œscore ç”¨äºæ’åºã€‚å¦‚æœè¯¥å…ƒç´ å­˜åœ¨ï¼Œåˆ™æ›´æ–°å…¶é¡ºåº</td>
          <td>nameï¼š é”®åï¼›argsï¼š å¯å˜å‚æ•°</td>
          <td>redis.zadd(â€˜gradeâ€™, 100, â€˜Bobâ€™, 98, â€˜Mikeâ€™)</td>
          <td>å‘é”®åä¸º grade çš„ zset ä¸­æ·»åŠ  Bobï¼ˆå…¶ score ä¸º100),å¹¶æ·»åŠ  Mikeï¼ˆå…¶ score ä¸º98)</td>
          <td>2, å³æ·»åŠ çš„å…ƒç´ ä¸ªæ•°</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrem(name, *values)</td>
          <td>åˆ é™¤é”®åä¸º name çš„ zset ä¸­çš„å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›valuesï¼š å…ƒç´ </td>
          <td>redis.zrem(â€˜gradeâ€™, â€˜Mikeâ€™)</td>
          <td>ä»é”®åä¸º grade çš„ zset ä¸­åˆ é™¤ Mike</td>
          <td>ä»é”®åä¸º grade çš„ zset ä¸­åˆ é™¤ Mike</td>
          <td>1ï¼Œ å³åˆ é™¤çš„å…ƒç´ ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>zincrby(name, value, amount=1)</td>
          <td>å¦‚æœåœ¨é”®åä¸º name çš„ zset ä¸­å·²ç»å­˜åœ¨å…ƒç´ ï¼Œvalue åˆ™å°†è¯¥å…ƒç´ çš„ score å¢åŠ  amountï¼›å¦åˆ™å‘è¯¥é›†åˆä¸­æ·»åŠ è¯¥å…ƒç´ ï¼Œå…¶ score çš„å€¼ä¸º amount</td>
          <td>nameï¼š é”®åï¼›valueï¼š å…ƒç´ ï¼›amountï¼š å¢é•¿çš„ score çš„å€¼</td>
          <td>redis.zincrby(â€˜gradeâ€™, â€˜Bobâ€™, -2)</td>
          <td>é”®åä¸º grade çš„ zset ä¸­ Bob çš„ score å‡2</td>
          <td>98.0ï¼Œå³ä¿®æ”¹åçš„å€¼</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrank(name, value)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset ä¸­å…ƒç´ çš„æ’åï¼ŒæŒ‰ score ä»å°åˆ°å¤§æ’åºï¼Œå³åæ¬¡</td>
          <td>nameï¼š é”®åï¼›valueï¼š å…ƒç´ å€¼</td>
          <td>redis.zrank(â€˜gradeâ€™, â€˜Amyâ€™)</td>
          <td>å¾—åˆ°é”®åä¸º grade çš„ zset ä¸­ Amy çš„æ’å</td>
          <td>1</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrevrank(name, value)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset ä¸­å…ƒç´ çš„å€’æ•°æ’åï¼ŒæŒ‰ score ä»å°åˆ°å¤§æ’åºï¼Œå³åæ¬¡</td>
          <td>nameï¼š é”®åï¼›valueï¼š å…ƒç´ å€¼</td>
          <td>redis.zrevzrank(â€˜gradeâ€™, â€˜Amyâ€™)</td>
          <td>å¾—åˆ°é”®åä¸º grade çš„ zset ä¸­ Amy çš„å€’æ•°æ’å</td>
          <td>2</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrevrange(name, start, end, withscores=False)</td>
          <td>è¿”å›é”®åä¸º name çš„ zsetï¼ˆæŒ‰ score ä»å°åˆ°å¤§æ’åºï¼‰ä¸­ index ä» start åˆ° end çš„æ‰€æœ‰å…ƒç´ </td>
          <td>nameï¼š é”®å€¼ï¼›startï¼š å¼€å§‹ç´¢å¼•ï¼›endï¼š å€Ÿå®¿ç´¢å¼•ï¼›withscoresï¼š æ˜¯å¦å¸¦ score</td>
          <td>redis.zrevrange(â€˜gradeâ€™, 0, 3)</td>
          <td>è¿”å›é”®åä¸º grade çš„ zset ä¸­å‰å››åå…ƒç´ </td>
          <td>[bâ€™Bobâ€™, bâ€™Mikeâ€™, bâ€™Amyâ€™, bâ€™Jamesâ€™]</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zrangebysocre(name. min, max, start=None, num=None, withscores=False)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset ä¸­ score åœ¨ç»™å®šåŒºé—´çš„å…ƒç´ </td>
          <td>nameï¼š é”®å€¼ï¼›minï¼š æœ€ä½ scoreï¼›maxï¼š æœ€é«˜ scoreï¼›startï¼š èµ·å§‹ç´¢å¼•ï¼›endï¼š ç»“æŸç´¢å¼•ï¼›numï¼š ä¸ªæ•°ï¼› withscoreï¼š æ˜¯å¦å¸¦score</td>
          <td>redis.zrangebysocre(â€˜gradeâ€™, 80, 95)</td>
          <td>è¿”å›é”®åä¸º grade çš„ zset ä¸­ score åœ¨ 80 å’Œ 95 ä¹‹é—´çš„å…ƒç´ </td>
          <td>[bâ€™Bobâ€™, bâ€™Mikeâ€™, bâ€™Amyâ€™, bâ€™Jamesâ€™]</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zcount(name, min, max)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset ä¸­ score åœ¨ç»™å®šåŒºé—´çš„æ•°é‡</td>
          <td>nameï¼š é”®åï¼›minï¼šæœ€ä½score;max: æœ€é«˜ score</td>
          <td>redis.zcount(â€™gradeâ€˜ï¼Œ 80ï¼Œ 95)</td>
          <td>è¿”å›é”®åä¸º grade çš„ zset ä¸­ score åœ¨80åˆ°95çš„å…ƒç´ ä¸ªæ•°</td>
          <td>2</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zcard(name)</td>
          <td>è¿”å›é”®åä¸º name çš„ zset çš„å…ƒç´ ä¸ªæ•°</td>
          <td>nameï¼š é”®å</td>
          <td>redis.zcard(â€˜gradeâ€™)</td>
          <td>è·å–é”®åä¸º grade çš„ zset ä¸­å…ƒç´ ä¸ªæ•°</td>
          <td>3</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zremrangebyrank(name, min, max)</td>
          <td>åˆ é™¤é”®åä¸º name çš„ zset ä¸­ score åœ¨ ç»™å®šåŒºé—´çš„å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›minï¼š æœ€ä½ scoreï¼›maxï¼š æœ€é«˜ score</td>
          <td>redis.zremrangebyscore(â€˜gradeâ€™, 0, 0)</td>
          <td>åˆ é™¤é”®åä¸º grade çš„ zset ä¸­æ’åç¬¬ä¸€çš„å…ƒç´ </td>
          <td>1ï¼Œå³åˆ é™¤çš„å…ƒç´ ä¸ªæ•°</td>
          <td>Â </td>
        </tr>
        <tr>
          <td>zremrangebyscore(name, min, max)</td>
          <td>åˆ é™¤é”®åä¸º name çš„ zset ä¸­ score åœ¨ ç»™å®šåŒºé—´çš„å…ƒç´ </td>
          <td>nameï¼š é”®åï¼›minï¼š æœ€ä½ scoreï¼›maxï¼š æœ€é«˜ score</td>
          <td>redis.zremrangebyscore(â€˜gradeâ€™, 80, 90)</td>
          <td>åˆ é™¤ score åœ¨80åˆ°90ä¹‹é—´çš„å…ƒç´ </td>
          <td>1ï¼Œå³åˆ é™¤çš„å…ƒç´ ä¸ªæ•°</td>
          <td>Â </td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>æ•£åˆ—æ“ä½œ</p>

    <table>
      <thead>
        <tr>
          <th>æ–¹æ³•</th>
          <th>ä½œç”¨</th>
          <th>å‚æ•°è¯´æ˜</th>
          <th>ç¤ºä¾‹</th>
          <th>ç¤ºä¾‹è¯´æ˜</th>
          <th>ç¤ºä¾‹ç»“æœ</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>hset(name, key, value)</td>
          <td>å‘é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­æ·»åŠ æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›keyï¼š æ˜ å°„é”®åï¼›valueï¼š æ˜ å°„é”®å€¼</td>
          <td>hset(â€˜priceâ€™, â€˜cake, 5)</td>
          <td>å‘é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­æ·»åŠ æ˜ å°„å…³ç³»ï¼Œcakeçš„å€¼ä¸º5</td>
          <td>1ï¼Œå³æ·»åŠ çš„æ˜ å°„ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>hestnx(name, key, value)</td>
          <td>å¦‚æœæ˜ å°„é”®åä¸å­˜åœ¨ï¼Œåˆ™å‘é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­æ·»åŠ æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›keyï¼š æ˜ å°„é”®åï¼›valueï¼š æ˜ å°„é”®å€¼</td>
          <td>hsetnx(â€˜priceâ€™, â€˜bookâ€™, 6)</td>
          <td>å‘é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­æ·»åŠ æ˜ å°„å…³ç³»ï¼Œ bookçš„å€¼ä¸º6</td>
          <td>1ï¼Œå³æ·»åŠ çš„æ˜ å°„ä¸ªæ•°</td>
        </tr>
        <tr>
          <td>hget(name, key)</td>
          <td>è¿”å›é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­ key å¯¹åº”çš„å€¼</td>
          <td>name: é”®åï¼›keyï¼š æ˜ å°„é”®å</td>
          <td>redis.hget(â€™priceâ€™, â€˜cakeâ€™)</td>
          <td>è·å–é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­é”®åä¸º cake çš„å€¼</td>
          <td>5</td>
        </tr>
        <tr>
          <td>hmget(name, keys, *args)</td>
          <td>è¿”å›é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­å„ä¸ªé”®å¯¹åº”çš„å€¼</td>
          <td>nameï¼š é”®åï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.hmget(â€˜priceâ€™, [â€˜appleâ€™, â€˜orangeâ€™])</td>
          <td>è·å–é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­ apple å’Œ orange çš„å€¼</td>
          <td>[bâ€™3â€™, bâ€™7â€™]</td>
        </tr>
        <tr>
          <td>hmset(name, mapping)</td>
          <td>å‘é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­æ‰¹é‡æ·»åŠ æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›mappingï¼š æ˜ å°„å­—å…¸</td>
          <td>redis.hmset(â€˜priceâ€™, {â€˜bananaâ€™: 2, â€˜pearâ€™: 6})</td>
          <td>å‘é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­æ‰¹é‡æ·»åŠ æ˜ å°„</td>
          <td>True</td>
        </tr>
        <tr>
          <td>hincrby(name, key, amount=1)</td>
          <td>å°†é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­çš„æ˜ å°„çš„å€¼å¢åŠ  amount</td>
          <td>nameï¼š é”®åï¼›keyï¼šæ˜ å°„é”®åï¼›amountï¼š å¢é•¿é‡</td>
          <td>redis.hincrby(â€˜priceâ€™, â€˜appleâ€™, 3)</td>
          <td>key ä¸º price çš„æ•£åˆ—è¡¨ä¸­ apple çš„å€¼å¢åŠ 3</td>
          <td>6ï¼Œä¿®æ”¹åçš„å€¼</td>
        </tr>
        <tr>
          <td>hexists(name, key)</td>
          <td>é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­æ˜¯å¦å­˜åœ¨é”®åä¸ºé”®çš„æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›keyï¼š æ˜ å°„é”®å</td>
          <td>redis.hexists(â€˜priceâ€™, â€˜bananaâ€™)</td>
          <td>é”®åä¸º orice çš„æ•£åˆ—è¡¨ä¸­ banana çš„å€¼æ˜¯å¦å­˜åœ¨</td>
          <td>True</td>
        </tr>
        <tr>
          <td>hdel(name, *keys)</td>
          <td>åœ¨é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­ï¼Œåˆ é™¤é”®åä¸ºé”®çš„æ˜ å°„</td>
          <td>nameï¼š é”®åï¼›keysï¼š é”®ååºåˆ—</td>
          <td>redis.hdel(â€˜priceâ€™, â€˜banana)</td>
          <td>ä»é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­åˆ é™¤é”®åä¸º banana çš„æ˜ å°„</td>
          <td>True</td>
        </tr>
        <tr>
          <td>hlen(name)</td>
          <td>åœ¨é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­è·å–æ˜ å°„ä¸ªæ•°</td>
          <td>nameï¼š é”®å</td>
          <td>redis.hlen(â€˜price)</td>
          <td>ä»é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­è·å–æ˜ å°„ä¸ªæ•°</td>
          <td>6</td>
        </tr>
        <tr>
          <td>hkeys(name)</td>
          <td>ä»é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å</td>
          <td>nameï¼š é”®å</td>
          <td>redis.hkeys(â€˜priceâ€™)</td>
          <td>ä»é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å</td>
          <td>[bâ€™cakeâ€™, bâ€™bookâ€™, bâ€™bananaâ€™, bâ€™pearâ€™]</td>
        </tr>
        <tr>
          <td>hvals(name)</td>
          <td>ä»é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å€¼</td>
          <td>nameï¼š é”®å</td>
          <td>redis.hvals(â€˜priceâ€™)</td>
          <td>ä»é”®åä¸º price çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å€¼</td>
          <td>[bâ€™5â€™, bâ€™6â€™, bâ€™2â€™, bâ€™6â€™]</td>
        </tr>
        <tr>
          <td>hgetall(name)</td>
          <td>ä»é”®åä¸º name çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å€¼å¯¹</td>
          <td>name: é”®å</td>
          <td>redis.hgetall(â€˜priceâ€™)</td>
          <td>ä»åŠ å¯†ä¸º price çš„æ•£åˆ—è¡¨ä¸­è·å–æ‰€æœ‰æ˜ å°„é”®å€¼å¯¹</td>
          <td>{bâ€™cakeâ€™: bâ€™5â€™, bâ€™bookâ€™: bâ€™6â€™, bâ€™organeâ€™: bâ€™2â€™, bâ€™pearâ€™: bâ€™6â€™}</td>
        </tr>
      </tbody>
    </table>
  </li>
</ol>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <blockquote>
            <blockquote>
              <p>e5c77ca (æ–°é¡µé¢)</p>
            </blockquote>
          </blockquote>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>
:ET