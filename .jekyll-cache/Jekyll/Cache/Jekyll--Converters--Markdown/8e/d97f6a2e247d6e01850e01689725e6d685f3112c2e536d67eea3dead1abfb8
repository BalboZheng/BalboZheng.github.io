I"sú<p>Â«Â«Â«&lt; HEAD
Â«Â«Â«&lt; HEAD:_posts/2019-11-17-regular-expression.md
â€”
layout:     post
title:      â€œæ­£åˆ™è¡¨è¾¾å¼â€
subtitle:   â€œæ­£åˆ™è¡¨è¾¾å¼â€
date:       2019-11-17 14:06:25
author:     â€œBalboâ€
header-img: â€œimg/post-bg-2019.jpgâ€
tags:
    - reptile
    - java
    - python
â€”
| æ¨¡å¼ | æè¿° |
| â€”- | â€”- |
| \w | åŒ¹é…å­—æ¯ã€æ•°å­—åŠä¸‹åˆ’çº¿ |
| \W | åŒ¹é…å­—æ¯ã€æ•°å­—åŠä¸‹åˆ’çº¿çš„å­—ç¬¦ |
| \s | åŒ¹é…ä»»æ„ç©ºç™½å­—ç¬¦ï¼Œç­‰ä»·äº[\t\n\r\f] |
| \S | åŒ¹é…ä»»æ„éç©ºå­—ç¬¦ |
| \d | åŒ¹é…ä»»æ„æ•°å­—ï¼Œç­‰ä»·äº[0~9] |
| \D | åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦ |
| \A | åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´ |
| \Z | åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ï¼Œå¦‚æœå­˜åœ¨æ¢è¡Œï¼ŒåªåŒ¹é…åˆ°æ¢è¡Œå‰çš„ç»“æŸå­—ç¬¦ä¸² |
| \z | åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ï¼Œå¦‚æœå­˜åœ¨æ¢è¡Œï¼ŒåŒæ—¶è¿˜ä¼šåŒ¹é…æ¢è¡Œç¬¦ |
| \G | åŒ¹é…æœ€ååŒ¹é…å®Œæˆçš„ä½ç½® |
| \n | åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ |
| \t | åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ |
| á¶º | åŒ¹é…ä¸€è¡Œå­—ç¬¦ä¸²çš„å¼€å¤´ |
| $ | åŒ¹é…ä¸€è¡Œå­—ç¬¦ä¸²çš„ç»“å°¾ |
| . | åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œå¤„ç†æ¢è¡Œç¬¦ï¼Œå½“ re.DOTALL æ ‡è®°è¢«æŒ‡å®šæ—¶ï¼Œåˆ™å¯ä»¥åŒ¹é…åŒ…æ‹¬æ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ |
| [â€¦] | ç”¨æ¥è¡¨ç¤ºä¸€ç»„å­—ç¬¦ï¼Œå•ç‹¬åˆ—å‡ºï¼Œæ¯”å¦‚[amk]åŒ¹é… aã€mæˆ–k |
| [á¶ºâ€¦] | ä¸åœ¨[]ä¸­çš„å­—ç¬¦ï¼Œæ¯”å¦‚[á¶ºabc]åŒ¹é…é™¤äº†aã€bã€cä¹‹å¤–çš„å­—ç¬¦ |
| * | åŒ¹é…0ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ |
| + | åŒ¹é…1ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ |
| ? | åŒ¹é…0ä¸ªæˆ–1ä¸ªå‰é¢çš„æ­£åˆ™è¡¨è¾¾å¼å®šä¹‰çš„ç‰‡æ®µï¼Œéè´ªå©ªæ–¹å¼ |
| {n} | ç²¾ç¡®åŒ¹é…nä¸ªå‰é¢çš„è¡¨è¾¾å¼ |
| {n, m} | åŒ¹é…nåˆ°mæ¬¡ç”±å‰é¢æ­£åˆ™è¡¨è¾¾å¼å®šä¹‰çš„ç‰‡æ®µï¼Œè´ªå©ªæ–¹å¼ |
| a|b | åŒ¹é…aæˆ–b |
| () | åŒ¹é…æ‹¬å·å†…çš„è¡¨è¾¾å¼ï¼Œä¹Ÿè¡¨ç¤ºä¸€ä¸ªç»„ |</p>

<h2 id="rematch">re.match</h2>
<p>å°è¯•ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®åŒ¹é…ä¸€ä¸ªæ¨¡å¼ï¼Œå¦‚æœä¸æ˜¯èµ·å§‹ä½ç½®åŒ¹é…æˆåŠŸçš„è¯ï¼Œmatch()å°±è¿”å›noneã€‚</p>

<blockquote>
  <p>re.match(pattern, string, flags=0)</p>
</blockquote>

<p>ä¸‹é¢å±Šé€šè¿‡å®ä¾‹ï¼Œå½¢è±¡çš„ä»‹ç»æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<h3 id="ç²¾å‡†åŒ¹é…">ç²¾å‡†åŒ¹é…</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 123 4567 World_This is a Regex Demo'</span>
<span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">content</span><span class="p">))</span>
<span class="c1"># \s:åŒ¹é…ä»»æ„ç©ºæ ¼å­—ç¬¦ \dï¼šæ•°å­—   \d{4}:åŒ¹é…4ä¸ªæ•°å­— \w{10}:åŒ¹é…10ä¸ªå­—æ¯æ•°å­—ä¸‹åˆ’çº¿
# .åŒ¹é…ä»»æ„å­—ç¬¦  *åŒ¹é…0ä¸ªå¤šä¸ªå‰é¢çš„è¡¨è¾¾å¼ .*å°±æ˜¯åŒ¹é…ä»»æ„éæ¢è¡Œç¬¦çš„å­—ç¬¦ $:ä»¥å®ƒä¹‹å‰çš„è¡¨è¾¾å¼ç»“å°¾
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^Hello\s\d\d\d\s\d{4}\s\w{10}.*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="c1"># åŒ¹é…åˆ°çš„å†…å®¹
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">())</span>
<span class="c1"># åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²åŒºé—´èŒƒå›´
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">span</span><span class="p">())</span>
</code></pre></div></div>
<h3 id="æ³›åŒ¹é…">æ³›åŒ¹é…ï¼š</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 123 4567 World_This is a Regex Demo'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^Hello.*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">span</span><span class="p">())</span>
</code></pre></div></div>
<h3 id="åŒ¹é…æŸä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸²">åŒ¹é…æŸä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸²ï¼š</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 1234567 World_This is a Regex Demo'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^Hello\s(\d+)\sWorld.*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="c1"># è¾“å‡ºçš„æ˜¯ç¬¬ä¸€ä¸ª()ä¸­æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œå³ç›®æ ‡å­—ç¬¦
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">span</span><span class="p">())</span>
</code></pre></div></div>
<h3 id="è´ªå©ªåŒ¹é…">è´ªå©ªåŒ¹é…</h3>

<p>å½“æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰â€œ.â€æ—¶ï¼Œâ€œ.â€ä¼šå°½å¯èƒ½çš„åŒ¹é…æ›´å¤šçš„å­—ç¬¦ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 1234567 World_This is a Regex Demo'</span>
<span class="c1"># '+'åŒ¹é…çš„æ˜¯1ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œæ ¹æ®è´ªå©ªåŒ¹é…è§„åˆ™ï¼Œ123456â€˜å…­ä¸ªæ•°å­—ä¼šè¢«.*â€™åŒ¹é…
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^He.*(\d+).*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="c1"># è¾“å‡ºçš„æ˜¯â€œ7â€ï¼Œè€Œä¸æ˜¯â€œ1234567â€
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div></div>
<p>æ‰€ä»¥ï¼Œè´ªå©ªæ¨¡å¼å¯èƒ½å¯¼è‡´æœ€åçš„ç»“æœç¼ºå°‘ä¸€äº›å­—ç¬¦</p>
<h3 id="éè´ªå©ªåŒ¹é…">éè´ªå©ªåŒ¹é…</h3>

<p>ä½¿å¾—â€˜.â€™å°½å¯èƒ½åŒ¹é…å°‘çš„å­—ç¬¦ï¼Œå³åœ¨â€˜.â€™ååŠ ä¸Šä¸€ä¸ªâ€˜ï¼Ÿâ€™å³å¯ï¼Œâ€˜ï¼Ÿâ€™æŒ‡å®šä¸ºéè´ªå©ªåŒ¹é…</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 1234567 World_This is a Regex Demo'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^He.*?(\d+).*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div></div>
<h3 id="åŒ¹é…æ¨¡å¼">åŒ¹é…æ¨¡å¼</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'''Hello 1234567 World_This#è¿™é‡Œæœ‰ä¸ªæ¢è¡Œç¬¦ï¼Œè€Œ'.*'ä¸€èˆ¬æ˜¯ä¸èƒ½åŒ¹é…æ¢è¡Œç¬¦çš„
is a Regex Demo
'''</span>
<span class="c1"># æŒ‡å®šåŒ¹é…æ¨¡å¼åâ€˜.*â€™å¯ä»¥åŒ¹é…ä»»ä½•å­—ç¬¦
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^He.*?(\d+).*?Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div></div>
<h3 id="è½¬ä¹‰">è½¬ä¹‰</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'price is $5.00'</span>
<span class="c1"># å…³é”®è¯è¦è½¬ä¹‰
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'price is \$5\.00'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></div>
<h3 id="æ€»ç»“">æ€»ç»“</h3>

<p>ä¸Šé¢å°±æ˜¯å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„ä½¿ç”¨ï¼Œæ€»ç»“ï¼š</p>

<ol>
  <li>å°½é‡ä½¿ç”¨æ³›åŒ¹é…</li>
  <li>ä½¿ç”¨æ‹¬å·å¾—åˆ°åŒ¹é…ç›®æ ‡</li>
  <li>å°½é‡ä½¿ç”¨éè´ªå©ªæ¨¡å¼</li>
  <li>æœ‰æ¢è¡Œç¬¦å°±ç”¨re.S</li>
  <li>re.matchå¿…é¡»ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦åŒ¹é…ä¸ä¸Šï¼Œå°±è¿”å›None</li>
</ol>

<blockquote>
  <p>htmlä¸­çš„æ¢è¡Œç¬¦å¾ˆå¤š</p>

  <p>re.serchæ¯”re.matchæ›´å¥½ç”¨</p>
</blockquote>

<h2 id="research">re.search</h2>

<p>re.searchæ˜¯æ‰«ææ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›ç¬¬ä¸€ä¸ªæˆåŠŸçš„åŒ¹é…ã€‚</p>

<p>re.matchç¤ºä¾‹</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Extra stings Hello 1234567 World_This is a Regex Demo Extra stings'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'Hello.*?(\d+).*?Demo'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="c1"># ç”±äºmatchæ²¡æœ‰åŒ¹é…ä¸Šcontentä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ç»“æœæ˜¯None
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></div>
<p>re.searchç¤ºä¾‹</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Extra stings Hello 1234567 World_This is a Regex Demo Extra stings'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'Hello.*?(\d+).*?Demo'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div></div>
<p>æ‰€ä»¥ï¼šå°½é‡ä½¿ç”¨<strong>re.search</strong></p>
<h2 id="researchå®æˆ˜æ¼”ç»ƒ">re.searchå®æˆ˜æ¼”ç»ƒ</h2>

<p>åŒ¹é…å‡ºä¸‹é¢htmlä¸­çš„ï¼š<strong><em>é½ç§¦ å¾€äº‹éšé£</em></strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;&lt;i class="fa fa-user"&gt;&lt;/i&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'&lt;li.*?active.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div></div>
<p>æ³¨æ„ï¼šre.searchæ˜¯è¿”å›çš„æ˜¯ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ä¸‹é¢çš„æ¡ˆä¾‹ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'&lt;li.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div></div>
<p>ä¸Šé¢æ‰“å°çš„æ˜¯ï¼š<strong><em>ä»»è´¤é½ æ²§æµ·ä¸€å£°ç¬‘</em></strong></p>

<p>ä¸ºäº†ä½“ç°å‡ºre.Sçš„ä½œç”¨ï¼Œæˆ‘ä»¬æŠŠre.Så»æ‰è¯•è¯•</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'&lt;li.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div></div>
<p>ä¸Šé¢æ‰“å°çš„æ˜¯ï¼š<strong><em>beyond å…‰è¾‰å²æœˆ</em></strong></p>
<h2 id="refindall">re.findall</h2>

<p>æœç´¢å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨å½¢å¼è¿”å›å…¨éƒ¨èƒ½åŒ¹é…çš„å­ä¸²ã€‚</p>

<p>ä¸‹é¢æ˜¯å…·ä½“çš„å®ä¾‹ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="err">ï¼ƒ</span> <span class="n">ä½¿ç”¨éè´ªå©ªæ¨¡å¼</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">'&lt;li.*?href="(.*?)".*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="c1"># listç±»å‹
</span>    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    [('/2.mp3', 'ä»»è´¤é½', 'æ²§æµ·ä¸€å£°ç¬‘'), ('/3.mp3', 'é½ç§¦', 'å¾€äº‹éšé£'), ('/4.mp3', 'beyond', 'å…‰è¾‰å²æœˆ'), ('/5.mp3', 'é™ˆæ…§ç³', 'è®°äº‹æœ¬'), ('/6.mp3', 'é‚“ä¸½å›', 'ä½†æ„¿äººé•¿ä¹…')]
    ã€€
    &lt;class 'list'&gt;
    ã€€ã€€
    ('/2.mp3', 'ä»»è´¤é½', 'æ²§æµ·ä¸€å£°ç¬‘')
    /2.mp3 ä»»è´¤é½ æ²§æµ·ä¸€å£°ç¬‘ã€€
    ã€€
    ('/3.mp3', 'é½ç§¦', 'å¾€äº‹éšé£')
    /3.mp3 é½ç§¦ å¾€äº‹éšé£
    ã€€
    ('/4.mp3', 'beyond', 'å…‰è¾‰å²æœˆ')ã€€
    /4.mp3 beyond å…‰è¾‰å²æœˆ
    ã€€
    ('/5.mp3', 'é™ˆæ…§ç³', 'è®°äº‹æœ¬')
    /5.mp3 é™ˆæ…§ç³ è®°äº‹æœ¬
    ã€€
    ('/6.mp3', 'é‚“ä¸½å›', 'ä½†æ„¿äººé•¿ä¹…')
    /6.mp3 é‚“ä¸½å› ä½†æ„¿äººé•¿ä¹…
</code></pre></div></div>
<p>ä½†æ˜¯ä¸Šé¢çš„â€œä¸€è·¯æœ‰ä½ â€é‚£é¦–æ­Œæ²¡æœ‰æ£€æµ‹å‡ºæ¥ï¼Œé‚£ä¹ˆå¦‚ä½•åŒ¹é…å‡ºæ‰€æœ‰çš„æ­Œåå‘¢ï¼Ÿ</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># å‰é¢ä»£ç ä¸å˜
</span><span class="n">results</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">'&lt;li.*?&gt;\s*?(&lt;a.*?&gt;)?(\w+)(&lt;/a&gt;)?\s*?&lt;/li&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div></div>

<blockquote>
  <p>æ³¨æ„ï¼š
    åè¾¹å¤šä¸€ä¸ªï¼Ÿè¡¨ç¤ºæ‡’æƒ°æ¨¡å¼ã€‚
    å¿…é¡»è·Ÿåœ¨*æˆ–è€…+åè¾¹ç”¨</p>
</blockquote>

<h3 id="resub">re.sub</h3>

<p>æ›¿æ¢å­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªåŒ¹é…çš„å­ä¸²åè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Extra stings Hello 1234567 World_This is a Regex Demo Extra stings'</span>
<span class="c1"># æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ä½¿ç”¨'replace'ä»£æ›¿ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²
</span><span class="n">content</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'\d+'</span><span class="p">,</span> <span class="s">'replace'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
<span class="c1"># è¾“å‡ºï¼šExtra stings Hello replace World_This is a Regex Demo Extra stings
</span>
</code></pre></div></div>
<p>å¦‚æœæ›¿æ¢æ—¶éœ€è¦ä½¿ç”¨åˆ°åŒ¹é…åˆ°çš„åŸå­—ç¬¦ä¸²ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Extra stings Hello 1234567 World_This is a Regex Demo Extra stings'</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'(\d+)'</span><span class="p">,</span> <span class="sa">r</span><span class="s">'\1 8910'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span><span class="c1">#\1:è¡¨ç¤ºçš„å°±æ˜¯åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²
</span><span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
<span class="c1"># è¾“å‡ºï¼šExtra stings Hello 1234567 8910 World_This is a Regex Demo Extra stings
</span></code></pre></div></div>
<p>è¿™ä¸ªæ›¿æ¢æ“ä½œå¾ˆæœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨æå–ä¹‹å‰ï¼Œå¯ä»¥å±è”½éƒ¨åˆ†å°çš„å·®å¼‚ï¼Œä¾‹å¦‚</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="c1"># '|'è¡¨ç¤ºORï¼ŒåŒ¹é…â€˜|â€™ä¹‹å‰çš„æˆ–ä¹‹åçš„è¡¨è¾¾å¼
</span><span class="n">html</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'&lt;a.*?&gt;|&lt;/a&gt;'</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">'&lt;li.*?&gt;(.*?)&lt;/li&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre></div></div>
<p>åŒ¹é…çš„ç»“æœ</p>

<p>æ‰§è¡Œåçš„ç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
    ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
    &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
    &lt;li data-view="7"&gt;
    æ²§æµ·ä¸€å£°ç¬‘
    &lt;/li&gt;
    &lt;li data-view="4" class="active"&gt;
    å¾€äº‹éšé£
    &lt;/li&gt;
    &lt;li data-view="6"&gt;å…‰è¾‰å²æœˆ&lt;/li&gt;
    &lt;li data-view="5"&gt;è®°äº‹æœ¬&lt;/li&gt;
    &lt;li data-view="5"&gt;
    ä½†æ„¿äººé•¿ä¹…
    &lt;/li&gt;
    &lt;/ul&gt;
    &lt;/div&gt;
</code></pre></div></div>
<p>åœ¨æ›¿æ¢åçš„åŸºç¡€ä¸Šï¼ŒåŒ¹é…æ‰€æœ‰æ­Œæ›²å°±æ˜¾å¾—å¾ˆç®€å•äº†ï¼Œåªéœ€è¦åœ¨æ›¿æ¢åçš„åŸºç¡€ä¸Šæ·»åŠ ä¸‹é¢ä»£ç å°±å¯ä»¥äº†ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">results</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">'&lt;li.*?&gt;(.*?)&lt;/li&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="c1"># å»æ‰å¤šä½™çš„ç©ºæ ¼
</span>    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div></div>
<h2 id="recompile">re.compile</h2>

<p>å°†æ­£åˆ™å­—ç¬¦ä¸²ç¼–è¯‘æˆæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡(æ–¹ä¾¿å¤ç”¨)</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'''Hello 1234567 World_This
is a Regex Demo'''</span>
<span class="c1"># å®šä¹‰æ­£åˆ™
</span><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'Hello.*Demo'</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="c1"># ä½¿ç”¨æ­£åˆ™ï¼Œæ–¹ä¾¿é‡å¤ä½¿ç”¨
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></div>
<p>=======
â€”
layout:     post
title:      â€œæ­£åˆ™è¡¨è¾¾å¼â€
subtitle:   â€œæ­£åˆ™è¡¨è¾¾å¼â€
date:       2019-11-17 14:06:25
author:     â€œBalboâ€
header-img: â€œimg/post-bg-2019.jpgâ€
catalog: true
tags:
    - reptile
    - java
    - python
â€”
=======
â€”
layout: post
title: æ­£åˆ™è¡¨è¾¾å¼
subtitle: 
author: Balbo Cheng
categories: [java, python]
tags: [reptile]
â€”</p>

<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <blockquote>
            <blockquote>
              <p>e5c77ca (æ–°é¡µé¢)
| æ¨¡å¼ | æè¿° |
| â€”- | â€”- |
| \w | åŒ¹é…å­—æ¯ã€æ•°å­—åŠä¸‹åˆ’çº¿ |
| \W | åŒ¹é…å­—æ¯ã€æ•°å­—åŠä¸‹åˆ’çº¿çš„å­—ç¬¦ |
| \s | åŒ¹é…ä»»æ„ç©ºç™½å­—ç¬¦ï¼Œç­‰ä»·äº[\t\n\r\f] |
| \S | åŒ¹é…ä»»æ„éç©ºå­—ç¬¦ |
| \d | åŒ¹é…ä»»æ„æ•°å­—ï¼Œç­‰ä»·äº[0~9] |
| \D | åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦ |
| \A | åŒ¹é…å­—ç¬¦ä¸²å¼€å¤´ |
| \Z | åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ï¼Œå¦‚æœå­˜åœ¨æ¢è¡Œï¼ŒåªåŒ¹é…åˆ°æ¢è¡Œå‰çš„ç»“æŸå­—ç¬¦ä¸² |
| \z | åŒ¹é…å­—ç¬¦ä¸²ç»“å°¾ï¼Œå¦‚æœå­˜åœ¨æ¢è¡Œï¼ŒåŒæ—¶è¿˜ä¼šåŒ¹é…æ¢è¡Œç¬¦ |
| \G | åŒ¹é…æœ€ååŒ¹é…å®Œæˆçš„ä½ç½® |
| \n | åŒ¹é…ä¸€ä¸ªæ¢è¡Œç¬¦ |
| \t | åŒ¹é…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ |
| á¶º | åŒ¹é…ä¸€è¡Œå­—ç¬¦ä¸²çš„å¼€å¤´ |
| $ | åŒ¹é…ä¸€è¡Œå­—ç¬¦ä¸²çš„ç»“å°¾ |
| . | åŒ¹é…ä»»æ„å­—ç¬¦ï¼Œå¤„ç†æ¢è¡Œç¬¦ï¼Œå½“ re.DOTALL æ ‡è®°è¢«æŒ‡å®šæ—¶ï¼Œåˆ™å¯ä»¥åŒ¹é…åŒ…æ‹¬æ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ |
| [â€¦] | ç”¨æ¥è¡¨ç¤ºä¸€ç»„å­—ç¬¦ï¼Œå•ç‹¬åˆ—å‡ºï¼Œæ¯”å¦‚[amk]åŒ¹é… aã€mæˆ–k |
| [á¶ºâ€¦] | ä¸åœ¨[]ä¸­çš„å­—ç¬¦ï¼Œæ¯”å¦‚[á¶ºabc]åŒ¹é…é™¤äº†aã€bã€cä¹‹å¤–çš„å­—ç¬¦ |
| * | åŒ¹é…0ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ |
| + | åŒ¹é…1ä¸ªæˆ–å¤šä¸ªè¡¨è¾¾å¼ |
| ? | åŒ¹é…0ä¸ªæˆ–1ä¸ªå‰é¢çš„æ­£åˆ™è¡¨è¾¾å¼å®šä¹‰çš„ç‰‡æ®µï¼Œéè´ªå©ªæ–¹å¼ |
| {n} | ç²¾ç¡®åŒ¹é…nä¸ªå‰é¢çš„è¡¨è¾¾å¼ |
| {n, m} | åŒ¹é…nåˆ°mæ¬¡ç”±å‰é¢æ­£åˆ™è¡¨è¾¾å¼å®šä¹‰çš„ç‰‡æ®µï¼Œè´ªå©ªæ–¹å¼ |
| a|b | åŒ¹é…aæˆ–b |
| () | åŒ¹é…æ‹¬å·å†…çš„è¡¨è¾¾å¼ï¼Œä¹Ÿè¡¨ç¤ºä¸€ä¸ªç»„ |</p>
            </blockquote>
          </blockquote>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>

<h2 id="rematch-1">re.match</h2>
<p>å°è¯•ä»å­—ç¬¦ä¸²çš„èµ·å§‹ä½ç½®åŒ¹é…ä¸€ä¸ªæ¨¡å¼ï¼Œå¦‚æœä¸æ˜¯èµ·å§‹ä½ç½®åŒ¹é…æˆåŠŸçš„è¯ï¼Œmatch()å°±è¿”å›noneã€‚</p>

<blockquote>
  <p>re.match(pattern, string, flags=0)</p>
</blockquote>

<p>ä¸‹é¢å±Šé€šè¿‡å®ä¾‹ï¼Œå½¢è±¡çš„ä»‹ç»æ­£åˆ™è¡¨è¾¾å¼ï¼š</p>
<h3 id="ç²¾å‡†åŒ¹é…-1">ç²¾å‡†åŒ¹é…</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 123 4567 World_This is a Regex Demo'</span>
<span class="k">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">content</span><span class="p">))</span>
<span class="c1"># \s:åŒ¹é…ä»»æ„ç©ºæ ¼å­—ç¬¦ \dï¼šæ•°å­—   \d{4}:åŒ¹é…4ä¸ªæ•°å­— \w{10}:åŒ¹é…10ä¸ªå­—æ¯æ•°å­—ä¸‹åˆ’çº¿
# .åŒ¹é…ä»»æ„å­—ç¬¦  *åŒ¹é…0ä¸ªå¤šä¸ªå‰é¢çš„è¡¨è¾¾å¼ .*å°±æ˜¯åŒ¹é…ä»»æ„éæ¢è¡Œç¬¦çš„å­—ç¬¦ $:ä»¥å®ƒä¹‹å‰çš„è¡¨è¾¾å¼ç»“å°¾
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^Hello\s\d\d\d\s\d{4}\s\w{10}.*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="c1"># åŒ¹é…åˆ°çš„å†…å®¹
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">())</span>
<span class="c1"># åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²åŒºé—´èŒƒå›´
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">span</span><span class="p">())</span>
</code></pre></div></div>
<h3 id="æ³›åŒ¹é…-1">æ³›åŒ¹é…ï¼š</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 123 4567 World_This is a Regex Demo'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^Hello.*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">())</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">span</span><span class="p">())</span>
</code></pre></div></div>
<h3 id="åŒ¹é…æŸä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸²-1">åŒ¹é…æŸä¸€ä¸ªç›®æ ‡å­—ç¬¦ä¸²ï¼š</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 1234567 World_This is a Regex Demo'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^Hello\s(\d+)\sWorld.*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="c1"># è¾“å‡ºçš„æ˜¯ç¬¬ä¸€ä¸ª()ä¸­æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œå³ç›®æ ‡å­—ç¬¦
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">span</span><span class="p">())</span>
</code></pre></div></div>
<h3 id="è´ªå©ªåŒ¹é…-1">è´ªå©ªåŒ¹é…</h3>

<p>å½“æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰â€œ.â€æ—¶ï¼Œâ€œ.â€ä¼šå°½å¯èƒ½çš„åŒ¹é…æ›´å¤šçš„å­—ç¬¦ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 1234567 World_This is a Regex Demo'</span>
<span class="c1"># '+'åŒ¹é…çš„æ˜¯1ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ï¼Œæ ¹æ®è´ªå©ªåŒ¹é…è§„åˆ™ï¼Œ123456â€˜å…­ä¸ªæ•°å­—ä¼šè¢«.*â€™åŒ¹é…
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^He.*(\d+).*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="c1"># è¾“å‡ºçš„æ˜¯â€œ7â€ï¼Œè€Œä¸æ˜¯â€œ1234567â€
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div></div>
<p>æ‰€ä»¥ï¼Œè´ªå©ªæ¨¡å¼å¯èƒ½å¯¼è‡´æœ€åçš„ç»“æœç¼ºå°‘ä¸€äº›å­—ç¬¦</p>
<h3 id="éè´ªå©ªåŒ¹é…-1">éè´ªå©ªåŒ¹é…</h3>

<p>ä½¿å¾—â€˜.â€™å°½å¯èƒ½åŒ¹é…å°‘çš„å­—ç¬¦ï¼Œå³åœ¨â€˜.â€™ååŠ ä¸Šä¸€ä¸ªâ€˜ï¼Ÿâ€™å³å¯ï¼Œâ€˜ï¼Ÿâ€™æŒ‡å®šä¸ºéè´ªå©ªåŒ¹é…</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Hello 1234567 World_This is a Regex Demo'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^He.*?(\d+).*Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div></div>
<h3 id="åŒ¹é…æ¨¡å¼-1">åŒ¹é…æ¨¡å¼</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'''Hello 1234567 World_This#è¿™é‡Œæœ‰ä¸ªæ¢è¡Œç¬¦ï¼Œè€Œ'.*'ä¸€èˆ¬æ˜¯ä¸èƒ½åŒ¹é…æ¢è¡Œç¬¦çš„
is a Regex Demo
'''</span>
<span class="c1"># æŒ‡å®šåŒ¹é…æ¨¡å¼åâ€˜.*â€™å¯ä»¥åŒ¹é…ä»»ä½•å­—ç¬¦
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'^He.*?(\d+).*?Demo$'</span><span class="p">,</span> <span class="n">content</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div></div>
<h3 id="è½¬ä¹‰-1">è½¬ä¹‰</h3>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'price is $5.00'</span>
<span class="c1"># å…³é”®è¯è¦è½¬ä¹‰
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'price is \$5\.00'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></div>
<h3 id="æ€»ç»“-1">æ€»ç»“</h3>

<p>ä¸Šé¢å°±æ˜¯å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼çš„ä½¿ç”¨ï¼Œæ€»ç»“ï¼š</p>

<ol>
  <li>å°½é‡ä½¿ç”¨æ³›åŒ¹é…</li>
  <li>ä½¿ç”¨æ‹¬å·å¾—åˆ°åŒ¹é…ç›®æ ‡</li>
  <li>å°½é‡ä½¿ç”¨éè´ªå©ªæ¨¡å¼</li>
  <li>æœ‰æ¢è¡Œç¬¦å°±ç”¨re.S</li>
  <li>re.matchå¿…é¡»ä»ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹åŒ¹é…ï¼Œå¦‚æœç¬¬ä¸€ä¸ªå­—ç¬¦åŒ¹é…ä¸ä¸Šï¼Œå°±è¿”å›None</li>
</ol>

<blockquote>
  <p>htmlä¸­çš„æ¢è¡Œç¬¦å¾ˆå¤š</p>

  <p>re.serchæ¯”re.matchæ›´å¥½ç”¨</p>
</blockquote>

<h2 id="research-1">re.search</h2>

<p>re.searchæ˜¯æ‰«ææ•´ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›ç¬¬ä¸€ä¸ªæˆåŠŸçš„åŒ¹é…ã€‚</p>

<p>re.matchç¤ºä¾‹</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Extra stings Hello 1234567 World_This is a Regex Demo Extra stings'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="s">'Hello.*?(\d+).*?Demo'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="c1"># ç”±äºmatchæ²¡æœ‰åŒ¹é…ä¸Šcontentä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ç»“æœæ˜¯None
</span><span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div></div>
<p>re.searchç¤ºä¾‹</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Extra stings Hello 1234567 World_This is a Regex Demo Extra stings'</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'Hello.*?(\d+).*?Demo'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</code></pre></div></div>
<p>æ‰€ä»¥ï¼šå°½é‡ä½¿ç”¨<strong>re.search</strong></p>
<h2 id="researchå®æˆ˜æ¼”ç»ƒ-1">re.searchå®æˆ˜æ¼”ç»ƒ</h2>

<p>åŒ¹é…å‡ºä¸‹é¢htmlä¸­çš„ï¼š<strong><em>é½ç§¦ å¾€äº‹éšé£</em></strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>
<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;&lt;i class="fa fa-user"&gt;&lt;/i&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'&lt;li.*?active.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div></div>
<p>æ³¨æ„ï¼šre.searchæ˜¯è¿”å›çš„æ˜¯ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ä¸‹é¢çš„æ¡ˆä¾‹ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'&lt;li.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div></div>
<p>ä¸Šé¢æ‰“å°çš„æ˜¯ï¼š<strong><em>ä»»è´¤é½ æ²§æµ·ä¸€å£°ç¬‘</em></strong></p>

<p>ä¸ºäº†ä½“ç°å‡ºre.Sçš„ä½œç”¨ï¼Œæˆ‘ä»¬æŠŠre.Så»æ‰è¯•è¯•</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">search</span><span class="p">(</span><span class="s">'&lt;li.*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
<span class="k">if</span> <span class="n">result</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">result</span><span class="p">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
</code></pre></div></div>
<p>ä¸Šé¢æ‰“å°çš„æ˜¯ï¼š<strong><em>beyond å…‰è¾‰å²æœˆ</em></strong></p>
<h2 id="refindall-1">re.findall</h2>

<p>æœç´¢å­—ç¬¦ä¸²ï¼Œä»¥åˆ—è¡¨å½¢å¼è¿”å›å…¨éƒ¨èƒ½åŒ¹é…çš„å­ä¸²ã€‚</p>

<p>ä¸‹é¢æ˜¯å…·ä½“çš„å®ä¾‹ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="err">ï¼ƒ</span> <span class="n">ä½¿ç”¨éè´ªå©ªæ¨¡å¼</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">'&lt;li.*?href="(.*?)".*?singer="(.*?)"&gt;(.*?)&lt;/a&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">results</span><span class="p">))</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="c1"># listç±»å‹
</span>    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">result</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</code></pre></div></div>
<p>è¿è¡Œç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    [('/2.mp3', 'ä»»è´¤é½', 'æ²§æµ·ä¸€å£°ç¬‘'), ('/3.mp3', 'é½ç§¦', 'å¾€äº‹éšé£'), ('/4.mp3', 'beyond', 'å…‰è¾‰å²æœˆ'), ('/5.mp3', 'é™ˆæ…§ç³', 'è®°äº‹æœ¬'), ('/6.mp3', 'é‚“ä¸½å›', 'ä½†æ„¿äººé•¿ä¹…')]
    ã€€
    &lt;class 'list'&gt;
    ã€€ã€€
    ('/2.mp3', 'ä»»è´¤é½', 'æ²§æµ·ä¸€å£°ç¬‘')
    /2.mp3 ä»»è´¤é½ æ²§æµ·ä¸€å£°ç¬‘ã€€
    ã€€
    ('/3.mp3', 'é½ç§¦', 'å¾€äº‹éšé£')
    /3.mp3 é½ç§¦ å¾€äº‹éšé£
    ã€€
    ('/4.mp3', 'beyond', 'å…‰è¾‰å²æœˆ')ã€€
    /4.mp3 beyond å…‰è¾‰å²æœˆ
    ã€€
    ('/5.mp3', 'é™ˆæ…§ç³', 'è®°äº‹æœ¬')
    /5.mp3 é™ˆæ…§ç³ è®°äº‹æœ¬
    ã€€
    ('/6.mp3', 'é‚“ä¸½å›', 'ä½†æ„¿äººé•¿ä¹…')
    /6.mp3 é‚“ä¸½å› ä½†æ„¿äººé•¿ä¹…
</code></pre></div></div>
<p>ä½†æ˜¯ä¸Šé¢çš„â€œä¸€è·¯æœ‰ä½ â€é‚£é¦–æ­Œæ²¡æœ‰æ£€æµ‹å‡ºæ¥ï¼Œé‚£ä¹ˆå¦‚ä½•åŒ¹é…å‡ºæ‰€æœ‰çš„æ­Œåå‘¢ï¼Ÿ</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># å‰é¢ä»£ç ä¸å˜
</span><span class="n">results</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">'&lt;li.*?&gt;\s*?(&lt;a.*?&gt;)?(\w+)(&lt;/a&gt;)?\s*?&lt;/li&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</code></pre></div></div>

<blockquote>
  <p>æ³¨æ„ï¼š
    åè¾¹å¤šä¸€ä¸ªï¼Ÿè¡¨ç¤ºæ‡’æƒ°æ¨¡å¼ã€‚
    å¿…é¡»è·Ÿåœ¨*æˆ–è€…+åè¾¹ç”¨</p>
</blockquote>

<h3 id="resub-1">re.sub</h3>

<p>æ›¿æ¢å­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªåŒ¹é…çš„å­ä¸²åè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²ã€‚</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Extra stings Hello 1234567 World_This is a Regex Demo Extra stings'</span>
<span class="c1"># æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²ä½¿ç”¨'replace'ä»£æ›¿ï¼Œè¿”å›æ›¿æ¢åçš„å­—ç¬¦ä¸²
</span><span class="n">content</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'\d+'</span><span class="p">,</span> <span class="s">'replace'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
<span class="c1"># è¾“å‡ºï¼šExtra stings Hello replace World_This is a Regex Demo Extra stings
</span>
</code></pre></div></div>
<p>å¦‚æœæ›¿æ¢æ—¶éœ€è¦ä½¿ç”¨åˆ°åŒ¹é…åˆ°çš„åŸå­—ç¬¦ä¸²ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'Extra stings Hello 1234567 World_This is a Regex Demo Extra stings'</span>
<span class="n">content</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'(\d+)'</span><span class="p">,</span> <span class="sa">r</span><span class="s">'\1 8910'</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span><span class="c1">#\1:è¡¨ç¤ºçš„å°±æ˜¯åŒ¹é…åˆ°çš„å­—ç¬¦ä¸²
</span><span class="k">print</span><span class="p">(</span><span class="n">content</span><span class="p">)</span>
<span class="c1"># è¾“å‡ºï¼šExtra stings Hello 1234567 8910 World_This is a Regex Demo Extra stings
</span></code></pre></div></div>
<p>è¿™ä¸ªæ›¿æ¢æ“ä½œå¾ˆæœ‰ç”¨ï¼Œå°¤å…¶æ˜¯åœ¨æå–ä¹‹å‰ï¼Œå¯ä»¥å±è”½éƒ¨åˆ†å°çš„å·®å¼‚ï¼Œä¾‹å¦‚</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">html</span> <span class="o">=</span> <span class="s">'''&lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
        ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
        &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
        &lt;li data-view="7"&gt;
            &lt;a href="/2.mp3" singer="ä»»è´¤é½"&gt;æ²§æµ·ä¸€å£°ç¬‘&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="4" class="active"&gt;
            &lt;a href="/3.mp3" singer="é½ç§¦"&gt;å¾€äº‹éšé£&lt;/a&gt;
        &lt;/li&gt;
        &lt;li data-view="6"&gt;&lt;a href="/4.mp3" singer="beyond"&gt;å…‰è¾‰å²æœˆ&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;&lt;a href="/5.mp3" singer="é™ˆæ…§ç³"&gt;è®°äº‹æœ¬&lt;/a&gt;&lt;/li&gt;
        &lt;li data-view="5"&gt;
            &lt;a href="/6.mp3" singer="é‚“ä¸½å›"&gt;ä½†æ„¿äººé•¿ä¹…&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;'''</span>
<span class="c1"># '|'è¡¨ç¤ºORï¼ŒåŒ¹é…â€˜|â€™ä¹‹å‰çš„æˆ–ä¹‹åçš„è¡¨è¾¾å¼
</span><span class="n">html</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">sub</span><span class="p">(</span><span class="s">'&lt;a.*?&gt;|&lt;/a&gt;'</span><span class="p">,</span> <span class="s">''</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">'&lt;li.*?&gt;(.*?)&lt;/li&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">strip</span><span class="p">())</span>
</code></pre></div></div>
<p>åŒ¹é…çš„ç»“æœ</p>

<p>æ‰§è¡Œåçš„ç»“æœï¼š</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    &lt;div id="songs-list"&gt;
    &lt;h2 class="title"&gt;ç»å…¸è€æ­Œ&lt;/h2&gt;
    &lt;p class="introduction"&gt;
    ç»å…¸è€æ­Œåˆ—è¡¨
    &lt;/p&gt;
    &lt;ul id="list" class="list-group"&gt;
    &lt;li data-view="2"&gt;ä¸€è·¯ä¸Šæœ‰ä½ &lt;/li&gt;
    &lt;li data-view="7"&gt;
    æ²§æµ·ä¸€å£°ç¬‘
    &lt;/li&gt;
    &lt;li data-view="4" class="active"&gt;
    å¾€äº‹éšé£
    &lt;/li&gt;
    &lt;li data-view="6"&gt;å…‰è¾‰å²æœˆ&lt;/li&gt;
    &lt;li data-view="5"&gt;è®°äº‹æœ¬&lt;/li&gt;
    &lt;li data-view="5"&gt;
    ä½†æ„¿äººé•¿ä¹…
    &lt;/li&gt;
    &lt;/ul&gt;
    &lt;/div&gt;
</code></pre></div></div>
<p>åœ¨æ›¿æ¢åçš„åŸºç¡€ä¸Šï¼ŒåŒ¹é…æ‰€æœ‰æ­Œæ›²å°±æ˜¾å¾—å¾ˆç®€å•äº†ï¼Œåªéœ€è¦åœ¨æ›¿æ¢åçš„åŸºç¡€ä¸Šæ·»åŠ ä¸‹é¢ä»£ç å°±å¯ä»¥äº†ï¼š</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">results</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="s">'&lt;li.*?&gt;(.*?)&lt;/li&gt;'</span><span class="p">,</span> <span class="n">html</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
<span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
    <span class="c1"># å»æ‰å¤šä½™çš„ç©ºæ ¼
</span>    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span>
</code></pre></div></div>
<h2 id="recompile-1">re.compile</h2>

<p>å°†æ­£åˆ™å­—ç¬¦ä¸²ç¼–è¯‘æˆæ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡(æ–¹ä¾¿å¤ç”¨)</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">re</span>

<span class="n">content</span> <span class="o">=</span> <span class="s">'''Hello 1234567 World_This
is a Regex Demo'''</span>
<span class="c1"># å®šä¹‰æ­£åˆ™
</span><span class="n">pattern</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">'Hello.*Demo'</span><span class="p">,</span> <span class="n">re</span><span class="p">.</span><span class="n">S</span><span class="p">)</span>
<span class="c1"># ä½¿ç”¨æ­£åˆ™ï¼Œæ–¹ä¾¿é‡å¤ä½¿ç”¨
</span><span class="n">result</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="o">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> <span class="n">HEAD</span>
</code></pre></div></div>
<blockquote>
  <blockquote>
    <blockquote>
      <blockquote>
        <blockquote>
          <blockquote>
            <blockquote>
              <h1 id="f0bfe13-new-update_postsçŸ¥è¯†ç‚¹2019-11-17-regular-expressionmd">f0bfe13 (new update):_posts/çŸ¥è¯†ç‚¹/2019-11-17-regular-expression.md</h1>
              <p>```
e5c77ca (æ–°é¡µé¢)</p>
            </blockquote>
          </blockquote>
        </blockquote>
      </blockquote>
    </blockquote>
  </blockquote>
</blockquote>
:ET